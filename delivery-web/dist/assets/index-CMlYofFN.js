(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jh={exports:{}},Us={},Lh={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),o_=Symbol.for("react.portal"),s_=Symbol.for("react.fragment"),a_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),d_=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),f_=Symbol.for("react.memo"),p_=Symbol.for("react.lazy"),ad=Symbol.iterator;function m_(e){return e===null||typeof e!="object"?null:(e=ad&&e[ad]||e["@@iterator"],typeof e=="function"?e:null)}var Ch={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kh=Object.assign,Th={};function $i(e,t,i){this.props=e,this.context=t,this.refs=Th,this.updater=i||Ch}$i.prototype.isReactComponent={};$i.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bh(){}bh.prototype=$i.prototype;function mu(e,t,i){this.props=e,this.context=t,this.refs=Th,this.updater=i||Ch}var _u=mu.prototype=new bh;_u.constructor=mu;kh(_u,$i.prototype);_u.isPureReactComponent=!0;var ld=Array.isArray,Mh=Object.prototype.hasOwnProperty,gu={current:null},Oh={key:!0,ref:!0,__self:!0,__source:!0};function Ih(e,t,i){var o,a={},u=null,d=null;if(t!=null)for(o in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(u=""+t.key),t)Mh.call(t,o)&&!Oh.hasOwnProperty(o)&&(a[o]=t[o]);var f=arguments.length-2;if(f===1)a.children=i;else if(1<f){for(var p=Array(f),_=0;_<f;_++)p[_]=arguments[_+2];a.children=p}if(e&&e.defaultProps)for(o in f=e.defaultProps,f)a[o]===void 0&&(a[o]=f[o]);return{$$typeof:Jr,type:e,key:u,ref:d,props:a,_owner:gu.current}}function __(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function g_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var ud=/\/+/g;function Za(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g_(""+e.key):t.toString(36)}function is(e,t,i,o,a){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(u){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case Jr:case o_:d=!0}}if(d)return d=e,a=a(d),e=o===""?"."+Za(d,0):o,ld(a)?(i="",e!=null&&(i=e.replace(ud,"$&/")+"/"),is(a,t,i,"",function(_){return _})):a!=null&&(vu(a)&&(a=__(a,i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(ud,"$&/")+"/")+e)),t.push(a)),1;if(d=0,o=o===""?".":o+":",ld(e))for(var f=0;f<e.length;f++){u=e[f];var p=o+Za(u,f);d+=is(u,t,i,p,a)}else if(p=m_(e),typeof p=="function")for(e=p.call(e),f=0;!(u=e.next()).done;)u=u.value,p=o+Za(u,f++),d+=is(u,t,i,p,a);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Oo(e,t,i){if(e==null)return e;var o=[],a=0;return is(e,o,"","",function(u){return t.call(i,u,a++)}),o}function v_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},rs={transition:null},y_={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:rs,ReactCurrentOwner:gu};function zh(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Oo,forEach:function(e,t,i){Oo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!vu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=$i;de.Fragment=s_;de.Profiler=l_;de.PureComponent=mu;de.StrictMode=a_;de.Suspense=h_;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_;de.act=zh;de.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=kh({},e.props),a=e.key,u=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,d=gu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(p in t)Mh.call(t,p)&&!Oh.hasOwnProperty(p)&&(o[p]=t[p]===void 0&&f!==void 0?f[p]:t[p])}var p=arguments.length-2;if(p===1)o.children=i;else if(1<p){f=Array(p);for(var _=0;_<p;_++)f[_]=arguments[_+2];o.children=f}return{$$typeof:Jr,type:e.type,key:a,ref:u,props:o,_owner:d}};de.createContext=function(e){return e={$$typeof:c_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u_,_context:e},e.Consumer=e};de.createElement=Ih;de.createFactory=function(e){var t=Ih.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:d_,render:e}};de.isValidElement=vu;de.lazy=function(e){return{$$typeof:p_,_payload:{_status:-1,_result:e},_init:v_}};de.memo=function(e,t){return{$$typeof:f_,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=rs.transition;rs.transition={};try{e()}finally{rs.transition=t}};de.unstable_act=zh;de.useCallback=function(e,t){return nt.current.useCallback(e,t)};de.useContext=function(e){return nt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};de.useEffect=function(e,t){return nt.current.useEffect(e,t)};de.useId=function(){return nt.current.useId()};de.useImperativeHandle=function(e,t,i){return nt.current.useImperativeHandle(e,t,i)};de.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return nt.current.useMemo(e,t)};de.useReducer=function(e,t,i){return nt.current.useReducer(e,t,i)};de.useRef=function(e){return nt.current.useRef(e)};de.useState=function(e){return nt.current.useState(e)};de.useSyncExternalStore=function(e,t,i){return nt.current.useSyncExternalStore(e,t,i)};de.useTransition=function(){return nt.current.useTransition()};de.version="18.3.1";Lh.exports=de;var w=Lh.exports;const ms=r_(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_=w,w_=Symbol.for("react.element"),S_=Symbol.for("react.fragment"),E_=Object.prototype.hasOwnProperty,P_=x_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N_={key:!0,ref:!0,__self:!0,__source:!0};function Rh(e,t,i){var o,a={},u=null,d=null;i!==void 0&&(u=""+i),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(d=t.ref);for(o in t)E_.call(t,o)&&!N_.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)a[o]===void 0&&(a[o]=t[o]);return{$$typeof:w_,type:e,key:u,ref:d,props:a,_owner:P_.current}}Us.Fragment=S_;Us.jsx=Rh;Us.jsxs=Rh;jh.exports=Us;var l=jh.exports,xl={},Ah={exports:{}},pt={},Dh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,q){var A=O.length;O.push(q);e:for(;0<A;){var Q=A-1>>>1,ce=O[Q];if(0<a(ce,q))O[Q]=q,O[A]=ce,A=Q;else break e}}function i(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var q=O[0],A=O.pop();if(A!==q){O[0]=A;e:for(var Q=0,ce=O.length,ye=ce>>>1;Q<ye;){var he=2*(Q+1)-1,ae=O[he],ne=he+1,Me=O[ne];if(0>a(ae,A))ne<ce&&0>a(Me,ae)?(O[Q]=Me,O[ne]=A,Q=ne):(O[Q]=ae,O[he]=A,Q=he);else if(ne<ce&&0>a(Me,A))O[Q]=Me,O[ne]=A,Q=ne;else break e}}return q}function a(O,q){var A=O.sortIndex-q.sortIndex;return A!==0?A:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var p=[],_=[],S=1,P=null,N=3,j=!1,C=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var q=i(_);q!==null;){if(q.callback===null)o(_);else if(q.startTime<=O)o(_),q.sortIndex=q.expirationTime,t(p,q);else break;q=i(_)}}function T(O){if(E=!1,x(O),!C)if(i(p)!==null)C=!0,te(B);else{var q=i(_);q!==null&&W(T,q.startTime-O)}}function B(O,q){C=!1,E&&(E=!1,v(H),H=-1),j=!0;var A=N;try{for(x(q),P=i(p);P!==null&&(!(P.expirationTime>q)||O&&!U());){var Q=P.callback;if(typeof Q=="function"){P.callback=null,N=P.priorityLevel;var ce=Q(P.expirationTime<=q);q=e.unstable_now(),typeof ce=="function"?P.callback=ce:P===i(p)&&o(p),x(q)}else o(p);P=i(p)}if(P!==null)var ye=!0;else{var he=i(_);he!==null&&W(T,he.startTime-q),ye=!1}return ye}finally{P=null,N=A,j=!1}}var R=!1,z=null,H=-1,ee=5,Y=-1;function U(){return!(e.unstable_now()-Y<ee)}function X(){if(z!==null){var O=e.unstable_now();Y=O;var q=!0;try{q=z(!0,O)}finally{q?Z():(R=!1,z=null)}}else R=!1}var Z;if(typeof g=="function")Z=function(){g(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,oe=V.port2;V.port1.onmessage=X,Z=function(){oe.postMessage(null)}}else Z=function(){I(X,0)};function te(O){z=O,R||(R=!0,Z())}function W(O,q){H=I(function(){O(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){C||j||(C=!0,te(B))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return i(p)},e.unstable_next=function(O){switch(N){case 1:case 2:case 3:var q=3;break;default:q=N}var A=N;N=q;try{return O()}finally{N=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var A=N;N=O;try{return q()}finally{N=A}},e.unstable_scheduleCallback=function(O,q,A){var Q=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,O){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=A+ce,O={id:S++,callback:q,priorityLevel:O,startTime:A,expirationTime:ce,sortIndex:-1},A>Q?(O.sortIndex=A,t(_,O),i(p)===null&&O===i(_)&&(E?(v(H),H=-1):E=!0,W(T,A-Q))):(O.sortIndex=ce,t(p,O),C||j||(C=!0,te(B))),O},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(O){var q=N;return function(){var A=N;N=q;try{return O.apply(this,arguments)}finally{N=A}}}})(Bh);Dh.exports=Bh;var j_=Dh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=w,ft=j_;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fh=new Set,Rr={};function ii(e,t){Bi(e,t),Bi(e+"Capture",t)}function Bi(e,t){for(Rr[e]=t,e=0;e<t.length;e++)Fh.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=Object.prototype.hasOwnProperty,C_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cd={},dd={};function k_(e){return wl.call(dd,e)?!0:wl.call(cd,e)?!1:C_.test(e)?dd[e]=!0:(cd[e]=!0,!1)}function T_(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b_(e,t,i,o){if(t===null||typeof t>"u"||T_(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,i,o,a,u,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=d}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var yu=/[\-:]([a-z])/g;function xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yu,xu);$e[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yu,xu);$e[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yu,xu);$e[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function wu(e,t,i,o){var a=$e.hasOwnProperty(t)?$e[t]:null;(a!==null?a.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b_(t,i,a,o)&&(i=null),o||a===null?k_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(t=a.attributeName,o=a.attributeNamespace,i===null?e.removeAttribute(t):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var un=L_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Io=Symbol.for("react.element"),wi=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),Su=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Zh=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),Eu=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),Pu=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Hh=Symbol.for("react.offscreen"),hd=Symbol.iterator;function mr(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,Ua;function Er(e){if(Ua===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ua=t&&t[1]||""}return`
`+Ua+e}var Ha=!1;function Va(e,t){if(!e||Ha)return"";Ha=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var o=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){o=_}e.call(t.prototype)}else{try{throw Error()}catch(_){o=_}e()}}catch(_){if(_&&o&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),u=o.stack.split(`
`),d=a.length-1,f=u.length-1;1<=d&&0<=f&&a[d]!==u[f];)f--;for(;1<=d&&0<=f;d--,f--)if(a[d]!==u[f]){if(d!==1||f!==1)do if(d--,f--,0>f||a[d]!==u[f]){var p=`
`+a[d].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=d&&0<=f);break}}}finally{Ha=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Er(e):""}function M_(e){switch(e.tag){case 5:return Er(e.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return e=Va(e.type,!1),e;case 11:return e=Va(e.type.render,!1),e;case 1:return e=Va(e.type,!0),e;default:return""}}function Nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Si:return"Fragment";case wi:return"Portal";case Sl:return"Profiler";case Su:return"StrictMode";case El:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uh:return(e.displayName||"Context")+".Consumer";case Zh:return(e._context.displayName||"Context")+".Provider";case Eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pu:return t=e.displayName||null,t!==null?t:Nl(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return Nl(e(t))}catch{}}return null}function O_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(t);case 8:return t===Su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I_(e){var t=Vh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){o=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(d){o=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zo(e){e._valueTracker||(e._valueTracker=I_(e))}function Wh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Vh(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var i=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function fd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=On(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gh(e,t){t=t.checked,t!=null&&wu(e,"checked",t,!1)}function Ll(e,t){Gh(e,t);var i=On(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cl(e,t.type,i):t.hasOwnProperty("defaultValue")&&Cl(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Cl(e,t,i){(t!=="number"||_s(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Pr=Array.isArray;function Oi(e,t,i,o){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&o&&(e[i].defaultSelected=!0)}else{for(i=""+On(i),t=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,o&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function kl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function md(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(F(92));if(Pr(i)){if(1<i.length)throw Error(F(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:On(i)}}function $h(e,t){var i=On(t.value),o=On(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function _d(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ro,Kh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,a){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ar(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z_=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(e){z_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lr[t]=Lr[e]})});function Qh(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Lr.hasOwnProperty(e)&&Lr[e]?(""+t).trim():t+"px"}function Yh(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,a=Qh(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,a):e[i]=a}}var R_=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bl(e,t){if(t){if(R_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Ml(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function Nu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,Ii=null,zi=null;function gd(e){if(e=no(e)){if(typeof Il!="function")throw Error(F(280));var t=e.stateNode;t&&(t=$s(t),Il(e.stateNode,e.type,t))}}function Xh(e){Ii?zi?zi.push(e):zi=[e]:Ii=e}function Jh(){if(Ii){var e=Ii,t=zi;if(zi=Ii=null,gd(e),t)for(e=0;e<t.length;e++)gd(t[e])}}function ef(e,t){return e(t)}function tf(){}var Wa=!1;function nf(e,t,i){if(Wa)return e(t,i);Wa=!0;try{return ef(e,t,i)}finally{Wa=!1,(Ii!==null||zi!==null)&&(tf(),Jh())}}function Dr(e,t){var i=e.stateNode;if(i===null)return null;var o=$s(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(F(231,t,typeof i));return i}var zl=!1;if(on)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){zl=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{zl=!1}function A_(e,t,i,o,a,u,d,f,p){var _=Array.prototype.slice.call(arguments,3);try{t.apply(i,_)}catch(S){this.onError(S)}}var Cr=!1,gs=null,vs=!1,Rl=null,D_={onError:function(e){Cr=!0,gs=e}};function B_(e,t,i,o,a,u,d,f,p){Cr=!1,gs=null,A_.apply(D_,arguments)}function F_(e,t,i,o,a,u,d,f,p){if(B_.apply(this,arguments),Cr){if(Cr){var _=gs;Cr=!1,gs=null}else throw Error(F(198));vs||(vs=!0,Rl=_)}}function ri(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function rf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vd(e){if(ri(e)!==e)throw Error(F(188))}function Z_(e){var t=e.alternate;if(!t){if(t=ri(e),t===null)throw Error(F(188));return t!==e?null:e}for(var i=e,o=t;;){var a=i.return;if(a===null)break;var u=a.alternate;if(u===null){if(o=a.return,o!==null){i=o;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===i)return vd(a),e;if(u===o)return vd(a),t;u=u.sibling}throw Error(F(188))}if(i.return!==o.return)i=a,o=u;else{for(var d=!1,f=a.child;f;){if(f===i){d=!0,i=a,o=u;break}if(f===o){d=!0,o=a,i=u;break}f=f.sibling}if(!d){for(f=u.child;f;){if(f===i){d=!0,i=u,o=a;break}if(f===o){d=!0,o=u,i=a;break}f=f.sibling}if(!d)throw Error(F(189))}}if(i.alternate!==o)throw Error(F(190))}if(i.tag!==3)throw Error(F(188));return i.stateNode.current===i?e:t}function of(e){return e=Z_(e),e!==null?sf(e):null}function sf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sf(e);if(t!==null)return t;e=e.sibling}return null}var af=ft.unstable_scheduleCallback,yd=ft.unstable_cancelCallback,U_=ft.unstable_shouldYield,H_=ft.unstable_requestPaint,ze=ft.unstable_now,V_=ft.unstable_getCurrentPriorityLevel,ju=ft.unstable_ImmediatePriority,lf=ft.unstable_UserBlockingPriority,ys=ft.unstable_NormalPriority,W_=ft.unstable_LowPriority,uf=ft.unstable_IdlePriority,Hs=null,Wt=null;function G_(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Hs,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:K_,$_=Math.log,q_=Math.LN2;function K_(e){return e>>>=0,e===0?32:31-($_(e)/q_|0)|0}var Ao=64,Do=4194304;function Nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,a=e.suspendedLanes,u=e.pingedLanes,d=i&268435455;if(d!==0){var f=d&~a;f!==0?o=Nr(f):(u&=d,u!==0&&(o=Nr(u)))}else d=i&~a,d!==0?o=Nr(d):u!==0&&(o=Nr(u));if(o===0)return 0;if(t!==0&&t!==o&&!(t&a)&&(a=o&-o,u=t&-t,a>=u||a===16&&(u&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Ot(t),a=1<<i,o|=e[i],t&=~a;return o}function Q_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y_(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var d=31-Ot(u),f=1<<d,p=a[d];p===-1?(!(f&i)||f&o)&&(a[d]=Q_(f,t)):p<=t&&(e.expiredLanes|=f),u&=~f}}function Al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cf(){var e=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),e}function Ga(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function eo(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=i}function X_(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-Ot(i),u=1<<a;t[a]=0,o[a]=-1,e[a]=-1,i&=~u}}function Lu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ot(i),a=1<<o;a&t|e[o]&t&&(e[o]|=t),i&=~a}}var ve=0;function df(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hf,Cu,ff,pf,mf,Dl=!1,Bo=[],Nn=null,jn=null,Ln=null,Br=new Map,Fr=new Map,xn=[],J_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function gr(e,t,i,o,a,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:u,targetContainers:[a]},t!==null&&(t=no(t),t!==null&&Cu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function eg(e,t,i,o,a){switch(t){case"focusin":return Nn=gr(Nn,e,t,i,o,a),!0;case"dragenter":return jn=gr(jn,e,t,i,o,a),!0;case"mouseover":return Ln=gr(Ln,e,t,i,o,a),!0;case"pointerover":var u=a.pointerId;return Br.set(u,gr(Br.get(u)||null,e,t,i,o,a)),!0;case"gotpointercapture":return u=a.pointerId,Fr.set(u,gr(Fr.get(u)||null,e,t,i,o,a)),!0}return!1}function _f(e){var t=$n(e.target);if(t!==null){var i=ri(t);if(i!==null){if(t=i.tag,t===13){if(t=rf(i),t!==null){e.blockedOn=t,mf(e.priority,function(){ff(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Ol=o,i.target.dispatchEvent(o),Ol=null}else return t=no(i),t!==null&&Cu(t),e.blockedOn=i,!1;t.shift()}return!0}function wd(e,t,i){os(e)&&i.delete(t)}function tg(){Dl=!1,Nn!==null&&os(Nn)&&(Nn=null),jn!==null&&os(jn)&&(jn=null),Ln!==null&&os(Ln)&&(Ln=null),Br.forEach(wd),Fr.forEach(wd)}function vr(e,t){e.blockedOn===t&&(e.blockedOn=null,Dl||(Dl=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,tg)))}function Zr(e){function t(a){return vr(a,e)}if(0<Bo.length){vr(Bo[0],e);for(var i=1;i<Bo.length;i++){var o=Bo[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Nn!==null&&vr(Nn,e),jn!==null&&vr(jn,e),Ln!==null&&vr(Ln,e),Br.forEach(t),Fr.forEach(t),i=0;i<xn.length;i++)o=xn[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<xn.length&&(i=xn[0],i.blockedOn===null);)_f(i),i.blockedOn===null&&xn.shift()}var Ri=un.ReactCurrentBatchConfig,ws=!0;function ng(e,t,i,o){var a=ve,u=Ri.transition;Ri.transition=null;try{ve=1,ku(e,t,i,o)}finally{ve=a,Ri.transition=u}}function ig(e,t,i,o){var a=ve,u=Ri.transition;Ri.transition=null;try{ve=4,ku(e,t,i,o)}finally{ve=a,Ri.transition=u}}function ku(e,t,i,o){if(ws){var a=Bl(e,t,i,o);if(a===null)nl(e,t,o,Ss,i),xd(e,o);else if(eg(a,e,t,i,o))o.stopPropagation();else if(xd(e,o),t&4&&-1<J_.indexOf(e)){for(;a!==null;){var u=no(a);if(u!==null&&hf(u),u=Bl(e,t,i,o),u===null&&nl(e,t,o,Ss,i),u===a)break;a=u}a!==null&&o.stopPropagation()}else nl(e,t,o,null,i)}}var Ss=null;function Bl(e,t,i,o){if(Ss=null,e=Nu(o),e=$n(e),e!==null)if(t=ri(e),t===null)e=null;else if(i=t.tag,i===13){if(e=rf(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ss=e,null}function gf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V_()){case ju:return 1;case lf:return 4;case ys:case W_:return 16;case uf:return 536870912;default:return 16}default:return 16}}var Sn=null,Tu=null,ss=null;function vf(){if(ss)return ss;var e,t=Tu,i=t.length,o,a="value"in Sn?Sn.value:Sn.textContent,u=a.length;for(e=0;e<i&&t[e]===a[e];e++);var d=i-e;for(o=1;o<=d&&t[i-o]===a[u-o];o++);return ss=a.slice(e,1<o?1-o:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fo(){return!0}function Sd(){return!1}function mt(e){function t(i,o,a,u,d){this._reactName=i,this._targetInst=a,this.type=o,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(i=e[f],this[f]=i?i(u):u[f]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Fo:Sd,this.isPropagationStopped=Sd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),t}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=mt(qi),to=be({},qi,{view:0,detail:0}),rg=mt(to),$a,qa,yr,Vs=be({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?($a=e.screenX-yr.screenX,qa=e.screenY-yr.screenY):qa=$a=0,yr=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:qa}}),Ed=mt(Vs),og=be({},Vs,{dataTransfer:0}),sg=mt(og),ag=be({},to,{relatedTarget:0}),Ka=mt(ag),lg=be({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=mt(lg),cg=be({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=mt(cg),hg=be({},qi,{data:0}),Pd=mt(hg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function Mu(){return _g}var gg=be({},to,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=mt(gg),yg=be({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=mt(yg),xg=be({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),wg=mt(xg),Sg=be({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=mt(Sg),Pg=be({},Vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ng=mt(Pg),jg=[9,13,27,32],Ou=on&&"CompositionEvent"in window,kr=null;on&&"documentMode"in document&&(kr=document.documentMode);var Lg=on&&"TextEvent"in window&&!kr,yf=on&&(!Ou||kr&&8<kr&&11>=kr),jd=" ",Ld=!1;function xf(e,t){switch(e){case"keyup":return jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function Cg(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(Ld=!0,jd);case"textInput":return e=t.data,e===jd&&Ld?null:e;default:return null}}function kg(e,t){if(Ei)return e==="compositionend"||!Ou&&xf(e,t)?(e=vf(),ss=Tu=Sn=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tg[e.type]:t==="textarea"}function Sf(e,t,i,o){Xh(o),t=Es(t,"onChange"),0<t.length&&(i=new bu("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Tr=null,Ur=null;function bg(e){Of(e,0)}function Ws(e){var t=ji(e);if(Wh(t))return e}function Mg(e,t){if(e==="change")return t}var Ef=!1;if(on){var Qa;if(on){var Ya="oninput"in document;if(!Ya){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Ya=typeof kd.oninput=="function"}Qa=Ya}else Qa=!1;Ef=Qa&&(!document.documentMode||9<document.documentMode)}function Td(){Tr&&(Tr.detachEvent("onpropertychange",Pf),Ur=Tr=null)}function Pf(e){if(e.propertyName==="value"&&Ws(Ur)){var t=[];Sf(t,Ur,e,Nu(e)),nf(bg,t)}}function Og(e,t,i){e==="focusin"?(Td(),Tr=t,Ur=i,Tr.attachEvent("onpropertychange",Pf)):e==="focusout"&&Td()}function Ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Ur)}function zg(e,t){if(e==="click")return Ws(t)}function Rg(e,t){if(e==="input"||e==="change")return Ws(t)}function Ag(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Ag;function Hr(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var a=i[o];if(!wl.call(t,a)||!zt(e[a],t[a]))return!1}return!0}function bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var i=bd(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=bd(i)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(){for(var e=window,t=_s();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=_s(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dg(e){var t=jf(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Nf(i.ownerDocument.documentElement,i)){if(o!==null&&Iu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,u=Math.min(o.start,a);o=o.end===void 0?u:Math.min(o.end,a),!e.extend&&u>o&&(a=o,o=u,u=a),a=Md(i,u);var d=Md(i,o);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),u>o?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bg=on&&"documentMode"in document&&11>=document.documentMode,Pi=null,Fl=null,br=null,Zl=!1;function Od(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Zl||Pi==null||Pi!==_s(o)||(o=Pi,"selectionStart"in o&&Iu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),br&&Hr(br,o)||(br=o,o=Es(Fl,"onSelect"),0<o.length&&(t=new bu("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Pi)))}function Zo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ni={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Xa={},Lf={};on&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Gs(e){if(Xa[e])return Xa[e];if(!Ni[e])return e;var t=Ni[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Lf)return Xa[e]=t[i];return e}var Cf=Gs("animationend"),kf=Gs("animationiteration"),Tf=Gs("animationstart"),bf=Gs("transitionend"),Mf=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Mf.set(e,t),ii(t,[e])}for(var Ja=0;Ja<Id.length;Ja++){var el=Id[Ja],Fg=el.toLowerCase(),Zg=el[0].toUpperCase()+el.slice(1);zn(Fg,"on"+Zg)}zn(Cf,"onAnimationEnd");zn(kf,"onAnimationIteration");zn(Tf,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(bf,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function zd(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,F_(o,t,void 0,e),e.currentTarget=null}function Of(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],a=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var d=o.length-1;0<=d;d--){var f=o[d],p=f.instance,_=f.currentTarget;if(f=f.listener,p!==u&&a.isPropagationStopped())break e;zd(a,f,_),u=p}else for(d=0;d<o.length;d++){if(f=o[d],p=f.instance,_=f.currentTarget,f=f.listener,p!==u&&a.isPropagationStopped())break e;zd(a,f,_),u=p}}}if(vs)throw e=Rl,vs=!1,Rl=null,e}function Pe(e,t){var i=t[Gl];i===void 0&&(i=t[Gl]=new Set);var o=e+"__bubble";i.has(o)||(If(t,e,2,!1),i.add(o))}function tl(e,t,i){var o=0;t&&(o|=4),If(i,e,o,t)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Uo]){e[Uo]=!0,Fh.forEach(function(i){i!=="selectionchange"&&(Ug.has(i)||tl(i,!1,e),tl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uo]||(t[Uo]=!0,tl("selectionchange",!1,t))}}function If(e,t,i,o){switch(gf(t)){case 1:var a=ng;break;case 4:a=ig;break;default:a=ku}i=a.bind(null,t,i,e),a=void 0,!zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),o?a!==void 0?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):a!==void 0?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function nl(e,t,i,o,a){var u=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var d=o.tag;if(d===3||d===4){var f=o.stateNode.containerInfo;if(f===a||f.nodeType===8&&f.parentNode===a)break;if(d===4)for(d=o.return;d!==null;){var p=d.tag;if((p===3||p===4)&&(p=d.stateNode.containerInfo,p===a||p.nodeType===8&&p.parentNode===a))return;d=d.return}for(;f!==null;){if(d=$n(f),d===null)return;if(p=d.tag,p===5||p===6){o=u=d;continue e}f=f.parentNode}}o=o.return}nf(function(){var _=u,S=Nu(i),P=[];e:{var N=Mf.get(e);if(N!==void 0){var j=bu,C=e;switch(e){case"keypress":if(as(i)===0)break e;case"keydown":case"keyup":j=vg;break;case"focusin":C="focus",j=Ka;break;case"focusout":C="blur",j=Ka;break;case"beforeblur":case"afterblur":j=Ka;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=wg;break;case Cf:case kf:case Tf:j=ug;break;case bf:j=Eg;break;case"scroll":j=rg;break;case"wheel":j=Ng;break;case"copy":case"cut":case"paste":j=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Nd}var E=(t&4)!==0,I=!E&&e==="scroll",v=E?N!==null?N+"Capture":null:N;E=[];for(var g=_,x;g!==null;){x=g;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,v!==null&&(T=Dr(g,v),T!=null&&E.push(Wr(g,T,x)))),I)break;g=g.return}0<E.length&&(N=new j(N,C,null,i,S),P.push({event:N,listeners:E}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",N&&i!==Ol&&(C=i.relatedTarget||i.fromElement)&&($n(C)||C[sn]))break e;if((j||N)&&(N=S.window===S?S:(N=S.ownerDocument)?N.defaultView||N.parentWindow:window,j?(C=i.relatedTarget||i.toElement,j=_,C=C?$n(C):null,C!==null&&(I=ri(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(j=null,C=_),j!==C)){if(E=Ed,T="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(E=Nd,T="onPointerLeave",v="onPointerEnter",g="pointer"),I=j==null?N:ji(j),x=C==null?N:ji(C),N=new E(T,g+"leave",j,i,S),N.target=I,N.relatedTarget=x,T=null,$n(S)===_&&(E=new E(v,g+"enter",C,i,S),E.target=x,E.relatedTarget=I,T=E),I=T,j&&C)t:{for(E=j,v=C,g=0,x=E;x;x=xi(x))g++;for(x=0,T=v;T;T=xi(T))x++;for(;0<g-x;)E=xi(E),g--;for(;0<x-g;)v=xi(v),x--;for(;g--;){if(E===v||v!==null&&E===v.alternate)break t;E=xi(E),v=xi(v)}E=null}else E=null;j!==null&&Rd(P,N,j,E,!1),C!==null&&I!==null&&Rd(P,I,C,E,!0)}}e:{if(N=_?ji(_):window,j=N.nodeName&&N.nodeName.toLowerCase(),j==="select"||j==="input"&&N.type==="file")var B=Mg;else if(Cd(N))if(Ef)B=Rg;else{B=Ig;var R=Og}else(j=N.nodeName)&&j.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(B=zg);if(B&&(B=B(e,_))){Sf(P,B,i,S);break e}R&&R(e,N,_),e==="focusout"&&(R=N._wrapperState)&&R.controlled&&N.type==="number"&&Cl(N,"number",N.value)}switch(R=_?ji(_):window,e){case"focusin":(Cd(R)||R.contentEditable==="true")&&(Pi=R,Fl=_,br=null);break;case"focusout":br=Fl=Pi=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Od(P,i,S);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":Od(P,i,S)}var z;if(Ou)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Ei?xf(e,i)&&(H="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(H="onCompositionStart");H&&(yf&&i.locale!=="ko"&&(Ei||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ei&&(z=vf()):(Sn=S,Tu="value"in Sn?Sn.value:Sn.textContent,Ei=!0)),R=Es(_,H),0<R.length&&(H=new Pd(H,e,null,i,S),P.push({event:H,listeners:R}),z?H.data=z:(z=wf(i),z!==null&&(H.data=z)))),(z=Lg?Cg(e,i):kg(e,i))&&(_=Es(_,"onBeforeInput"),0<_.length&&(S=new Pd("onBeforeInput","beforeinput",null,i,S),P.push({event:S,listeners:_}),S.data=z))}Of(P,t)})}function Wr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Es(e,t){for(var i=t+"Capture",o=[];e!==null;){var a=e,u=a.stateNode;a.tag===5&&u!==null&&(a=u,u=Dr(e,i),u!=null&&o.unshift(Wr(e,u,a)),u=Dr(e,t),u!=null&&o.push(Wr(e,u,a))),e=e.return}return o}function xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rd(e,t,i,o,a){for(var u=t._reactName,d=[];i!==null&&i!==o;){var f=i,p=f.alternate,_=f.stateNode;if(p!==null&&p===o)break;f.tag===5&&_!==null&&(f=_,a?(p=Dr(i,u),p!=null&&d.unshift(Wr(i,p,f))):a||(p=Dr(i,u),p!=null&&d.push(Wr(i,p,f)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var Hg=/\r\n?/g,Vg=/\u0000|\uFFFD/g;function Ad(e){return(typeof e=="string"?e:""+e).replace(Hg,`
`).replace(Vg,"")}function Ho(e,t,i){if(t=Ad(t),Ad(e)!==t&&i)throw Error(F(425))}function Ps(){}var Ul=null,Hl=null;function Vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wl=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch($g)}:Wl;function $g(e){setTimeout(function(){throw e})}function il(e,t){var i=t,o=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(o===0){e.removeChild(a),Zr(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=a}while(i);Zr(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Ki,Gr="__reactProps$"+Ki,sn="__reactContainer$"+Ki,Gl="__reactEvents$"+Ki,qg="__reactListeners$"+Ki,Kg="__reactHandles$"+Ki;function $n(e){var t=e[Vt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[sn]||i[Vt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Bd(e);e!==null;){if(i=e[Vt])return i;e=Bd(e)}return t}e=i,i=e.parentNode}return null}function no(e){return e=e[Vt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function $s(e){return e[Gr]||null}var $l=[],Li=-1;function Rn(e){return{current:e}}function Ne(e){0>Li||(e.current=$l[Li],$l[Li]=null,Li--)}function Se(e,t){Li++,$l[Li]=e.current,e.current=t}var In={},Ye=Rn(In),at=Rn(!1),Xn=In;function Fi(e,t){var i=e.type.contextTypes;if(!i)return In;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var a={},u;for(u in i)a[u]=t[u];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function lt(e){return e=e.childContextTypes,e!=null}function Ns(){Ne(at),Ne(Ye)}function Fd(e,t,i){if(Ye.current!==In)throw Error(F(168));Se(Ye,t),Se(at,i)}function zf(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var a in o)if(!(a in t))throw Error(F(108,O_(e)||"Unknown",a));return be({},i,o)}function js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,Xn=Ye.current,Se(Ye,e),Se(at,at.current),!0}function Zd(e,t,i){var o=e.stateNode;if(!o)throw Error(F(169));i?(e=zf(e,t,Xn),o.__reactInternalMemoizedMergedChildContext=e,Ne(at),Ne(Ye),Se(Ye,e)):Ne(at),Se(at,i)}var Jt=null,qs=!1,rl=!1;function Rf(e){Jt===null?Jt=[e]:Jt.push(e)}function Qg(e){qs=!0,Rf(e)}function An(){if(!rl&&Jt!==null){rl=!0;var e=0,t=ve;try{var i=Jt;for(ve=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}Jt=null,qs=!1}catch(a){throw Jt!==null&&(Jt=Jt.slice(e+1)),af(ju,An),a}finally{ve=t,rl=!1}}return null}var Ci=[],ki=0,Ls=null,Cs=0,wt=[],St=0,Jn=null,tn=1,nn="";function Wn(e,t){Ci[ki++]=Cs,Ci[ki++]=Ls,Ls=e,Cs=t}function Af(e,t,i){wt[St++]=tn,wt[St++]=nn,wt[St++]=Jn,Jn=e;var o=tn;e=nn;var a=32-Ot(o)-1;o&=~(1<<a),i+=1;var u=32-Ot(t)+a;if(30<u){var d=a-a%5;u=(o&(1<<d)-1).toString(32),o>>=d,a-=d,tn=1<<32-Ot(t)+a|i<<a|o,nn=u+e}else tn=1<<u|i<<a|o,nn=e}function zu(e){e.return!==null&&(Wn(e,1),Af(e,1,0))}function Ru(e){for(;e===Ls;)Ls=Ci[--ki],Ci[ki]=null,Cs=Ci[--ki],Ci[ki]=null;for(;e===Jn;)Jn=wt[--St],wt[St]=null,nn=wt[--St],wt[St]=null,tn=wt[--St],wt[St]=null}var ht=null,dt=null,Le=!1,Mt=null;function Df(e,t){var i=Et(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Ud(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,dt=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Jn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Et(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,ht=e,dt=null,!0):!1;default:return!1}}function ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kl(e){if(Le){var t=dt;if(t){var i=t;if(!Ud(e,t)){if(ql(e))throw Error(F(418));t=Cn(i.nextSibling);var o=ht;t&&Ud(e,t)?Df(o,i):(e.flags=e.flags&-4097|2,Le=!1,ht=e)}}else{if(ql(e))throw Error(F(418));e.flags=e.flags&-4097|2,Le=!1,ht=e}}}function Hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function Vo(e){if(e!==ht)return!1;if(!Le)return Hd(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vl(e.type,e.memoizedProps)),t&&(t=dt)){if(ql(e))throw Bf(),Error(F(418));for(;t;)Df(e,t),t=Cn(t.nextSibling)}if(Hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){dt=Cn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ht?Cn(e.stateNode.nextSibling):null;return!0}function Bf(){for(var e=dt;e;)e=Cn(e.nextSibling)}function Zi(){dt=ht=null,Le=!1}function Au(e){Mt===null?Mt=[e]:Mt.push(e)}var Yg=un.ReactCurrentBatchConfig;function xr(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(F(309));var o=i.stateNode}if(!o)throw Error(F(147,e));var a=o,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(d){var f=a.refs;d===null?delete f[u]:f[u]=d},t._stringRef=u,t)}if(typeof e!="string")throw Error(F(284));if(!i._owner)throw Error(F(290,e))}return e}function Wo(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vd(e){var t=e._init;return t(e._payload)}function Ff(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function i(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=Mn(v,g),v.index=0,v.sibling=null,v}function u(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function d(v){return e&&v.alternate===null&&(v.flags|=2),v}function f(v,g,x,T){return g===null||g.tag!==6?(g=dl(x,v.mode,T),g.return=v,g):(g=a(g,x),g.return=v,g)}function p(v,g,x,T){var B=x.type;return B===Si?S(v,g,x.props.children,T,x.key):g!==null&&(g.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===vn&&Vd(B)===g.type)?(T=a(g,x.props),T.ref=xr(v,g,x),T.return=v,T):(T=ps(x.type,x.key,x.props,null,v.mode,T),T.ref=xr(v,g,x),T.return=v,T)}function _(v,g,x,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=hl(x,v.mode,T),g.return=v,g):(g=a(g,x.children||[]),g.return=v,g)}function S(v,g,x,T,B){return g===null||g.tag!==7?(g=Yn(x,v.mode,T,B),g.return=v,g):(g=a(g,x),g.return=v,g)}function P(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=dl(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Io:return x=ps(g.type,g.key,g.props,null,v.mode,x),x.ref=xr(v,null,g),x.return=v,x;case wi:return g=hl(g,v.mode,x),g.return=v,g;case vn:var T=g._init;return P(v,T(g._payload),x)}if(Pr(g)||mr(g))return g=Yn(g,v.mode,x,null),g.return=v,g;Wo(v,g)}return null}function N(v,g,x,T){var B=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return B!==null?null:f(v,g,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Io:return x.key===B?p(v,g,x,T):null;case wi:return x.key===B?_(v,g,x,T):null;case vn:return B=x._init,N(v,g,B(x._payload),T)}if(Pr(x)||mr(x))return B!==null?null:S(v,g,x,T,null);Wo(v,x)}return null}function j(v,g,x,T,B){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(x)||null,f(g,v,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Io:return v=v.get(T.key===null?x:T.key)||null,p(g,v,T,B);case wi:return v=v.get(T.key===null?x:T.key)||null,_(g,v,T,B);case vn:var R=T._init;return j(v,g,x,R(T._payload),B)}if(Pr(T)||mr(T))return v=v.get(x)||null,S(g,v,T,B,null);Wo(g,T)}return null}function C(v,g,x,T){for(var B=null,R=null,z=g,H=g=0,ee=null;z!==null&&H<x.length;H++){z.index>H?(ee=z,z=null):ee=z.sibling;var Y=N(v,z,x[H],T);if(Y===null){z===null&&(z=ee);break}e&&z&&Y.alternate===null&&t(v,z),g=u(Y,g,H),R===null?B=Y:R.sibling=Y,R=Y,z=ee}if(H===x.length)return i(v,z),Le&&Wn(v,H),B;if(z===null){for(;H<x.length;H++)z=P(v,x[H],T),z!==null&&(g=u(z,g,H),R===null?B=z:R.sibling=z,R=z);return Le&&Wn(v,H),B}for(z=o(v,z);H<x.length;H++)ee=j(z,v,H,x[H],T),ee!==null&&(e&&ee.alternate!==null&&z.delete(ee.key===null?H:ee.key),g=u(ee,g,H),R===null?B=ee:R.sibling=ee,R=ee);return e&&z.forEach(function(U){return t(v,U)}),Le&&Wn(v,H),B}function E(v,g,x,T){var B=mr(x);if(typeof B!="function")throw Error(F(150));if(x=B.call(x),x==null)throw Error(F(151));for(var R=B=null,z=g,H=g=0,ee=null,Y=x.next();z!==null&&!Y.done;H++,Y=x.next()){z.index>H?(ee=z,z=null):ee=z.sibling;var U=N(v,z,Y.value,T);if(U===null){z===null&&(z=ee);break}e&&z&&U.alternate===null&&t(v,z),g=u(U,g,H),R===null?B=U:R.sibling=U,R=U,z=ee}if(Y.done)return i(v,z),Le&&Wn(v,H),B;if(z===null){for(;!Y.done;H++,Y=x.next())Y=P(v,Y.value,T),Y!==null&&(g=u(Y,g,H),R===null?B=Y:R.sibling=Y,R=Y);return Le&&Wn(v,H),B}for(z=o(v,z);!Y.done;H++,Y=x.next())Y=j(z,v,H,Y.value,T),Y!==null&&(e&&Y.alternate!==null&&z.delete(Y.key===null?H:Y.key),g=u(Y,g,H),R===null?B=Y:R.sibling=Y,R=Y);return e&&z.forEach(function(X){return t(v,X)}),Le&&Wn(v,H),B}function I(v,g,x,T){if(typeof x=="object"&&x!==null&&x.type===Si&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Io:e:{for(var B=x.key,R=g;R!==null;){if(R.key===B){if(B=x.type,B===Si){if(R.tag===7){i(v,R.sibling),g=a(R,x.props.children),g.return=v,v=g;break e}}else if(R.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===vn&&Vd(B)===R.type){i(v,R.sibling),g=a(R,x.props),g.ref=xr(v,R,x),g.return=v,v=g;break e}i(v,R);break}else t(v,R);R=R.sibling}x.type===Si?(g=Yn(x.props.children,v.mode,T,x.key),g.return=v,v=g):(T=ps(x.type,x.key,x.props,null,v.mode,T),T.ref=xr(v,g,x),T.return=v,v=T)}return d(v);case wi:e:{for(R=x.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){i(v,g.sibling),g=a(g,x.children||[]),g.return=v,v=g;break e}else{i(v,g);break}else t(v,g);g=g.sibling}g=hl(x,v.mode,T),g.return=v,v=g}return d(v);case vn:return R=x._init,I(v,g,R(x._payload),T)}if(Pr(x))return C(v,g,x,T);if(mr(x))return E(v,g,x,T);Wo(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(i(v,g.sibling),g=a(g,x),g.return=v,v=g):(i(v,g),g=dl(x,v.mode,T),g.return=v,v=g),d(v)):i(v,g)}return I}var Ui=Ff(!0),Zf=Ff(!1),ks=Rn(null),Ts=null,Ti=null,Du=null;function Bu(){Du=Ti=Ts=null}function Fu(e){var t=ks.current;Ne(ks),e._currentValue=t}function Ql(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Ai(e,t){Ts=e,Du=Ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Du!==e)if(e={context:e,memoizedValue:t,next:null},Ti===null){if(Ts===null)throw Error(F(308));Ti=e,Ts.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var qn=null;function Zu(e){qn===null?qn=[e]:qn.push(e)}function Uf(e,t,i,o){var a=t.interleaved;return a===null?(i.next=i,Zu(t)):(i.next=a.next,a.next=i),t.interleaved=i,an(e,o)}function an(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var yn=!1;function Uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,me&2){var a=o.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),o.pending=t,an(e,i)}return a=o.interleaved,a===null?(t.next=t,Zu(o)):(t.next=a.next,a.next=t),o.interleaved=t,an(e,i)}function ls(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Lu(e,i)}}function Wd(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var a=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};u===null?a=u=d:u=u.next=d,i=i.next}while(i!==null);u===null?a=u=t:u=u.next=t}else a=u=t;i={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:u,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function bs(e,t,i,o){var a=e.updateQueue;yn=!1;var u=a.firstBaseUpdate,d=a.lastBaseUpdate,f=a.shared.pending;if(f!==null){a.shared.pending=null;var p=f,_=p.next;p.next=null,d===null?u=_:d.next=_,d=p;var S=e.alternate;S!==null&&(S=S.updateQueue,f=S.lastBaseUpdate,f!==d&&(f===null?S.firstBaseUpdate=_:f.next=_,S.lastBaseUpdate=p))}if(u!==null){var P=a.baseState;d=0,S=_=p=null,f=u;do{var N=f.lane,j=f.eventTime;if((o&N)===N){S!==null&&(S=S.next={eventTime:j,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var C=e,E=f;switch(N=t,j=i,E.tag){case 1:if(C=E.payload,typeof C=="function"){P=C.call(j,P,N);break e}P=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=E.payload,N=typeof C=="function"?C.call(j,P,N):C,N==null)break e;P=be({},P,N);break e;case 2:yn=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[f]:N.push(f))}else j={eventTime:j,lane:N,tag:f.tag,payload:f.payload,callback:f.callback,next:null},S===null?(_=S=j,p=P):S=S.next=j,d|=N;if(f=f.next,f===null){if(f=a.shared.pending,f===null)break;N=f,f=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(S===null&&(p=P),a.baseState=p,a.firstBaseUpdate=_,a.lastBaseUpdate=S,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else u===null&&(a.shared.lanes=0);ti|=d,e.lanes=d,e.memoizedState=P}}function Gd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],a=o.callback;if(a!==null){if(o.callback=null,o=i,typeof a!="function")throw Error(F(191,a));a.call(o)}}}var io={},Gt=Rn(io),$r=Rn(io),qr=Rn(io);function Kn(e){if(e===io)throw Error(F(174));return e}function Hu(e,t){switch(Se(qr,t),Se($r,e),Se(Gt,io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tl(t,e)}Ne(Gt),Se(Gt,t)}function Hi(){Ne(Gt),Ne($r),Ne(qr)}function Vf(e){Kn(qr.current);var t=Kn(Gt.current),i=Tl(t,e.type);t!==i&&(Se($r,e),Se(Gt,i))}function Vu(e){$r.current===e&&(Ne(Gt),Ne($r))}var ke=Rn(0);function Ms(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function Wu(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var us=un.ReactCurrentDispatcher,sl=un.ReactCurrentBatchConfig,ei=0,Te=null,Be=null,Ue=null,Os=!1,Mr=!1,Kr=0,Xg=0;function qe(){throw Error(F(321))}function Gu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!zt(e[i],t[i]))return!1;return!0}function $u(e,t,i,o,a,u){if(ei=u,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=e===null||e.memoizedState===null?nv:iv,e=i(o,a),Mr){u=0;do{if(Mr=!1,Kr=0,25<=u)throw Error(F(301));u+=1,Ue=Be=null,t.updateQueue=null,us.current=rv,e=i(o,a)}while(Mr)}if(us.current=Is,t=Be!==null&&Be.next!==null,ei=0,Ue=Be=Te=null,Os=!1,t)throw Error(F(300));return e}function qu(){var e=Kr!==0;return Kr=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function jt(){if(Be===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ue===null?Te.memoizedState:Ue.next;if(t!==null)Ue=t,Be=e;else{if(e===null)throw Error(F(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ue===null?Te.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Qr(e,t){return typeof t=="function"?t(e):t}function al(e){var t=jt(),i=t.queue;if(i===null)throw Error(F(311));i.lastRenderedReducer=e;var o=Be,a=o.baseQueue,u=i.pending;if(u!==null){if(a!==null){var d=a.next;a.next=u.next,u.next=d}o.baseQueue=a=u,i.pending=null}if(a!==null){u=a.next,o=o.baseState;var f=d=null,p=null,_=u;do{var S=_.lane;if((ei&S)===S)p!==null&&(p=p.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),o=_.hasEagerState?_.eagerState:e(o,_.action);else{var P={lane:S,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};p===null?(f=p=P,d=o):p=p.next=P,Te.lanes|=S,ti|=S}_=_.next}while(_!==null&&_!==u);p===null?d=o:p.next=f,zt(o,t.memoizedState)||(st=!0),t.memoizedState=o,t.baseState=d,t.baseQueue=p,i.lastRenderedState=o}if(e=i.interleaved,e!==null){a=e;do u=a.lane,Te.lanes|=u,ti|=u,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ll(e){var t=jt(),i=t.queue;if(i===null)throw Error(F(311));i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,u=t.memoizedState;if(a!==null){i.pending=null;var d=a=a.next;do u=e(u,d.action),d=d.next;while(d!==a);zt(u,t.memoizedState)||(st=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,o]}function Wf(){}function Gf(e,t){var i=Te,o=jt(),a=t(),u=!zt(o.memoizedState,a);if(u&&(o.memoizedState=a,st=!0),o=o.queue,Ku(Kf.bind(null,i,o,e),[e]),o.getSnapshot!==t||u||Ue!==null&&Ue.memoizedState.tag&1){if(i.flags|=2048,Yr(9,qf.bind(null,i,o,a,t),void 0,null),He===null)throw Error(F(349));ei&30||$f(i,t,a)}return a}function $f(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function qf(e,t,i,o){t.value=i,t.getSnapshot=o,Qf(t)&&Yf(e)}function Kf(e,t,i){return i(function(){Qf(t)&&Yf(e)})}function Qf(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!zt(e,i)}catch{return!0}}function Yf(e){var t=an(e,1);t!==null&&It(t,e,1,-1)}function $d(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},t.queue=e,e=e.dispatch=tv.bind(null,Te,e),[t.memoizedState,e]}function Yr(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Xf(){return jt().memoizedState}function cs(e,t,i,o){var a=Ht();Te.flags|=e,a.memoizedState=Yr(1|t,i,void 0,o===void 0?null:o)}function Ks(e,t,i,o){var a=jt();o=o===void 0?null:o;var u=void 0;if(Be!==null){var d=Be.memoizedState;if(u=d.destroy,o!==null&&Gu(o,d.deps)){a.memoizedState=Yr(t,i,u,o);return}}Te.flags|=e,a.memoizedState=Yr(1|t,i,u,o)}function qd(e,t){return cs(8390656,8,e,t)}function Ku(e,t){return Ks(2048,8,e,t)}function Jf(e,t){return Ks(4,2,e,t)}function ep(e,t){return Ks(4,4,e,t)}function tp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function np(e,t,i){return i=i!=null?i.concat([e]):null,Ks(4,4,tp.bind(null,t,e),i)}function Qu(){}function ip(e,t){var i=jt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Gu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function rp(e,t){var i=jt();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Gu(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function op(e,t,i){return ei&21?(zt(i,t)||(i=cf(),Te.lanes|=i,ti|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=i)}function Jg(e,t){var i=ve;ve=i!==0&&4>i?i:4,e(!0);var o=sl.transition;sl.transition={};try{e(!1),t()}finally{ve=i,sl.transition=o}}function sp(){return jt().memoizedState}function ev(e,t,i){var o=bn(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},ap(e))lp(t,i);else if(i=Uf(e,t,i,o),i!==null){var a=tt();It(i,e,o,a),up(i,t,o)}}function tv(e,t,i){var o=bn(e),a={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(ap(e))lp(t,a);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,f=u(d,i);if(a.hasEagerState=!0,a.eagerState=f,zt(f,d)){var p=t.interleaved;p===null?(a.next=a,Zu(t)):(a.next=p.next,p.next=a),t.interleaved=a;return}}catch{}finally{}i=Uf(e,t,a,o),i!==null&&(a=tt(),It(i,e,o,a),up(i,t,o))}}function ap(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function lp(e,t){Mr=Os=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function up(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Lu(e,i)}}var Is={readContext:Nt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},nv={readContext:Nt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:qd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,cs(4194308,4,tp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return cs(4,2,e,t)},useMemo:function(e,t){var i=Ht();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Ht();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ev.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:Qu,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=Jg.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Te,a=Ht();if(Le){if(i===void 0)throw Error(F(407));i=i()}else{if(i=t(),He===null)throw Error(F(349));ei&30||$f(o,t,i)}a.memoizedState=i;var u={value:i,getSnapshot:t};return a.queue=u,qd(Kf.bind(null,o,u,e),[e]),o.flags|=2048,Yr(9,qf.bind(null,o,u,i,t),void 0,null),i},useId:function(){var e=Ht(),t=He.identifierPrefix;if(Le){var i=nn,o=tn;i=(o&~(1<<32-Ot(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=Kr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Xg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iv={readContext:Nt,useCallback:ip,useContext:Nt,useEffect:Ku,useImperativeHandle:np,useInsertionEffect:Jf,useLayoutEffect:ep,useMemo:rp,useReducer:al,useRef:Xf,useState:function(){return al(Qr)},useDebugValue:Qu,useDeferredValue:function(e){var t=jt();return op(t,Be.memoizedState,e)},useTransition:function(){var e=al(Qr)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Wf,useSyncExternalStore:Gf,useId:sp,unstable_isNewReconciler:!1},rv={readContext:Nt,useCallback:ip,useContext:Nt,useEffect:Ku,useImperativeHandle:np,useInsertionEffect:Jf,useLayoutEffect:ep,useMemo:rp,useReducer:ll,useRef:Xf,useState:function(){return ll(Qr)},useDebugValue:Qu,useDeferredValue:function(e){var t=jt();return Be===null?t.memoizedState=e:op(t,Be.memoizedState,e)},useTransition:function(){var e=ll(Qr)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Wf,useSyncExternalStore:Gf,useId:sp,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Yl(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:be({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Qs={isMounted:function(e){return(e=e._reactInternals)?ri(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=tt(),a=bn(e),u=rn(o,a);u.payload=t,i!=null&&(u.callback=i),t=kn(e,u,a),t!==null&&(It(t,e,a,o),ls(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=tt(),a=bn(e),u=rn(o,a);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=kn(e,u,a),t!==null&&(It(t,e,a,o),ls(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=tt(),o=bn(e),a=rn(i,o);a.tag=2,t!=null&&(a.callback=t),t=kn(e,a,o),t!==null&&(It(t,e,o,i),ls(t,e,o))}};function Kd(e,t,i,o,a,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,d):t.prototype&&t.prototype.isPureReactComponent?!Hr(i,o)||!Hr(a,u):!0}function cp(e,t,i){var o=!1,a=In,u=t.contextType;return typeof u=="object"&&u!==null?u=Nt(u):(a=lt(t)?Xn:Ye.current,o=t.contextTypes,u=(o=o!=null)?Fi(e,a):In),t=new t(i,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qs,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=u),t}function Qd(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Qs.enqueueReplaceState(t,t.state,null)}function Xl(e,t,i,o){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},Uu(e);var u=t.contextType;typeof u=="object"&&u!==null?a.context=Nt(u):(u=lt(t)?Xn:Ye.current,a.context=Fi(e,u)),a.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Yl(e,t,u,i),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qs.enqueueReplaceState(a,a.state,null),bs(e,i,a,o),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,t){try{var i="",o=t;do i+=M_(o),o=o.return;while(o);var a=i}catch(u){a=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:a,digest:null}}function ul(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Jl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var ov=typeof WeakMap=="function"?WeakMap:Map;function dp(e,t,i){i=rn(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Rs||(Rs=!0,uu=o),Jl(e,t)},i}function hp(e,t,i){i=rn(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var a=t.value;i.payload=function(){return o(a)},i.callback=function(){Jl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(i.callback=function(){Jl(e,t),typeof o!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),i}function Yd(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new ov;var a=new Set;o.set(t,a)}else a=o.get(t),a===void 0&&(a=new Set,o.set(t,a));a.has(i)||(a.add(i),e=yv.bind(null,e,t,i),t.then(e,e))}function Xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jd(e,t,i,o,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=rn(-1,1),t.tag=2,kn(i,t,1))),i.lanes|=1),e)}var sv=un.ReactCurrentOwner,st=!1;function et(e,t,i,o){t.child=e===null?Zf(t,null,i,o):Ui(t,e.child,i,o)}function eh(e,t,i,o,a){i=i.render;var u=t.ref;return Ai(t,a),o=$u(e,t,i,o,u,a),i=qu(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ln(e,t,a)):(Le&&i&&zu(t),t.flags|=1,et(e,t,o,a),t.child)}function th(e,t,i,o,a){if(e===null){var u=i.type;return typeof u=="function"&&!rc(u)&&u.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=u,fp(e,t,u,o,a)):(e=ps(i.type,null,o,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&a)){var d=u.memoizedProps;if(i=i.compare,i=i!==null?i:Hr,i(d,o)&&e.ref===t.ref)return ln(e,t,a)}return t.flags|=1,e=Mn(u,o),e.ref=t.ref,e.return=t,t.child=e}function fp(e,t,i,o,a){if(e!==null){var u=e.memoizedProps;if(Hr(u,o)&&e.ref===t.ref)if(st=!1,t.pendingProps=o=u,(e.lanes&a)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,ln(e,t,a)}return eu(e,t,i,o,a)}function pp(e,t,i){var o=t.pendingProps,a=o.children,u=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Mi,ct),ct|=i;else{if(!(i&1073741824))return e=u!==null?u.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Mi,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:i,Se(Mi,ct),ct|=o}else u!==null?(o=u.baseLanes|i,t.memoizedState=null):o=i,Se(Mi,ct),ct|=o;return et(e,t,a,i),t.child}function mp(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function eu(e,t,i,o,a){var u=lt(i)?Xn:Ye.current;return u=Fi(t,u),Ai(t,a),i=$u(e,t,i,o,u,a),o=qu(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ln(e,t,a)):(Le&&o&&zu(t),t.flags|=1,et(e,t,i,a),t.child)}function nh(e,t,i,o,a){if(lt(i)){var u=!0;js(t)}else u=!1;if(Ai(t,a),t.stateNode===null)ds(e,t),cp(t,i,o),Xl(t,i,o,a),o=!0;else if(e===null){var d=t.stateNode,f=t.memoizedProps;d.props=f;var p=d.context,_=i.contextType;typeof _=="object"&&_!==null?_=Nt(_):(_=lt(i)?Xn:Ye.current,_=Fi(t,_));var S=i.getDerivedStateFromProps,P=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function";P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(f!==o||p!==_)&&Qd(t,d,o,_),yn=!1;var N=t.memoizedState;d.state=N,bs(t,o,d,a),p=t.memoizedState,f!==o||N!==p||at.current||yn?(typeof S=="function"&&(Yl(t,i,S,o),p=t.memoizedState),(f=yn||Kd(t,i,f,o,N,p,_))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=p),d.props=o,d.state=p,d.context=_,o=f):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,Hf(e,t),f=t.memoizedProps,_=t.type===t.elementType?f:Tt(t.type,f),d.props=_,P=t.pendingProps,N=d.context,p=i.contextType,typeof p=="object"&&p!==null?p=Nt(p):(p=lt(i)?Xn:Ye.current,p=Fi(t,p));var j=i.getDerivedStateFromProps;(S=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(f!==P||N!==p)&&Qd(t,d,o,p),yn=!1,N=t.memoizedState,d.state=N,bs(t,o,d,a);var C=t.memoizedState;f!==P||N!==C||at.current||yn?(typeof j=="function"&&(Yl(t,i,j,o),C=t.memoizedState),(_=yn||Kd(t,i,_,o,N,C,p)||!1)?(S||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,C,p),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,C,p)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=C),d.props=o,d.state=C,d.context=p,o=_):(typeof d.componentDidUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),o=!1)}return tu(e,t,i,o,u,a)}function tu(e,t,i,o,a,u){mp(e,t);var d=(t.flags&128)!==0;if(!o&&!d)return a&&Zd(t,i,!1),ln(e,t,u);o=t.stateNode,sv.current=t;var f=d&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&d?(t.child=Ui(t,e.child,null,u),t.child=Ui(t,null,f,u)):et(e,t,f,u),t.memoizedState=o.state,a&&Zd(t,i,!0),t.child}function _p(e){var t=e.stateNode;t.pendingContext?Fd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fd(e,t.context,!1),Hu(e,t.containerInfo)}function ih(e,t,i,o,a){return Zi(),Au(a),t.flags|=256,et(e,t,i,o),t.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function gp(e,t,i){var o=t.pendingProps,a=ke.current,u=!1,d=(t.flags&128)!==0,f;if((f=d)||(f=e!==null&&e.memoizedState===null?!1:(a&2)!==0),f?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Se(ke,a&1),e===null)return Kl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=o.children,e=o.fallback,u?(o=t.mode,u=t.child,d={mode:"hidden",children:d},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=d):u=Js(d,o,0,null),e=Yn(e,o,i,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=iu(i),t.memoizedState=nu,e):Yu(t,d));if(a=e.memoizedState,a!==null&&(f=a.dehydrated,f!==null))return av(e,t,d,o,f,a,i);if(u){u=o.fallback,d=t.mode,a=e.child,f=a.sibling;var p={mode:"hidden",children:o.children};return!(d&1)&&t.child!==a?(o=t.child,o.childLanes=0,o.pendingProps=p,t.deletions=null):(o=Mn(a,p),o.subtreeFlags=a.subtreeFlags&14680064),f!==null?u=Mn(f,u):(u=Yn(u,d,i,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,d=e.child.memoizedState,d=d===null?iu(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},u.memoizedState=d,u.childLanes=e.childLanes&~i,t.memoizedState=nu,o}return u=e.child,e=u.sibling,o=Mn(u,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Yu(e,t){return t=Js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Go(e,t,i,o){return o!==null&&Au(o),Ui(t,e.child,null,i),e=Yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function av(e,t,i,o,a,u,d){if(i)return t.flags&256?(t.flags&=-257,o=ul(Error(F(422))),Go(e,t,d,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=o.fallback,a=t.mode,o=Js({mode:"visible",children:o.children},a,0,null),u=Yn(u,a,d,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,t.mode&1&&Ui(t,e.child,null,d),t.child.memoizedState=iu(d),t.memoizedState=nu,u);if(!(t.mode&1))return Go(e,t,d,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var f=o.dgst;return o=f,u=Error(F(419)),o=ul(u,o,void 0),Go(e,t,d,o)}if(f=(d&e.childLanes)!==0,st||f){if(o=He,o!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|d)?0:a,a!==0&&a!==u.retryLane&&(u.retryLane=a,an(e,a),It(o,e,a,-1))}return ic(),o=ul(Error(F(421))),Go(e,t,d,o)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=xv.bind(null,e),a._reactRetry=t,null):(e=u.treeContext,dt=Cn(a.nextSibling),ht=t,Le=!0,Mt=null,e!==null&&(wt[St++]=tn,wt[St++]=nn,wt[St++]=Jn,tn=e.id,nn=e.overflow,Jn=t),t=Yu(t,o.children),t.flags|=4096,t)}function rh(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ql(e.return,t,i)}function cl(e,t,i,o,a){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:a}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=i,u.tailMode=a)}function vp(e,t,i){var o=t.pendingProps,a=o.revealOrder,u=o.tail;if(et(e,t,o.children,i),o=ke.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,i,t);else if(e.tag===19)rh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Se(ke,o),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;i!==null;)e=i.alternate,e!==null&&Ms(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),cl(t,!1,a,i,u);break;case"backwards":for(i=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ms(e)===null){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}cl(t,!0,i,null,u);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ti|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,i=Mn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Mn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function lv(e,t,i){switch(t.tag){case 3:_p(t),Zi();break;case 5:Vf(t);break;case 1:lt(t.type)&&js(t);break;case 4:Hu(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,a=t.memoizedProps.value;Se(ks,o._currentValue),o._currentValue=a;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Se(ke,ke.current&1),t.flags|=128,null):i&t.child.childLanes?gp(e,t,i):(Se(ke,ke.current&1),e=ln(e,t,i),e!==null?e.sibling:null);Se(ke,ke.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return vp(e,t,i);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Se(ke,ke.current),o)break;return null;case 22:case 23:return t.lanes=0,pp(e,t,i)}return ln(e,t,i)}var yp,ru,xp,wp;yp=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};ru=function(){};xp=function(e,t,i,o){var a=e.memoizedProps;if(a!==o){e=t.stateNode,Kn(Gt.current);var u=null;switch(i){case"input":a=jl(e,a),o=jl(e,o),u=[];break;case"select":a=be({},a,{value:void 0}),o=be({},o,{value:void 0}),u=[];break;case"textarea":a=kl(e,a),o=kl(e,o),u=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ps)}bl(i,o);var d;i=null;for(_ in a)if(!o.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var f=a[_];for(d in f)f.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(Rr.hasOwnProperty(_)?u||(u=[]):(u=u||[]).push(_,null));for(_ in o){var p=o[_];if(f=a!=null?a[_]:void 0,o.hasOwnProperty(_)&&p!==f&&(p!=null||f!=null))if(_==="style")if(f){for(d in f)!f.hasOwnProperty(d)||p&&p.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in p)p.hasOwnProperty(d)&&f[d]!==p[d]&&(i||(i={}),i[d]=p[d])}else i||(u||(u=[]),u.push(_,i)),i=p;else _==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,f=f?f.__html:void 0,p!=null&&f!==p&&(u=u||[]).push(_,p)):_==="children"?typeof p!="string"&&typeof p!="number"||(u=u||[]).push(_,""+p):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(_)?(p!=null&&_==="onScroll"&&Pe("scroll",e),u||f===p||(u=[])):(u=u||[]).push(_,p))}i&&(u=u||[]).push("style",i);var _=u;(t.updateQueue=_)&&(t.flags|=4)}};wp=function(e,t,i,o){i!==o&&(t.flags|=4)};function wr(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function uv(e,t,i){var o=t.pendingProps;switch(Ru(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return lt(t.type)&&Ns(),Ke(t),null;case 3:return o=t.stateNode,Hi(),Ne(at),Ne(Ye),Wu(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(hu(Mt),Mt=null))),ru(e,t),Ke(t),null;case 5:Vu(t);var a=Kn(qr.current);if(i=t.type,e!==null&&t.stateNode!=null)xp(e,t,i,o,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(F(166));return Ke(t),null}if(e=Kn(Gt.current),Vo(t)){o=t.stateNode,i=t.type;var u=t.memoizedProps;switch(o[Vt]=t,o[Gr]=u,e=(t.mode&1)!==0,i){case"dialog":Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":case"embed":Pe("load",o);break;case"video":case"audio":for(a=0;a<jr.length;a++)Pe(jr[a],o);break;case"source":Pe("error",o);break;case"img":case"image":case"link":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"input":fd(o,u),Pe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},Pe("invalid",o);break;case"textarea":md(o,u),Pe("invalid",o)}bl(i,u),a=null;for(var d in u)if(u.hasOwnProperty(d)){var f=u[d];d==="children"?typeof f=="string"?o.textContent!==f&&(u.suppressHydrationWarning!==!0&&Ho(o.textContent,f,e),a=["children",f]):typeof f=="number"&&o.textContent!==""+f&&(u.suppressHydrationWarning!==!0&&Ho(o.textContent,f,e),a=["children",""+f]):Rr.hasOwnProperty(d)&&f!=null&&d==="onScroll"&&Pe("scroll",o)}switch(i){case"input":zo(o),pd(o,u,!0);break;case"textarea":zo(o),_d(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=Ps)}o=a,t.updateQueue=o,o!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qh(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=d.createElement(i,{is:o.is}):(e=d.createElement(i),i==="select"&&(d=e,o.multiple?d.multiple=!0:o.size&&(d.size=o.size))):e=d.createElementNS(e,i),e[Vt]=t,e[Gr]=o,yp(e,t,!1,!1),t.stateNode=e;e:{switch(d=Ml(i,o),i){case"dialog":Pe("cancel",e),Pe("close",e),a=o;break;case"iframe":case"object":case"embed":Pe("load",e),a=o;break;case"video":case"audio":for(a=0;a<jr.length;a++)Pe(jr[a],e);a=o;break;case"source":Pe("error",e),a=o;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),a=o;break;case"details":Pe("toggle",e),a=o;break;case"input":fd(e,o),a=jl(e,o),Pe("invalid",e);break;case"option":a=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},a=be({},o,{value:void 0}),Pe("invalid",e);break;case"textarea":md(e,o),a=kl(e,o),Pe("invalid",e);break;default:a=o}bl(i,a),f=a;for(u in f)if(f.hasOwnProperty(u)){var p=f[u];u==="style"?Yh(e,p):u==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Kh(e,p)):u==="children"?typeof p=="string"?(i!=="textarea"||p!=="")&&Ar(e,p):typeof p=="number"&&Ar(e,""+p):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rr.hasOwnProperty(u)?p!=null&&u==="onScroll"&&Pe("scroll",e):p!=null&&wu(e,u,p,d))}switch(i){case"input":zo(e),pd(e,o,!1);break;case"textarea":zo(e),_d(e);break;case"option":o.value!=null&&e.setAttribute("value",""+On(o.value));break;case"select":e.multiple=!!o.multiple,u=o.value,u!=null?Oi(e,!!o.multiple,u,!1):o.defaultValue!=null&&Oi(e,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ps)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)wp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(F(166));if(i=Kn(qr.current),Kn(Gt.current),Vo(t)){if(o=t.stateNode,i=t.memoizedProps,o[Vt]=t,(u=o.nodeValue!==i)&&(e=ht,e!==null))switch(e.tag){case 3:Ho(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ho(o.nodeValue,i,(e.mode&1)!==0)}u&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Vt]=t,t.stateNode=o}return Ke(t),null;case 13:if(Ne(ke),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&dt!==null&&t.mode&1&&!(t.flags&128))Bf(),Zi(),t.flags|=98560,u=!1;else if(u=Vo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(F(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(F(317));u[Vt]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),u=!1}else Mt!==null&&(hu(Mt),Mt=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Fe===0&&(Fe=3):ic())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Hi(),ru(e,t),e===null&&Vr(t.stateNode.containerInfo),Ke(t),null;case 10:return Fu(t.type._context),Ke(t),null;case 17:return lt(t.type)&&Ns(),Ke(t),null;case 19:if(Ne(ke),u=t.memoizedState,u===null)return Ke(t),null;if(o=(t.flags&128)!==0,d=u.rendering,d===null)if(o)wr(u,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=Ms(e),d!==null){for(t.flags|=128,wr(u,!1),o=d.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)u=i,e=o,u.flags&=14680066,d=u.alternate,d===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Se(ke,ke.current&1|2),t.child}e=e.sibling}u.tail!==null&&ze()>Wi&&(t.flags|=128,o=!0,wr(u,!1),t.lanes=4194304)}else{if(!o)if(e=Ms(d),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),wr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Le)return Ke(t),null}else 2*ze()-u.renderingStartTime>Wi&&i!==1073741824&&(t.flags|=128,o=!0,wr(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(i=u.last,i!==null?i.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ze(),t.sibling=null,i=ke.current,Se(ke,o?i&1|2:i&1),t):(Ke(t),null);case 22:case 23:return nc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?ct&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function cv(e,t){switch(Ru(t),t.tag){case 1:return lt(t.type)&&Ns(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hi(),Ne(at),Ne(Ye),Wu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vu(t),null;case 13:if(Ne(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(ke),null;case 4:return Hi(),null;case 10:return Fu(t.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var $o=!1,Qe=!1,dv=typeof WeakSet=="function"?WeakSet:Set,K=null;function bi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Oe(e,t,o)}else i.current=null}function ou(e,t,i){try{i()}catch(o){Oe(e,t,o)}}var oh=!1;function hv(e,t){if(Ul=ws,e=jf(),Iu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var a=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var d=0,f=-1,p=-1,_=0,S=0,P=e,N=null;t:for(;;){for(var j;P!==i||a!==0&&P.nodeType!==3||(f=d+a),P!==u||o!==0&&P.nodeType!==3||(p=d+o),P.nodeType===3&&(d+=P.nodeValue.length),(j=P.firstChild)!==null;)N=P,P=j;for(;;){if(P===e)break t;if(N===i&&++_===a&&(f=d),N===u&&++S===o&&(p=d),(j=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=j}i=f===-1||p===-1?null:{start:f,end:p}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hl={focusedElem:e,selectionRange:i},ws=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var E=C.memoizedProps,I=C.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?E:Tt(t.type,E),I);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(T){Oe(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return C=oh,oh=!1,C}function Or(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var u=a.destroy;a.destroy=void 0,u!==void 0&&ou(t,i,u)}a=a.next}while(a!==o)}}function Ys(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function su(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Sp(e){var t=e.alternate;t!==null&&(e.alternate=null,Sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[Gr],delete t[Gl],delete t[qg],delete t[Kg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ep(e){return e.tag===5||e.tag===3||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function au(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ps));else if(o!==4&&(e=e.child,e!==null))for(au(e,t,i),e=e.sibling;e!==null;)au(e,t,i),e=e.sibling}function lu(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(lu(e,t,i),e=e.sibling;e!==null;)lu(e,t,i),e=e.sibling}var We=null,bt=!1;function gn(e,t,i){for(i=i.child;i!==null;)Pp(e,t,i),i=i.sibling}function Pp(e,t,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Hs,i)}catch{}switch(i.tag){case 5:Qe||bi(i,t);case 6:var o=We,a=bt;We=null,gn(e,t,i),We=o,bt=a,We!==null&&(bt?(e=We,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):We.removeChild(i.stateNode));break;case 18:We!==null&&(bt?(e=We,i=i.stateNode,e.nodeType===8?il(e.parentNode,i):e.nodeType===1&&il(e,i),Zr(e)):il(We,i.stateNode));break;case 4:o=We,a=bt,We=i.stateNode.containerInfo,bt=!0,gn(e,t,i),We=o,bt=a;break;case 0:case 11:case 14:case 15:if(!Qe&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var u=a,d=u.destroy;u=u.tag,d!==void 0&&(u&2||u&4)&&ou(i,t,d),a=a.next}while(a!==o)}gn(e,t,i);break;case 1:if(!Qe&&(bi(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(f){Oe(i,t,f)}gn(e,t,i);break;case 21:gn(e,t,i);break;case 22:i.mode&1?(Qe=(o=Qe)||i.memoizedState!==null,gn(e,t,i),Qe=o):gn(e,t,i);break;default:gn(e,t,i)}}function ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new dv),t.forEach(function(o){var a=wv.bind(null,e,o);i.has(o)||(i.add(o),o.then(a,a))})}}function kt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var a=i[o];try{var u=e,d=t,f=d;e:for(;f!==null;){switch(f.tag){case 5:We=f.stateNode,bt=!1;break e;case 3:We=f.stateNode.containerInfo,bt=!0;break e;case 4:We=f.stateNode.containerInfo,bt=!0;break e}f=f.return}if(We===null)throw Error(F(160));Pp(u,d,a),We=null,bt=!1;var p=a.alternate;p!==null&&(p.return=null),a.return=null}catch(_){Oe(a,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Np(t,e),t=t.sibling}function Np(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),Ut(e),o&4){try{Or(3,e,e.return),Ys(3,e)}catch(E){Oe(e,e.return,E)}try{Or(5,e,e.return)}catch(E){Oe(e,e.return,E)}}break;case 1:kt(t,e),Ut(e),o&512&&i!==null&&bi(i,i.return);break;case 5:if(kt(t,e),Ut(e),o&512&&i!==null&&bi(i,i.return),e.flags&32){var a=e.stateNode;try{Ar(a,"")}catch(E){Oe(e,e.return,E)}}if(o&4&&(a=e.stateNode,a!=null)){var u=e.memoizedProps,d=i!==null?i.memoizedProps:u,f=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{f==="input"&&u.type==="radio"&&u.name!=null&&Gh(a,u),Ml(f,d);var _=Ml(f,u);for(d=0;d<p.length;d+=2){var S=p[d],P=p[d+1];S==="style"?Yh(a,P):S==="dangerouslySetInnerHTML"?Kh(a,P):S==="children"?Ar(a,P):wu(a,S,P,_)}switch(f){case"input":Ll(a,u);break;case"textarea":$h(a,u);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var j=u.value;j!=null?Oi(a,!!u.multiple,j,!1):N!==!!u.multiple&&(u.defaultValue!=null?Oi(a,!!u.multiple,u.defaultValue,!0):Oi(a,!!u.multiple,u.multiple?[]:"",!1))}a[Gr]=u}catch(E){Oe(e,e.return,E)}}break;case 6:if(kt(t,e),Ut(e),o&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(E){Oe(e,e.return,E)}}break;case 3:if(kt(t,e),Ut(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(E){Oe(e,e.return,E)}break;case 4:kt(t,e),Ut(e);break;case 13:kt(t,e),Ut(e),a=e.child,a.flags&8192&&(u=a.memoizedState!==null,a.stateNode.isHidden=u,!u||a.alternate!==null&&a.alternate.memoizedState!==null||(ec=ze())),o&4&&ah(e);break;case 22:if(S=i!==null&&i.memoizedState!==null,e.mode&1?(Qe=(_=Qe)||S,kt(t,e),Qe=_):kt(t,e),Ut(e),o&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!S&&e.mode&1)for(K=e,S=e.child;S!==null;){for(P=K=S;K!==null;){switch(N=K,j=N.child,N.tag){case 0:case 11:case 14:case 15:Or(4,N,N.return);break;case 1:bi(N,N.return);var C=N.stateNode;if(typeof C.componentWillUnmount=="function"){o=N,i=N.return;try{t=o,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(E){Oe(o,i,E)}}break;case 5:bi(N,N.return);break;case 22:if(N.memoizedState!==null){uh(P);continue}}j!==null?(j.return=N,K=j):uh(P)}S=S.sibling}e:for(S=null,P=e;;){if(P.tag===5){if(S===null){S=P;try{a=P.stateNode,_?(u=a.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(f=P.stateNode,p=P.memoizedProps.style,d=p!=null&&p.hasOwnProperty("display")?p.display:null,f.style.display=Qh("display",d))}catch(E){Oe(e,e.return,E)}}}else if(P.tag===6){if(S===null)try{P.stateNode.nodeValue=_?"":P.memoizedProps}catch(E){Oe(e,e.return,E)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;S===P&&(S=null),P=P.return}S===P&&(S=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:kt(t,e),Ut(e),o&4&&ah(e);break;case 21:break;default:kt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Ep(i)){var o=i;break e}i=i.return}throw Error(F(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(Ar(a,""),o.flags&=-33);var u=sh(e);lu(e,u,a);break;case 3:case 4:var d=o.stateNode.containerInfo,f=sh(e);au(e,f,d);break;default:throw Error(F(161))}}catch(p){Oe(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fv(e,t,i){K=e,jp(e)}function jp(e,t,i){for(var o=(e.mode&1)!==0;K!==null;){var a=K,u=a.child;if(a.tag===22&&o){var d=a.memoizedState!==null||$o;if(!d){var f=a.alternate,p=f!==null&&f.memoizedState!==null||Qe;f=$o;var _=Qe;if($o=d,(Qe=p)&&!_)for(K=a;K!==null;)d=K,p=d.child,d.tag===22&&d.memoizedState!==null?ch(a):p!==null?(p.return=d,K=p):ch(a);for(;u!==null;)K=u,jp(u),u=u.sibling;K=a,$o=f,Qe=_}lh(e)}else a.subtreeFlags&8772&&u!==null?(u.return=a,K=u):lh(e)}}function lh(e){for(;K!==null;){var t=K;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Ys(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Qe)if(i===null)o.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:Tt(t.type,i.memoizedProps);o.componentDidUpdate(a,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Gd(t,u,o);break;case 3:var d=t.updateQueue;if(d!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Gd(t,d,i)}break;case 5:var f=t.stateNode;if(i===null&&t.flags&4){i=f;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&i.focus();break;case"img":p.src&&(i.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var S=_.memoizedState;if(S!==null){var P=S.dehydrated;P!==null&&Zr(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Qe||t.flags&512&&su(t)}catch(N){Oe(t,t.return,N)}}if(t===e){K=null;break}if(i=t.sibling,i!==null){i.return=t.return,K=i;break}K=t.return}}function uh(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var i=t.sibling;if(i!==null){i.return=t.return,K=i;break}K=t.return}}function ch(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ys(4,t)}catch(p){Oe(t,i,p)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var a=t.return;try{o.componentDidMount()}catch(p){Oe(t,a,p)}}var u=t.return;try{su(t)}catch(p){Oe(t,u,p)}break;case 5:var d=t.return;try{su(t)}catch(p){Oe(t,d,p)}}}catch(p){Oe(t,t.return,p)}if(t===e){K=null;break}var f=t.sibling;if(f!==null){f.return=t.return,K=f;break}K=t.return}}var pv=Math.ceil,zs=un.ReactCurrentDispatcher,Xu=un.ReactCurrentOwner,Pt=un.ReactCurrentBatchConfig,me=0,He=null,De=null,Ge=0,ct=0,Mi=Rn(0),Fe=0,Xr=null,ti=0,Xs=0,Ju=0,Ir=null,ot=null,ec=0,Wi=1/0,Xt=null,Rs=!1,uu=null,Tn=null,qo=!1,En=null,As=0,zr=0,cu=null,hs=-1,fs=0;function tt(){return me&6?ze():hs!==-1?hs:hs=ze()}function bn(e){return e.mode&1?me&2&&Ge!==0?Ge&-Ge:Yg.transition!==null?(fs===0&&(fs=cf()),fs):(e=ve,e!==0||(e=window.event,e=e===void 0?16:gf(e.type)),e):1}function It(e,t,i,o){if(50<zr)throw zr=0,cu=null,Error(F(185));eo(e,i,o),(!(me&2)||e!==He)&&(e===He&&(!(me&2)&&(Xs|=i),Fe===4&&wn(e,Ge)),ut(e,o),i===1&&me===0&&!(t.mode&1)&&(Wi=ze()+500,qs&&An()))}function ut(e,t){var i=e.callbackNode;Y_(e,t);var o=xs(e,e===He?Ge:0);if(o===0)i!==null&&yd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&yd(i),t===1)e.tag===0?Qg(dh.bind(null,e)):Rf(dh.bind(null,e)),Gg(function(){!(me&6)&&An()}),i=null;else{switch(df(o)){case 1:i=ju;break;case 4:i=lf;break;case 16:i=ys;break;case 536870912:i=uf;break;default:i=ys}i=Ip(i,Lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Lp(e,t){if(hs=-1,fs=0,me&6)throw Error(F(327));var i=e.callbackNode;if(Di()&&e.callbackNode!==i)return null;var o=xs(e,e===He?Ge:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Ds(e,o);else{t=o;var a=me;me|=2;var u=kp();(He!==e||Ge!==t)&&(Xt=null,Wi=ze()+500,Qn(e,t));do try{gv();break}catch(f){Cp(e,f)}while(!0);Bu(),zs.current=u,me=a,De!==null?t=0:(He=null,Ge=0,t=Fe)}if(t!==0){if(t===2&&(a=Al(e),a!==0&&(o=a,t=du(e,a))),t===1)throw i=Xr,Qn(e,0),wn(e,o),ut(e,ze()),i;if(t===6)wn(e,o);else{if(a=e.current.alternate,!(o&30)&&!mv(a)&&(t=Ds(e,o),t===2&&(u=Al(e),u!==0&&(o=u,t=du(e,u))),t===1))throw i=Xr,Qn(e,0),wn(e,o),ut(e,ze()),i;switch(e.finishedWork=a,e.finishedLanes=o,t){case 0:case 1:throw Error(F(345));case 2:Gn(e,ot,Xt);break;case 3:if(wn(e,o),(o&130023424)===o&&(t=ec+500-ze(),10<t)){if(xs(e,0)!==0)break;if(a=e.suspendedLanes,(a&o)!==o){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wl(Gn.bind(null,e,ot,Xt),t);break}Gn(e,ot,Xt);break;case 4:if(wn(e,o),(o&4194240)===o)break;for(t=e.eventTimes,a=-1;0<o;){var d=31-Ot(o);u=1<<d,d=t[d],d>a&&(a=d),o&=~u}if(o=a,o=ze()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*pv(o/1960))-o,10<o){e.timeoutHandle=Wl(Gn.bind(null,e,ot,Xt),o);break}Gn(e,ot,Xt);break;case 5:Gn(e,ot,Xt);break;default:throw Error(F(329))}}}return ut(e,ze()),e.callbackNode===i?Lp.bind(null,e):null}function du(e,t){var i=Ir;return e.current.memoizedState.isDehydrated&&(Qn(e,t).flags|=256),e=Ds(e,t),e!==2&&(t=ot,ot=i,t!==null&&hu(t)),e}function hu(e){ot===null?ot=e:ot.push.apply(ot,e)}function mv(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var a=i[o],u=a.getSnapshot;a=a.value;try{if(!zt(u(),a))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wn(e,t){for(t&=~Ju,t&=~Xs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ot(t),o=1<<i;e[i]=-1,t&=~o}}function dh(e){if(me&6)throw Error(F(327));Di();var t=xs(e,0);if(!(t&1))return ut(e,ze()),null;var i=Ds(e,t);if(e.tag!==0&&i===2){var o=Al(e);o!==0&&(t=o,i=du(e,o))}if(i===1)throw i=Xr,Qn(e,0),wn(e,t),ut(e,ze()),i;if(i===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,ot,Xt),ut(e,ze()),null}function tc(e,t){var i=me;me|=1;try{return e(t)}finally{me=i,me===0&&(Wi=ze()+500,qs&&An())}}function ni(e){En!==null&&En.tag===0&&!(me&6)&&Di();var t=me;me|=1;var i=Pt.transition,o=ve;try{if(Pt.transition=null,ve=1,e)return e()}finally{ve=o,Pt.transition=i,me=t,!(me&6)&&An()}}function nc(){ct=Mi.current,Ne(Mi)}function Qn(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Wg(i)),De!==null)for(i=De.return;i!==null;){var o=i;switch(Ru(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ns();break;case 3:Hi(),Ne(at),Ne(Ye),Wu();break;case 5:Vu(o);break;case 4:Hi();break;case 13:Ne(ke);break;case 19:Ne(ke);break;case 10:Fu(o.type._context);break;case 22:case 23:nc()}i=i.return}if(He=e,De=e=Mn(e.current,null),Ge=ct=t,Fe=0,Xr=null,Ju=Xs=ti=0,ot=Ir=null,qn!==null){for(t=0;t<qn.length;t++)if(i=qn[t],o=i.interleaved,o!==null){i.interleaved=null;var a=o.next,u=i.pending;if(u!==null){var d=u.next;u.next=a,o.next=d}i.pending=o}qn=null}return e}function Cp(e,t){do{var i=De;try{if(Bu(),us.current=Is,Os){for(var o=Te.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}Os=!1}if(ei=0,Ue=Be=Te=null,Mr=!1,Kr=0,Xu.current=null,i===null||i.return===null){Fe=1,Xr=t,De=null;break}e:{var u=e,d=i.return,f=i,p=t;if(t=Ge,f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var _=p,S=f,P=S.tag;if(!(S.mode&1)&&(P===0||P===11||P===15)){var N=S.alternate;N?(S.updateQueue=N.updateQueue,S.memoizedState=N.memoizedState,S.lanes=N.lanes):(S.updateQueue=null,S.memoizedState=null)}var j=Xd(d);if(j!==null){j.flags&=-257,Jd(j,d,f,u,t),j.mode&1&&Yd(u,_,t),t=j,p=_;var C=t.updateQueue;if(C===null){var E=new Set;E.add(p),t.updateQueue=E}else C.add(p);break e}else{if(!(t&1)){Yd(u,_,t),ic();break e}p=Error(F(426))}}else if(Le&&f.mode&1){var I=Xd(d);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Jd(I,d,f,u,t),Au(Vi(p,f));break e}}u=p=Vi(p,f),Fe!==4&&(Fe=2),Ir===null?Ir=[u]:Ir.push(u),u=d;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var v=dp(u,p,t);Wd(u,v);break e;case 1:f=p;var g=u.type,x=u.stateNode;if(!(u.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tn===null||!Tn.has(x)))){u.flags|=65536,t&=-t,u.lanes|=t;var T=hp(u,f,t);Wd(u,T);break e}}u=u.return}while(u!==null)}bp(i)}catch(B){t=B,De===i&&i!==null&&(De=i=i.return);continue}break}while(!0)}function kp(){var e=zs.current;return zs.current=Is,e===null?Is:e}function ic(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),He===null||!(ti&268435455)&&!(Xs&268435455)||wn(He,Ge)}function Ds(e,t){var i=me;me|=2;var o=kp();(He!==e||Ge!==t)&&(Xt=null,Qn(e,t));do try{_v();break}catch(a){Cp(e,a)}while(!0);if(Bu(),me=i,zs.current=o,De!==null)throw Error(F(261));return He=null,Ge=0,Fe}function _v(){for(;De!==null;)Tp(De)}function gv(){for(;De!==null&&!U_();)Tp(De)}function Tp(e){var t=Op(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?bp(e):De=t,Xu.current=null}function bp(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=cv(i,t),i!==null){i.flags&=32767,De=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,De=null;return}}else if(i=uv(i,t,ct),i!==null){De=i;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Fe===0&&(Fe=5)}function Gn(e,t,i){var o=ve,a=Pt.transition;try{Pt.transition=null,ve=1,vv(e,t,i,o)}finally{Pt.transition=a,ve=o}return null}function vv(e,t,i,o){do Di();while(En!==null);if(me&6)throw Error(F(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var u=i.lanes|i.childLanes;if(X_(e,u),e===He&&(De=He=null,Ge=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||qo||(qo=!0,Ip(ys,function(){return Di(),null})),u=(i.flags&15990)!==0,i.subtreeFlags&15990||u){u=Pt.transition,Pt.transition=null;var d=ve;ve=1;var f=me;me|=4,Xu.current=null,hv(e,i),Np(i,e),Dg(Hl),ws=!!Ul,Hl=Ul=null,e.current=i,fv(i),H_(),me=f,ve=d,Pt.transition=u}else e.current=i;if(qo&&(qo=!1,En=e,As=a),u=e.pendingLanes,u===0&&(Tn=null),G_(i.stateNode),ut(e,ze()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],o(a.value,{componentStack:a.stack,digest:a.digest});if(Rs)throw Rs=!1,e=uu,uu=null,e;return As&1&&e.tag!==0&&Di(),u=e.pendingLanes,u&1?e===cu?zr++:(zr=0,cu=e):zr=0,An(),null}function Di(){if(En!==null){var e=df(As),t=Pt.transition,i=ve;try{if(Pt.transition=null,ve=16>e?16:e,En===null)var o=!1;else{if(e=En,En=null,As=0,me&6)throw Error(F(331));var a=me;for(me|=4,K=e.current;K!==null;){var u=K,d=u.child;if(K.flags&16){var f=u.deletions;if(f!==null){for(var p=0;p<f.length;p++){var _=f[p];for(K=_;K!==null;){var S=K;switch(S.tag){case 0:case 11:case 15:Or(8,S,u)}var P=S.child;if(P!==null)P.return=S,K=P;else for(;K!==null;){S=K;var N=S.sibling,j=S.return;if(Sp(S),S===_){K=null;break}if(N!==null){N.return=j,K=N;break}K=j}}}var C=u.alternate;if(C!==null){var E=C.child;if(E!==null){C.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}K=u}}if(u.subtreeFlags&2064&&d!==null)d.return=u,K=d;else e:for(;K!==null;){if(u=K,u.flags&2048)switch(u.tag){case 0:case 11:case 15:Or(9,u,u.return)}var v=u.sibling;if(v!==null){v.return=u.return,K=v;break e}K=u.return}}var g=e.current;for(K=g;K!==null;){d=K;var x=d.child;if(d.subtreeFlags&2064&&x!==null)x.return=d,K=x;else e:for(d=g;K!==null;){if(f=K,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Ys(9,f)}}catch(B){Oe(f,f.return,B)}if(f===d){K=null;break e}var T=f.sibling;if(T!==null){T.return=f.return,K=T;break e}K=f.return}}if(me=a,An(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Hs,e)}catch{}o=!0}return o}finally{ve=i,Pt.transition=t}}return!1}function hh(e,t,i){t=Vi(i,t),t=dp(e,t,1),e=kn(e,t,1),t=tt(),e!==null&&(eo(e,1,t),ut(e,t))}function Oe(e,t,i){if(e.tag===3)hh(e,e,i);else for(;t!==null;){if(t.tag===3){hh(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Tn===null||!Tn.has(o))){e=Vi(i,e),e=hp(t,e,1),t=kn(t,e,1),e=tt(),t!==null&&(eo(t,1,e),ut(t,e));break}}t=t.return}}function yv(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&i,He===e&&(Ge&i)===i&&(Fe===4||Fe===3&&(Ge&130023424)===Ge&&500>ze()-ec?Qn(e,0):Ju|=i),ut(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):t=1);var i=tt();e=an(e,t),e!==null&&(eo(e,t,i),ut(e,i))}function xv(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Mp(e,i)}function wv(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(F(314))}o!==null&&o.delete(t),Mp(e,i)}var Op;Op=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return st=!1,lv(e,t,i);st=!!(e.flags&131072)}else st=!1,Le&&t.flags&1048576&&Af(t,Cs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;ds(e,t),e=t.pendingProps;var a=Fi(t,Ye.current);Ai(t,i),a=$u(null,t,o,e,a,i);var u=qu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(o)?(u=!0,js(t)):u=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Uu(t),a.updater=Qs,t.stateNode=a,a._reactInternals=t,Xl(t,o,e,i),t=tu(null,t,o,!0,u,i)):(t.tag=0,Le&&u&&zu(t),et(null,t,a,i),t=t.child),t;case 16:o=t.elementType;e:{switch(ds(e,t),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=Ev(o),e=Tt(o,e),a){case 0:t=eu(null,t,o,e,i);break e;case 1:t=nh(null,t,o,e,i);break e;case 11:t=eh(null,t,o,e,i);break e;case 14:t=th(null,t,o,Tt(o.type,e),i);break e}throw Error(F(306,o,""))}return t;case 0:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Tt(o,a),eu(e,t,o,a,i);case 1:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Tt(o,a),nh(e,t,o,a,i);case 3:e:{if(_p(t),e===null)throw Error(F(387));o=t.pendingProps,u=t.memoizedState,a=u.element,Hf(e,t),bs(t,o,null,i);var d=t.memoizedState;if(o=d.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){a=Vi(Error(F(423)),t),t=ih(e,t,o,i,a);break e}else if(o!==a){a=Vi(Error(F(424)),t),t=ih(e,t,o,i,a);break e}else for(dt=Cn(t.stateNode.containerInfo.firstChild),ht=t,Le=!0,Mt=null,i=Zf(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Zi(),o===a){t=ln(e,t,i);break e}et(e,t,o,i)}t=t.child}return t;case 5:return Vf(t),e===null&&Kl(t),o=t.type,a=t.pendingProps,u=e!==null?e.memoizedProps:null,d=a.children,Vl(o,a)?d=null:u!==null&&Vl(o,u)&&(t.flags|=32),mp(e,t),et(e,t,d,i),t.child;case 6:return e===null&&Kl(t),null;case 13:return gp(e,t,i);case 4:return Hu(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ui(t,null,o,i):et(e,t,o,i),t.child;case 11:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Tt(o,a),eh(e,t,o,a,i);case 7:return et(e,t,t.pendingProps,i),t.child;case 8:return et(e,t,t.pendingProps.children,i),t.child;case 12:return et(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,a=t.pendingProps,u=t.memoizedProps,d=a.value,Se(ks,o._currentValue),o._currentValue=d,u!==null)if(zt(u.value,d)){if(u.children===a.children&&!at.current){t=ln(e,t,i);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){d=u.child;for(var p=f.firstContext;p!==null;){if(p.context===o){if(u.tag===1){p=rn(-1,i&-i),p.tag=2;var _=u.updateQueue;if(_!==null){_=_.shared;var S=_.pending;S===null?p.next=p:(p.next=S.next,S.next=p),_.pending=p}}u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),Ql(u.return,i,t),f.lanes|=i;break}p=p.next}}else if(u.tag===10)d=u.type===t.type?null:u.child;else if(u.tag===18){if(d=u.return,d===null)throw Error(F(341));d.lanes|=i,f=d.alternate,f!==null&&(f.lanes|=i),Ql(d,i,t),d=u.sibling}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===t){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}et(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,o=t.pendingProps.children,Ai(t,i),a=Nt(a),o=o(a),t.flags|=1,et(e,t,o,i),t.child;case 14:return o=t.type,a=Tt(o,t.pendingProps),a=Tt(o.type,a),th(e,t,o,a,i);case 15:return fp(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,a=t.pendingProps,a=t.elementType===o?a:Tt(o,a),ds(e,t),t.tag=1,lt(o)?(e=!0,js(t)):e=!1,Ai(t,i),cp(t,o,a),Xl(t,o,a,i),tu(null,t,o,!0,e,i);case 19:return vp(e,t,i);case 22:return pp(e,t,i)}throw Error(F(156,t.tag))};function Ip(e,t){return af(e,t)}function Sv(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,i,o){return new Sv(e,t,i,o)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ev(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Eu)return 11;if(e===Pu)return 14}return 2}function Mn(e,t){var i=e.alternate;return i===null?(i=Et(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ps(e,t,i,o,a,u){var d=2;if(o=e,typeof e=="function")rc(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Si:return Yn(i.children,a,u,t);case Su:d=8,a|=8;break;case Sl:return e=Et(12,i,t,a|2),e.elementType=Sl,e.lanes=u,e;case El:return e=Et(13,i,t,a),e.elementType=El,e.lanes=u,e;case Pl:return e=Et(19,i,t,a),e.elementType=Pl,e.lanes=u,e;case Hh:return Js(i,a,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zh:d=10;break e;case Uh:d=9;break e;case Eu:d=11;break e;case Pu:d=14;break e;case vn:d=16,o=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Et(d,i,t,a),t.elementType=e,t.type=o,t.lanes=u,t}function Yn(e,t,i,o){return e=Et(7,e,o,t),e.lanes=i,e}function Js(e,t,i,o){return e=Et(22,e,o,t),e.elementType=Hh,e.lanes=i,e.stateNode={isHidden:!1},e}function dl(e,t,i){return e=Et(6,e,null,t),e.lanes=i,e}function hl(e,t,i){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pv(e,t,i,o,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oc(e,t,i,o,a,u,d,f,p){return e=new Pv(e,t,i,f,p),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Et(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uu(u),e}function Nv(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function zp(e){if(!e)return In;e=e._reactInternals;e:{if(ri(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var i=e.type;if(lt(i))return zf(e,i,t)}return t}function Rp(e,t,i,o,a,u,d,f,p){return e=oc(i,o,!0,e,a,u,d,f,p),e.context=zp(null),i=e.current,o=tt(),a=bn(i),u=rn(o,a),u.callback=t??null,kn(i,u,a),e.current.lanes=a,eo(e,a,o),ut(e,o),e}function ea(e,t,i,o){var a=t.current,u=tt(),d=bn(a);return i=zp(i),t.context===null?t.context=i:t.pendingContext=i,t=rn(u,d),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=kn(a,t,d),e!==null&&(It(e,a,d,u),ls(e,a,d)),d}function Bs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function sc(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function jv(){return null}var Ap=typeof reportError=="function"?reportError:function(e){console.error(e)};function ac(e){this._internalRoot=e}ta.prototype.render=ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));ea(e,t,null,null)};ta.prototype.unmount=ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ni(function(){ea(null,e,null,null)}),t[sn]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=pf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<xn.length&&t!==0&&t<xn[i].priority;i++);xn.splice(i,0,e),i===0&&_f(e)}};function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ph(){}function Lv(e,t,i,o,a){if(a){if(typeof o=="function"){var u=o;o=function(){var _=Bs(d);u.call(_)}}var d=Rp(t,o,e,0,null,!1,!1,"",ph);return e._reactRootContainer=d,e[sn]=d.current,Vr(e.nodeType===8?e.parentNode:e),ni(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof o=="function"){var f=o;o=function(){var _=Bs(p);f.call(_)}}var p=oc(e,0,!1,null,null,!1,!1,"",ph);return e._reactRootContainer=p,e[sn]=p.current,Vr(e.nodeType===8?e.parentNode:e),ni(function(){ea(t,p,i,o)}),p}function ia(e,t,i,o,a){var u=i._reactRootContainer;if(u){var d=u;if(typeof a=="function"){var f=a;a=function(){var p=Bs(d);f.call(p)}}ea(t,d,e,a)}else d=Lv(i,t,e,a,o);return Bs(d)}hf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Nr(t.pendingLanes);i!==0&&(Lu(t,i|1),ut(t,ze()),!(me&6)&&(Wi=ze()+500,An()))}break;case 13:ni(function(){var o=an(e,1);if(o!==null){var a=tt();It(o,e,1,a)}}),sc(e,1)}};Cu=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var i=tt();It(t,e,134217728,i)}sc(e,134217728)}};ff=function(e){if(e.tag===13){var t=bn(e),i=an(e,t);if(i!==null){var o=tt();It(i,e,t,o)}sc(e,t)}};pf=function(){return ve};mf=function(e,t){var i=ve;try{return ve=e,t()}finally{ve=i}};Il=function(e,t,i){switch(t){case"input":if(Ll(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var a=$s(o);if(!a)throw Error(F(90));Wh(o),Ll(o,a)}}}break;case"textarea":$h(e,i);break;case"select":t=i.value,t!=null&&Oi(e,!!i.multiple,t,!1)}};ef=tc;tf=ni;var Cv={usingClientEntryPoint:!1,Events:[no,ji,$s,Xh,Jh,tc]},Sr={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kv={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=of(e),e===null?null:e.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ko.isDisabled&&Ko.supportsFiber)try{Hs=Ko.inject(kv),Wt=Ko}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cv;pt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lc(t))throw Error(F(200));return Nv(e,t,null,i)};pt.createRoot=function(e,t){if(!lc(e))throw Error(F(299));var i=!1,o="",a=Ap;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=oc(e,1,!1,null,null,i,!1,o,a),e[sn]=t.current,Vr(e.nodeType===8?e.parentNode:e),new ac(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=of(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return ni(e)};pt.hydrate=function(e,t,i){if(!na(t))throw Error(F(200));return ia(null,e,t,!0,i)};pt.hydrateRoot=function(e,t,i){if(!lc(e))throw Error(F(405));var o=i!=null&&i.hydratedSources||null,a=!1,u="",d=Ap;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),t=Rp(t,null,e,1,i??null,a,!1,u,d),e[sn]=t.current,Vr(e),o)for(e=0;e<o.length;e++)i=o[e],a=i._getVersion,a=a(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new ta(t)};pt.render=function(e,t,i){if(!na(t))throw Error(F(200));return ia(null,e,t,!1,i)};pt.unmountComponentAtNode=function(e){if(!na(e))throw Error(F(40));return e._reactRootContainer?(ni(function(){ia(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};pt.unstable_batchedUpdates=tc;pt.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!na(i))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return ia(e,t,i,!1,o)};pt.version="18.3.1-next-f1338f8080-20240426";function Dp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dp)}catch(e){console.error(e)}}Dp(),Ah.exports=pt;var Bp=Ah.exports,mh=Bp;xl.createRoot=mh.createRoot,xl.hydrateRoot=mh.hydrateRoot;function fl({children:e,adminName:t,onLogout:i}){return l.jsxs("div",{className:"layout",children:[l.jsxs("header",{className:"layout__header",children:[l.jsx("h1",{children:"Painel Delivery"}),t&&l.jsxs("div",{className:"layout__user",children:[l.jsxs("div",{className:"layout__user-info",children:[l.jsx("span",{children:"Logado como"}),l.jsx("strong",{children:t})]}),i&&l.jsx("button",{className:"layout__logout",type:"button",onClick:i,children:"Sair"})]})]}),l.jsx("main",{className:"layout__main",children:e})]})}const Qo=2,_h=25;function gh(e){const t=new Date(e).getTime();if(Number.isNaN(t))return 0;const i=(Date.now()-t)/1e3/60;return Math.max(0,Math.round(i))}function Tv(e,t){const i=e.filter(f=>f.status==="PENDING").map(f=>({...f,waitMinutes:gh(f.createdAt)})).sort((f,p)=>f.waitMinutes-p.waitMinutes),o=e.filter(f=>f.status==="QUEUED").map(f=>({...f,waitMinutes:gh(f.createdAt)})).sort((f,p)=>p.waitMinutes-f.waitMinutes),a=t.filter(f=>f.status==="AVAILABLE").length,u=t.filter(f=>f.status==="ASSIGNED").length,d=[];if(i.length===0)d.push({id:"no-pending",title:"Nenhum pedido aguardando roteamento",description:o.length>0?"Todos os pedidos j esto agrupados aguardando atribuio.":a>0?"Temos motoboys livres para novos pedidos.":"Assim que novos pedidos chegarem eles aparecem aqui.",level:"info",category:"orders"});else{const f=i[i.length-1],p=i.filter(_=>_.waitMinutes>=_h);d.push({id:"pending-count",title:`${i.length} pedidos aguardando roteamento`,description:`Pedido mais antigo h ${f.waitMinutes} min. Lote ideal: ${Qo} pedidos.`,level:p.length>0?"danger":"warning",category:"orders"}),p.length>0&&d.push({id:"sla-risk",title:`${p.length} pedidos prestes a estourar SLA`,description:`Aguarda h ${p[0].waitMinutes}+ min (limite ${_h} min).`,level:"danger",category:"orders"}),a===0?d.push({id:"no-couriers",title:"Nenhum motoboy disponvel",description:"Libere algum para evitar fila de pedidos.",level:"warning",category:"couriers"}):a>0&&i.length<Qo&&d.push({id:"waiting-batch",title:"Aguardando completar o lote mnimo",description:`Precisamos de ${Qo} pedidos para roteamento automtico. Restam ${Math.max(0,Qo-i.length)}.`,level:"info",category:"orders"})}if(o.length>0){const f=new Set(o.map(p=>p.routeId).filter(p=>!!p)).size;d.push({id:"queued-orders",title:`${o.length} pedidos aguardando motoboy`,description:f>0?`${f} rota${f>1?"s":""} pronta(s) para atribuir.`:"Existe ao menos um lote aguardando deciso.",level:a>0?"warning":"danger",category:"routes"})}return u>0&&d.push({id:"couriers-pending-start",title:`${u} motoboy${u>1?"s":""} aguardando iniciar rota`,description:"Confirme com eles ou inicie automaticamente pelo painel.",level:"warning",category:"couriers"}),d}function Yo(e,t){return t?e.filter(i=>i.status===t).length:e.length}function Xo(e,t){return t?e.filter(i=>i.status===t).length:e.length}function bv(e){return e.reduce((t,i)=>t+(i.deliveryPrice??0),0)}const Mv={info:"Info",warning:"Ateno",danger:"Crtico"};function Ov({orders:e,couriers:t,routes:i,onFocusRoutes:o,onOpenManualRoute:a}){const u=p=>i.filter(_=>_.status===p).length,d=Tv(e,t),f=[{key:"orders",title:"Pedidos",icon:"",cards:[{label:"Na fila",value:Yo(e,"PENDING")},{label:"Agrupados",value:Yo(e,"QUEUED")},{label:"Em rota",value:Yo(e,"ON_ROUTE")},{label:"Entregues",value:Yo(e,"DELIVERED")}]},{key:"routes",title:"Rotas",icon:"",cards:[{label:"Aguardando motoboy",value:u("AWAITING_COURIER")},{label:"Confirmadas",value:u("ASSIGNED")},{label:"Na rua agora",value:u("IN_PROGRESS")}],actions:[o&&{label:"Ver rotas ativas",icon:"",handler:o},a&&{label:"Criar rota manual",icon:"",handler:a}].filter(p=>!!p)},{key:"couriers",title:"Motoboys",icon:"",cards:[{label:"Offline",value:Xo(t,"OFFLINE")},{label:"Disponveis",value:Xo(t,"AVAILABLE")},{label:"Aguardando rota",value:Xo(t,"ASSIGNED")},{label:"Em rota",value:Xo(t,"ON_TRIP")}]},{key:"finance",title:"Financeiro",icon:"",cards:[{label:"Valor previsto",value:`R$ ${bv(e).toFixed(2)}`}]}];return l.jsx("div",{className:"summary-sections",children:f.map(p=>{const _=d.filter(S=>S.category===p.key);return l.jsxs("section",{className:"summary-section",children:[l.jsxs("header",{className:"summary-section__header",children:[l.jsx("span",{"aria-hidden":!0,children:p.icon}),l.jsx("h3",{children:p.title})]}),l.jsx("div",{className:"summary-grid",children:p.cards.map(S=>l.jsxs("div",{className:"summary-card",children:[l.jsx("p",{className:"summary-card__label",children:S.label}),l.jsx("p",{className:"summary-card__value",children:S.value})]},S.label))}),_.length>0&&l.jsx("ul",{className:"summary-alerts",children:_.map(S=>l.jsxs("li",{className:`summary-alert summary-alert--${S.level}`,children:[l.jsx("span",{className:"summary-alert__badge",children:Mv[S.level]}),l.jsxs("div",{children:[l.jsx("p",{className:"summary-alert__title",children:S.title}),l.jsx("p",{className:"summary-alert__description",children:S.description})]})]},S.id))}),p.actions&&p.actions.length>0&&l.jsx("div",{className:"summary-actions",children:p.actions.map(S=>l.jsxs("button",{type:"button",className:"summary-actions__button",onClick:S.handler,children:[l.jsx("span",{"aria-hidden":!0,children:S.icon}),S.label]},S.label))})]},p.key)})})}const Iv=new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit"}),zv=new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"});function en(e,t="#"){if(!e)return"-";const i=e.replace(/-/g,"");return`${t}${i.slice(0,4).toUpperCase()}`}function uc(e){return Iv.format(new Date(e))}function cc(e){return zv.format(new Date(e))}const Rv=[{value:"ALL",label:"Todos",icon:""},{value:"PENDING",label:"Na fila",icon:""},{value:"QUEUED",label:"Agrupados",icon:""},{value:"ON_ROUTE",label:"Em rota",icon:""},{value:"DELIVERED",label:"Entregue",icon:""}],Av={PENDING:"Na fila",QUEUED:"Agrupado",ON_ROUTE:"Em rota",DELIVERED:"Entregue"};function Dv({orders:e,couriers:t}){const[i,o]=w.useState("ALL"),a=w.useMemo(()=>Object.fromEntries(t.map(f=>[f.id,f])),[t]),u=w.useMemo(()=>{const f={ALL:e.length,PENDING:0,QUEUED:0,ON_ROUTE:0,DELIVERED:0};return e.forEach(p=>{f[p.status]+=1}),f},[e]),d=w.useMemo(()=>i==="ALL"?e:e.filter(f=>f.status===i),[e,i]);return l.jsxs("section",{className:"panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Pedidos"}),l.jsx("p",{className:"panel__subtitle",children:"Use os filtros rpidos para focar apenas no que importa agora."})]})}),l.jsx("div",{className:"chip-grid chip-grid--filters orders-filters",children:Rv.map(f=>l.jsxs("button",{type:"button",className:`chip-button chip-button--filter${i===f.value?" chip-button--active":""}`,onClick:()=>o(f.value),children:[l.jsx("span",{className:"chip-button__icon","aria-hidden":!0,children:f.icon}),l.jsxs("div",{children:[l.jsx("p",{className:"chip-button__value",children:u[f.value]}),l.jsx("p",{className:"chip-button__label",children:f.label})]})]},f.value))}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Pedido"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Entregador"}),l.jsx("th",{children:"Valor"}),l.jsx("th",{children:"Quando"})]})}),l.jsxs("tbody",{children:[d.map(f=>{var p,_;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:f.address}),l.jsxs("p",{className:"table-subtitle",children:["Pedido ",en(f.id)]})]}),l.jsxs("td",{children:[l.jsx("span",{className:`status-pill status-pill--${f.status.toLowerCase()}`,children:Av[f.status]}),f.routeId&&l.jsxs("p",{className:"table-subtitle",children:["Rota ",en(f.routeId)]})]}),l.jsx("td",{children:f.courierId?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"table-title",children:((p=a[f.courierId])==null?void 0:p.name)??"Atribudo"}),l.jsxs("p",{className:"table-subtitle",children:["Telefone: ",((_=a[f.courierId])==null?void 0:_.phone)??"-"]})]}):l.jsx("p",{className:"table-subtitle",children:"Aguardando motoboy"})}),l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:f.deliveryPrice!==void 0?`R$ ${f.deliveryPrice.toFixed(2)}`:"-"}),f.pricingRule&&l.jsxs("p",{className:"table-subtitle",children:[f.pricingRule.type==="ZONE"?"Zona":"Distncia","  ",f.pricingRule.label]})]}),l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:cc(f.createdAt)}),l.jsx("p",{className:"table-subtitle",children:uc(f.createdAt)})]})]},f.id)}),d.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"empty",children:"Nenhum pedido para mostrar."})})]})]})})]})}const Pn={PENDING:"Na fila",QUEUED:"Agrupado",ON_ROUTE:"Em rota",DELIVERED:"Entregue"},Fs={AWAITING_COURIER:"Aguardando motoboy",ASSIGNED:"Separando pedidos",IN_PROGRESS:"Em rota",DONE:"Finalizada"},Zs={OFFLINE:"Offline",AVAILABLE:"Disponvel",ASSIGNED:"Aguardando rota",ON_TRIP:"Em rota"};function Bv({couriers:e,onSelectCourier:t}){const i=w.useMemo(()=>{const a={OFFLINE:0,AVAILABLE:0,ASSIGNED:0,ON_TRIP:0};return e.forEach(u=>{a[u.status]+=1}),a},[e]),o=[{status:"AVAILABLE",label:"Prontos para rota",hint:"Aguardando pedidos",icon:""},{status:"ASSIGNED",label:"Rotas pendentes",hint:"Esperando iniciar",icon:""},{status:"ON_TRIP",label:"Em rota",hint:"Na rua agora",icon:""},{status:"OFFLINE",label:"Offline",hint:"Precisam ativar disponibilidade",icon:""}].map(a=>({...a,count:i[a.status]}));return l.jsxs("section",{className:"panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Motoboys"}),l.jsx("p",{className:"panel__subtitle",children:"Painel rpido de disponibilidade e status de rota."})]})}),l.jsx("div",{className:"chip-grid couriers-summary",children:o.map(a=>l.jsxs("div",{className:`chip-button couriers-summary__chip couriers-summary__chip--${a.status.toLowerCase()}`,children:[l.jsx("span",{className:"chip-button__icon","aria-hidden":!0,children:a.icon}),l.jsxs("div",{children:[l.jsx("p",{className:"chip-button__value",children:a.count}),l.jsx("p",{className:"chip-button__label",children:a.label}),l.jsx("p",{className:"chip-button__hint",children:a.hint})]})]},a.status))}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Motoboy"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[e.map(a=>l.jsxs("tr",{className:"clickable-row",onClick:()=>t(a),children:[l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:a.name}),l.jsxs("p",{className:"table-subtitle",children:["ID interno: ",a.id.slice(0,6).toUpperCase()]})]}),l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:a.phone}),l.jsx("p",{className:"table-subtitle",children:"Login no app do motoboy"})]}),l.jsxs("td",{children:[l.jsx("span",{className:`status-pill status-pill--${a.status.toLowerCase()}`,children:Zs[a.status]}),l.jsxs("p",{className:"table-subtitle couriers-table__status-hint",children:[a.status==="AVAILABLE"&&"Pode receber nova rota imediatamente.",a.status==="ASSIGNED"&&"Existe uma rota aguardando ele iniciar.",a.status==="ON_TRIP"&&"Entregas em andamento, acompanhe pela aba Rotas.",a.status==="OFFLINE"&&"Aguardando login/disponibilidade no app."]})]}),l.jsx("td",{children:a.status==="OFFLINE"?l.jsx("p",{className:"table-subtitle",children:"O prprio motoboy ativa a disponibilidade pelo app."}):l.jsx("div",{children:l.jsxs("p",{className:"table-subtitle",children:[a.status==="AVAILABLE"&&"Sistema j sabe que ele est pronto.",a.status==="ASSIGNED"&&"Aguardando o motoboy iniciar a rota pelo app.",a.status==="ON_TRIP"&&"Finalize a rota atual para liberar novas entregas."]})})})]},a.id)),e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"empty",children:"Nenhum motoboy cadastrado."})})]})]})})]})}function Fv({routes:e,couriers:t,orders:i,onSelectRoute:o}){var N;const[a,u]=w.useState("ALL"),d=w.useMemo(()=>Object.fromEntries(t.map(j=>[j.id,j])),[t]),f=w.useMemo(()=>Object.fromEntries(i.map(j=>[j.id,j])),[i]),p=w.useMemo(()=>{const j={AWAITING_COURIER:0,ASSIGNED:0,IN_PROGRESS:0,DONE:0};return e.forEach(C=>{j[C.status]+=1}),j},[e]),_=[{status:"AWAITING_COURIER",label:"Aguardando motoboy",hint:"Prontas para atribuir",icon:"",count:p.AWAITING_COURIER},{status:"ASSIGNED",label:"Confirmadas",hint:"Aguardando incio",icon:"",count:p.ASSIGNED},{status:"IN_PROGRESS",label:"Em execuo",hint:"Na rua agora",icon:"",count:p.IN_PROGRESS},{status:"DONE",label:"Finalizadas",hint:"ltimas 24h",icon:"",count:p.DONE}],S=w.useMemo(()=>a==="ALL"?e:e.filter(j=>j.status===a),[e,a]),P=a==="ALL"?null:(N=_.find(j=>j.status===a))==null?void 0:N.label;return l.jsxs("section",{className:"panel panel--routes",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Rotas"}),l.jsx("p",{className:"panel__subtitle",children:"Acompanhe o ciclo de vida das rotas."})]})}),l.jsx("div",{className:"chip-grid",children:_.map(j=>l.jsxs("button",{className:`chip-button chip-button--${j.status.toLowerCase()}${a===j.status?" chip-button--active":""}`,onClick:()=>u(C=>C===j.status?"ALL":j.status),type:"button",children:[l.jsx("span",{className:"chip-button__icon","aria-hidden":!0,children:j.icon}),l.jsxs("div",{children:[l.jsx("p",{className:"chip-button__value",children:j.count}),l.jsx("p",{className:"chip-button__label",children:j.label}),l.jsx("p",{className:"chip-button__hint",children:j.hint})]})]},j.status))}),P&&l.jsxs("div",{className:"chip-filter-hint",children:[l.jsxs("span",{children:["Filtrando por: ",P]}),l.jsx("button",{type:"button",onClick:()=>u("ALL"),children:"Limpar filtro"})]}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table routes-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rota"}),l.jsx("th",{children:"Motoboy"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Valor estimado"}),l.jsx("th",{children:"Criada em"})]})}),l.jsxs("tbody",{children:[S.map(j=>{var C,E;return l.jsxs("tr",{className:"clickable-row",onClick:()=>o(j),children:[l.jsxs("td",{children:[l.jsxs("p",{className:"table-title",children:["Rota ",en(j.id)]}),l.jsxs("p",{className:"table-subtitle",children:[j.orderIds.length," paradas"]})]}),l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:j.courierId?((C=d[j.courierId])==null?void 0:C.name)??"Motoboy desconhecido":"No atribudo"}),l.jsx("p",{className:"table-subtitle",children:j.courierId?((E=d[j.courierId])==null?void 0:E.phone)??"":"Aguardando deciso"})]}),l.jsxs("td",{children:[l.jsx("span",{className:`status-pill status-pill--route-${j.status.toLowerCase()}`,children:Fs[j.status]}),l.jsx("p",{className:"table-subtitle",children:`${j.orderIds.filter(I=>{var v;return((v=f[I])==null?void 0:v.status)==="DELIVERED"}).length} / ${j.orderIds.length} entregues`})]}),l.jsx("td",{children:j.totalPrice!==void 0?l.jsxs("p",{className:"table-title",children:["R$ ",j.totalPrice.toFixed(2)]}):l.jsx("p",{className:"table-subtitle",children:"-"})}),l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:cc(j.createdAt)}),l.jsx("p",{className:"table-subtitle",children:uc(j.createdAt)})]})]},j.id)}),S.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"empty",children:a==="ALL"?"Nenhuma rota criada ainda.":"Nenhuma rota nesse status agora."})})]})]})})]})}function Zv({orders:e,onClose:t,onCreateRoute:i}){const[o,a]=w.useState([]),[u,d]=w.useState(!1),[f,p]=w.useState(null),_=w.useMemo(()=>[...e].sort((C,E)=>new Date(C.createdAt).getTime()-new Date(E.createdAt).getTime()),[e]);w.useEffect(()=>{const C=E=>{E.key==="Escape"&&t()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[t]),w.useEffect(()=>{a(C=>C.filter(E=>_.some(I=>I.id===E)))},[_]);const S=C=>{a(E=>E.includes(C)?E.filter(I=>I!==C):[...E,C])},P=()=>{o.length===_.length?a([]):a(_.map(C=>C.id))},N=async C=>{if(C.preventDefault(),o.length===0){p("Selecione ao menos um pedido para criar a rota.");return}d(!0),p(null);try{await i(o),a([]),t()}catch(E){p(E instanceof Error?E.message:"Erro ao criar rota.")}finally{d(!1)}},j=o.length===_.length&&_.length>0;return l.jsx("div",{className:"manual-route-modal__backdrop",role:"dialog","aria-modal":"true",children:l.jsxs("form",{className:"manual-route-modal",onSubmit:N,children:[l.jsxs("header",{className:"manual-route-modal__header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Criar rota manual"}),l.jsx("p",{children:"Escolha pedidos na fila para formar uma nova rota."})]}),l.jsx("button",{type:"button",className:"modal-close-button",onClick:t,"aria-label":"Fechar",children:""})]}),_.length===0?l.jsx("p",{className:"manual-route-modal__empty",children:"Nenhum pedido disponvel para seleo."}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"manual-route-modal__toolbar",children:[l.jsxs("p",{children:[o.length," selecionado",o.length===1?"":"s"]}),l.jsx("button",{type:"button",onClick:P,className:"link-button",children:j?"Limpar seleo":"Selecionar todos"})]}),l.jsx("div",{className:"manual-route-modal__list",children:_.map(C=>{const E=o.includes(C.id);return l.jsxs("label",{className:`manual-route-modal__item${E?" is-selected":""}`,children:[l.jsx("input",{type:"checkbox",checked:E,onChange:()=>S(C.id)}),l.jsxs("div",{className:"manual-route-modal__details",children:[l.jsx("p",{className:"manual-route-modal__address",children:C.address}),l.jsxs("p",{className:"manual-route-modal__meta",children:["Pedido ",en(C.id),"  ",cc(C.createdAt)," "," ",uc(C.createdAt)]})]}),l.jsx("div",{className:"manual-route-modal__price",children:C.deliveryPrice!==void 0?`R$ ${C.deliveryPrice.toFixed(2)}`:"-"})]},C.id)})})]}),f&&l.jsx("p",{className:"manual-route-modal__error",children:f}),l.jsxs("div",{className:"manual-route-modal__actions",children:[l.jsx("button",{type:"button",className:"button",onClick:t,disabled:u,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"button button--primary",disabled:o.length===0||u||_.length===0,children:u?"Criando...":"Criar rota"})]})]})})}const $t="http://localhost:3000";let Fp=null;function Jo(e){Fp=e}function Uv(e){const t=e??Fp;if(!t)throw new Error("Admin no autenticado. Faa login novamente.");return t}function Hv(e={},t){return{...e,Authorization:`Bearer ${Uv(t)}`}}function _e(e,t={},i){const o=Hv(t.headers,i);return fetch(`${$t}${e}`,{...t,headers:o})}function dc(e){if(!e)return"";const t=new URLSearchParams;e.limit!==void 0&&t.set("limit",String(e.limit)),e.offset!==void 0&&t.set("offset",String(e.offset)),e.includeOrders&&t.set("includeOrders","true");const i=t.toString();return i?`?${i}`:""}function hc(e){return Array.isArray(e)?{data:e}:e}function oi(e){return{Authorization:`Bearer ${e}`}}async function pe(e){if(!e.ok){const t=await e.text(),i=new Error(t||`Request failed with status ${e.status}`);throw i.status=e.status,i}return e.json()}function vh(e){return{id:e.id,startedAt:new Date(e.startedAt),visibleFrom:new Date(e.visibleFrom),visibleFromSequence:e.visibleFromSequence,closedAt:e.closedAt?new Date(e.closedAt):void 0}}async function Vv(e,t){const i=await fetch(`${$t}/auth/courier/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,pin:t})});return pe(i)}async function Wv(e,t){const i=await fetch(`${$t}/auth/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});return pe(i)}async function Gv(e){const t=await _e("/auth/admin/me",{},e);return(await pe(t)).admin}async function $v(){const e=await _e("/admins");return pe(e)}async function qv(e,t,i){const o=await _e("/admins",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:i})});return pe(o)}async function Kv(e,t){const i=await _e(`/admins/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return pe(i)}async function Qv(e){const t=await _e(`/admins/${e}`,{method:"DELETE"});if(!t.ok){const i=await t.text();throw new Error(i||"Erro ao remover administrador")}}async function Zp(e){const t=dc(e),i=await _e(`/debug/orders${t}`),o=await pe(i);return hc(o)}async function Up(e){const t=dc(e),i=await _e(`/debug/couriers${t}`),o=await pe(i);return hc(o)}async function Hp(e){const t=dc(e),i=await _e(`/debug/routes${t}`),o=await pe(i);return hc(o)}async function Yv(e,t,i){const o=await _e("/couriers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,phone:t,pin:i})});return pe(o)}async function Xv(e){const t=await _e("/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return pe(t)}async function Jv(e,t){const i=await fetch(`${$t}/couriers/me/orders/${t}/delivered`,{method:"POST",headers:oi(e)});return pe(i)}async function ey(e){const t=await _e(`/couriers/${e}/current-route`);return t.status===204?null:pe(t)}async function ty(e){const t=await fetch(`${$t}/couriers/me/current-route`,{headers:oi(e)});return t.status===404||t.status===204?null:pe(t)}async function ny(e){const t=await fetch(`${$t}/couriers/me/available`,{method:"POST",headers:oi(e)});return pe(t)}async function iy(e){const t=await fetch(`${$t}/couriers/me/offline`,{method:"POST",headers:oi(e)});return t.status===404||t.status===401?null:pe(t)}async function ry(e){const t=await fetch(`${$t}/couriers/me`,{headers:oi(e)});return pe(t)}async function oy(e,t=5){const i=await fetch(`${$t}/couriers/me/history?limit=${t}`,{headers:oi(e)});return(await pe(i)).history}async function sy(e,t){const i=await _e(`/routes/${e}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courierId:t})});return pe(i)}async function ay(e){const t=await _e(`/routes/${e}/assign/auto`,{method:"POST"});return pe(t)}async function ly(e){const t=await _e("/routes/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderIds:e})});return pe(t)}async function uy(e,t){const i=await fetch(`${$t}/routes/${t}/start`,{method:"POST",headers:oi(e)});return pe(i)}async function cy(){const e=await _e("/pricing/bands");return pe(e)}async function dy(e,t){const i=await _e("/pricing/bands",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({maxDistanceKm:e,price:t})});return pe(i)}async function hy(e,t,i){const o=await _e(`/pricing/bands/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({maxDistanceKm:t,price:i})});return pe(o)}async function fy(e){const t=await _e(`/pricing/bands/${e}`,{method:"DELETE"});if(!t.ok&&t.status!==204){const i=await t.text();throw new Error(i||"Erro ao remover faixa de preo")}}async function py(){const e=await _e("/pricing/zones");return pe(e)}async function my(e,t,i){const o=await _e("/pricing/zones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,matchText:t,price:i})});return pe(o)}async function _y(e,t){const i=await _e(`/pricing/zones/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return pe(i)}async function gy(e){const t=await _e(`/pricing/zones/${e}`,{method:"DELETE"});if(!t.ok&&t.status!==204){const i=await t.text();throw new Error(i||"Erro ao remover zona")}}async function vy(e,t){const i=await _e(`/couriers/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return pe(i)}async function yy(e){const t=await _e(`/couriers/${e}`,{method:"DELETE"});if(!t.ok&&t.status!==204){const i=await t.text();throw new Error(i||"Erro ao remover motoboy")}}async function xy(e,t){const i=await _e(`/orders/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return pe(i)}async function wy(e,t){const i=new URLSearchParams;i.set("force","true");const o=i.toString()?`?${i.toString()}`:"",a=await _e(`/orders/${e}${o}`,{method:"DELETE"});if(!a.ok&&a.status!==204){const u=await a.text();throw new Error(u||"Erro ao remover pedido")}}async function Sy(e,t){const i=new URLSearchParams;i.set("force","true");const o=i.toString()?`?${i.toString()}`:"",a=await _e(`/routes/${e}${o}`,{method:"DELETE"});if(!a.ok&&a.status!==204){const u=await a.text();throw new Error(u||"Erro ao remover rota")}}async function Ey(){const e=await _e("/restaurant");return pe(e)}async function Py(e){const t=await _e("/restaurant",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return pe(t)}async function fc(){const e=await _e("/operation-day"),t=await pe(e);return{current:t.current?vh(t.current):null,history:t.history.map(vh)}}async function Ny(){return await _e("/operation-day/start",{method:"POST"}),fc()}async function jy(){return await _e("/operation-day/close",{method:"POST"}),fc()}async function Ly(e,t){const i=new URLSearchParams;i.append("from",e.toISOString()),i.append("to",t.toISOString());const o=await _e(`/reports/orders?${i.toString()}`);return pe(o)}function Cy(){const[e,t]=w.useState([]),[i,o]=w.useState([]),[a,u]=w.useState(!0),[d,f]=w.useState(),p=w.useCallback(async()=>{try{u(!0);const[E,I]=await Promise.all([cy(),py()]);t(E),o(I),f(void 0)}catch(E){console.error(E),f(E instanceof Error?E.message:"No foi possvel carregar as regras de preo")}finally{u(!1)}},[]);w.useEffect(()=>{p()},[p]);const _=w.useCallback(async(E,I)=>{await dy(E,I),await p()},[p]),S=w.useCallback(async(E,I,v)=>{await hy(E,I,v),await p()},[p]),P=w.useCallback(async E=>{await fy(E),await p()},[p]),N=w.useCallback(async(E,I,v)=>{await my(E,I,v),await p()},[p]),j=w.useCallback(async(E,I)=>{await _y(E,I),await p()},[p]),C=w.useCallback(async E=>{await gy(E),await p()},[p]);return{bands:e,zones:i,loading:a,error:d,refresh:p,addBand:_,editBand:S,removeBand:P,addZone:N,editZone:j,removeZone:C}}function ky(){const{bands:e,zones:t,loading:i,error:o,addBand:a,editBand:u,removeBand:d,addZone:f,editZone:p,removeZone:_}=Cy(),[S,P]=w.useState(""),[N,j]=w.useState(""),[C,E]=w.useState(""),[I,v]=w.useState(""),[g,x]=w.useState(""),[T,B]=w.useState(null),[R,z]=w.useState(null),[H,ee]=w.useState(),[Y,U]=w.useState(),X=w.useMemo(()=>[...e].sort((W,O)=>W.maxDistanceKm-O.maxDistanceKm),[e]),Z=async W=>{W.preventDefault();const O=Number(S),q=Number(N);if(!(Number.isNaN(O)||Number.isNaN(q)))try{await a(O,q),P(""),j(""),ee("Faixa criada com sucesso."),U(void 0)}catch(A){console.error(A),ee(void 0),U("No foi possvel criar a faixa.")}},V=async()=>{if(!T)return;const{id:W,maxDistanceKm:O,price:q}=T;try{await u(W,O,q),B(null),ee("Faixa atualizada."),U(void 0)}catch(A){console.error(A),ee(void 0),U("Erro ao atualizar faixa.")}},oe=async W=>{if(W.preventDefault(),!C||!I)return;const O=Number(g);if(!Number.isNaN(O))try{await f(C,I,O),E(""),v(""),x(""),ee("Zona criada."),U(void 0)}catch(q){console.error(q),ee(void 0),U("No foi possvel criar a zona.")}},te=async()=>{if(!R)return;const{id:W,name:O,matchText:q,price:A}=R;try{await p(W,{name:O,matchText:q,price:A}),z(null),ee("Zona atualizada."),U(void 0)}catch(Q){console.error(Q),ee(void 0),U("Erro ao atualizar zona.")}};return l.jsxs("section",{className:"panel pricing-panel",children:[l.jsxs("header",{className:"panel__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Regras de preo"}),l.jsx("p",{className:"panel__subtitle",children:"Configure quanto cobrar por faixa de distncia ou por zonas especiais (bairros/palavras-chave)."})]}),i&&l.jsx("span",{className:"pricing-chip",children:"Carregando..."})]}),(H||Y||o)&&l.jsx("p",{className:`pricing-message ${Y||o?"pricing-message--error":"pricing-message--success"}`,children:Y??o??H}),l.jsxs("div",{className:"pricing-grid",children:[l.jsxs("div",{className:"pricing-card",children:[l.jsxs("header",{className:"pricing-card__header",children:[l.jsx("h3",{children:" Faixas por distncia"}),l.jsx("p",{className:"pricing-description",children:"Para pedidos fora das zonas especiais (usamos a menor distncia que se encaixar)."})]}),l.jsxs("table",{className:"pricing-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"At (km)"}),l.jsx("th",{children:"Valor (R$)"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[X.map(W=>{const O=(T==null?void 0:T.id)===W.id;return l.jsxs("tr",{children:[l.jsx("td",{children:O?l.jsx("input",{type:"number",value:(T==null?void 0:T.maxDistanceKm)??W.maxDistanceKm,onChange:q=>{const A=Number(q.target.value);!Number.isNaN(A)&&T&&B({...T,maxDistanceKm:A})}}):`${W.maxDistanceKm} km`}),l.jsx("td",{children:O?l.jsx("input",{type:"number",step:"0.5",value:(T==null?void 0:T.price)??W.price,onChange:q=>{const A=Number(q.target.value);!Number.isNaN(A)&&T&&B({...T,price:A})}}):`R$ ${W.price.toFixed(2)}`}),l.jsx("td",{children:O?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"button button--primary",onClick:V,children:"Salvar"}),l.jsx("button",{className:"button",onClick:()=>B(null),children:"Cancelar"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"button",onClick:()=>B({...W}),children:"Editar"}),l.jsx("button",{className:"button",onClick:()=>d(W.id),children:"Remover"})]})})]},W.id)}),e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"empty",children:"Nenhuma faixa cadastrada."})})]})]}),l.jsxs("form",{className:"pricing-form",onSubmit:Z,children:[l.jsx("h4",{children:"Adicionar faixa"}),l.jsxs("label",{children:["At (km)",l.jsx("input",{type:"number",value:S,onChange:W=>P(W.target.value),placeholder:"Ex: 5",required:!0,min:"0",step:"0.5"})]}),l.jsxs("label",{children:["Valor (R$)",l.jsx("input",{type:"number",step:"0.5",value:N,onChange:W=>j(W.target.value),placeholder:"Ex: 8",required:!0,min:"0"})]}),l.jsx("button",{type:"submit",className:"button button--primary",children:"Adicionar faixa"})]})]}),l.jsxs("div",{className:"pricing-card",children:[l.jsxs("header",{className:"pricing-card__header",children:[l.jsx("h3",{children:" Zonas especiais"}),l.jsx("p",{className:"pricing-description",children:"Se o endereo contiver a palavra-chave, esta tarifa tem prioridade sobre a distncia."})]}),l.jsxs("table",{className:"pricing-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Zona"}),l.jsx("th",{children:"Palavra-chave"}),l.jsx("th",{children:"Valor"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[t.map(W=>{const O=(R==null?void 0:R.id)===W.id;return l.jsxs("tr",{children:[l.jsx("td",{children:O?l.jsx("input",{type:"text",value:(R==null?void 0:R.name)??W.name,onChange:q=>{z(A=>A&&{...A,name:q.target.value})}}):W.name}),l.jsx("td",{children:O?l.jsx("input",{type:"text",value:(R==null?void 0:R.matchText)??W.matchText,onChange:q=>{z(A=>A&&{...A,matchText:q.target.value})}}):l.jsx("span",{className:"pricing-keyword",children:W.matchText})}),l.jsx("td",{children:O?l.jsx("input",{type:"number",step:"0.5",value:(R==null?void 0:R.price)??W.price,onChange:q=>{const A=Number(q.target.value);!Number.isNaN(A)&&R&&z({...R,price:A})}}):`R$ ${W.price.toFixed(2)}`}),l.jsx("td",{children:O?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"button button--primary",onClick:te,children:"Salvar"}),l.jsx("button",{className:"button",onClick:()=>z(null),children:"Cancelar"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"button",onClick:()=>z({...W}),children:"Editar"}),l.jsx("button",{className:"button",onClick:()=>_(W.id),children:"Remover"})]})})]},W.id)}),t.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"empty",children:"Nenhuma zona cadastrada."})})]})]}),l.jsxs("form",{className:"pricing-form",onSubmit:oe,children:[l.jsx("h4",{children:"Adicionar zona"}),l.jsxs("label",{children:["Nome",l.jsx("input",{type:"text",value:C,onChange:W=>E(W.target.value),placeholder:"Ex: Centro expandido",required:!0})]}),l.jsxs("label",{children:["Palavra-chave (no endereo)",l.jsx("input",{type:"text",value:I,onChange:W=>v(W.target.value),placeholder:"Ex: Copacabana",required:!0})]}),l.jsxs("label",{children:["Valor (R$)",l.jsx("input",{type:"number",step:"0.5",value:g,onChange:W=>x(W.target.value),placeholder:"Ex: 12",required:!0,min:"0"})]}),l.jsx("button",{type:"submit",className:"button button--primary",children:"Adicionar zona"})]})]})]})]})}function Vp(e=!0){const[t,i]=w.useState(null),[o,a]=w.useState(!0),[u,d]=w.useState(null),f=async()=>{if(e){a(!0);try{const _=await Ey();i(_),d(null)}catch(_){console.error(_),d(_ instanceof Error?_.message:"Erro ao carregar restaurante")}finally{a(!1)}}},p=async _=>{if(!t)return;const S={name:_.name??t.name,address:_.address??t.address,lat:_.lat??t.lat,lng:_.lng??t.lng,contactPhone:_.contactPhone??t.contactPhone,maxRadiusKm:_.maxRadiusKm??t.maxRadiusKm,minBatch:_.minBatch??t.minBatch??void 0,maxBatch:_.maxBatch??t.maxBatch??void 0,maxWaitMinutes:_.maxWaitMinutes??t.maxWaitMinutes??void 0,smartBatchHoldMinutes:_.smartBatchHoldMinutes??t.smartBatchHoldMinutes??void 0};try{const P=await Py(S);i(P),d(null)}catch(P){throw console.error(P),P}};return w.useEffect(()=>{if(!e){i(null),a(!1),d(null);return}f()},[e]),{profile:t,loading:o,error:u,refetch:f,updateProfile:p}}const es={minBatch:2,maxBatch:5,maxWaitMinutes:25,smartBatchHoldMinutes:5};function Ty(){const{profile:e,loading:t,error:i,updateProfile:o,refetch:a}=Vp(),[u,d]=w.useState({name:"",address:"",lat:"",lng:"",contactPhone:"",maxRadiusKm:"",minBatch:"",maxBatch:"",maxWaitMinutes:"",smartBatchHoldMinutes:""}),[f,p]=w.useState(null),[_,S]=w.useState(!1),[P,N]=w.useState(null);w.useEffect(()=>{e&&d({name:e.name,address:e.address,lat:String(e.lat),lng:String(e.lng),contactPhone:e.contactPhone??"",maxRadiusKm:String(e.maxRadiusKm),minBatch:String(e.minBatch??es.minBatch),maxBatch:String(e.maxBatch??es.maxBatch),maxWaitMinutes:String(e.maxWaitMinutes??es.maxWaitMinutes),smartBatchHoldMinutes:String(e.smartBatchHoldMinutes??es.smartBatchHoldMinutes)})},[e]);const j=async C=>{if(C.preventDefault(),!!e){S(!0),p(null),N(null);try{await o({name:u.name,address:u.address,lat:Number(u.lat),lng:Number(u.lng),contactPhone:u.contactPhone,maxRadiusKm:Number(u.maxRadiusKm),minBatch:Number(u.minBatch),maxBatch:Number(u.maxBatch),maxWaitMinutes:Number(u.maxWaitMinutes),smartBatchHoldMinutes:Number(u.smartBatchHoldMinutes)}),p("Dados atualizados com sucesso.")}catch(E){console.error(E),N(E instanceof Error?E.message:"Erro ao salvar alteraes")}finally{S(!1)}}};return l.jsxs("section",{className:"panel settings-panel",children:[l.jsxs("header",{className:"panel__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Configuraes do restaurante"}),l.jsx("p",{className:"panel__subtitle",children:"Defina o ponto de origem, dados de contato e raio mximo de entrega."})]}),l.jsx("button",{type:"button",className:"button",onClick:a,disabled:t,children:"Atualizar dados"})]}),i&&l.jsx("p",{className:"settings-error",children:i}),P&&l.jsx("p",{className:"settings-error",children:P}),f&&l.jsx("p",{className:"settings-success",children:f}),l.jsxs("form",{className:"settings-form",onSubmit:j,children:[l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Perfil do restaurante"}),l.jsx("p",{className:"panel__subtitle",children:"Endereo base, contato e ponto de partida das rotas."})]}),l.jsxs("label",{children:["Nome",l.jsx("input",{type:"text",value:u.name,onChange:C=>d(E=>({...E,name:C.target.value})),required:!0})]}),l.jsxs("label",{children:["Endereo",l.jsx("input",{type:"text",value:u.address,onChange:C=>d(E=>({...E,address:C.target.value})),required:!0})]}),l.jsxs("label",{children:["Telefone de contato",l.jsx("input",{type:"text",value:u.contactPhone,onChange:C=>d(E=>({...E,contactPhone:C.target.value})),placeholder:"(00) 00000-0000"})]}),l.jsxs("div",{className:"settings-grid",children:[l.jsxs("label",{children:["Latitude",l.jsx("input",{type:"number",value:u.lat,onChange:C=>d(E=>({...E,lat:C.target.value})),step:"0.000001",required:!0})]}),l.jsxs("label",{children:["Longitude",l.jsx("input",{type:"number",value:u.lng,onChange:C=>d(E=>({...E,lng:C.target.value})),step:"0.000001",required:!0})]}),l.jsxs("label",{children:["Raio mximo (km)",l.jsx("input",{type:"number",value:u.maxRadiusKm,onChange:C=>d(E=>({...E,maxRadiusKm:C.target.value})),step:"0.5",min:"0",required:!0})]})]})]}),l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Configuraes das rotas"}),l.jsx("p",{className:"panel__subtitle",children:"Ajuste como os pedidos so agrupados automaticamente e o tempo mximo de espera."})]}),l.jsxs("div",{className:"settings-grid",children:[l.jsxs("label",{children:["Pedidos por rota (mnimo)",l.jsx("input",{type:"number",min:"1",value:u.minBatch,onChange:C=>d(E=>({...E,minBatch:C.target.value}))})]}),l.jsxs("label",{children:["Pedidos por rota (mximo)",l.jsx("input",{type:"number",min:"1",value:u.maxBatch,onChange:C=>d(E=>({...E,maxBatch:C.target.value}))})]}),l.jsxs("label",{children:["SLA mximo (min)",l.jsx("input",{type:"number",min:"1",value:u.maxWaitMinutes,onChange:C=>d(E=>({...E,maxWaitMinutes:C.target.value}))})]}),l.jsxs("label",{children:["Espera por pares prximos (min)",l.jsx("input",{type:"number",min:"0",value:u.smartBatchHoldMinutes,onChange:C=>d(E=>({...E,smartBatchHoldMinutes:C.target.value}))})]})]})]}),l.jsx("button",{type:"submit",className:"button button--primary",disabled:_||t,children:_?"Salvando...":"Salvar alteraes"})]})]})}const pl=25;function yh({couriers:e,onRefresh:t}){const[i,o]=w.useState(!1),[a,u]=w.useState(null),[d,f]=w.useState({name:"",phone:"",pin:""}),[p,_]=w.useState({name:"",phone:"",pin:""}),[S,P]=w.useState(null),[N,j]=w.useState(null),[C,E]=w.useState([]),[I,v]=w.useState(!0),[g,x]=w.useState(0),[T,B]=w.useState(0),R=w.useCallback(async(Z=0)=>{v(!0);try{const V=await Up({limit:pl,offset:Z*pl}),oe=[...V.data].sort((te,W)=>te.name.localeCompare(W.name));E(oe),B(V.total??oe.length),x(Z)}catch(V){console.error(V),j(V instanceof Error?V.message:"Erro ao carregar motoboys")}finally{v(!1)}},[]);w.useEffect(()=>{R(0)},[R]);const z=Math.max(1,Math.ceil((T||C.length)/pl)),H=async Z=>{if(Z.preventDefault(),!(!d.name||!d.phone||!d.pin)){o(!0),P(null),j(null);try{await Yv(d.name.trim(),d.phone.trim(),d.pin.trim()),f({name:"",phone:"",pin:""}),P("Motoboy criado com sucesso."),await R(0),await t()}catch(V){console.error(V),j(V instanceof Error?V.message:"Erro ao criar motoboy")}finally{o(!1)}}},ee=Z=>{u(Z.id),_({name:Z.name,phone:Z.phone,pin:""}),P(null),j(null)},Y=async()=>{if(a)try{await vy(a,{name:p.name,phone:p.phone,pin:p.pin||void 0}),P("Motoboy atualizado."),u(null),await R(g),await t()}catch(Z){console.error(Z),j(Z instanceof Error?Z.message:"Erro ao atualizar motoboy")}},U=async Z=>{if(confirm("Tem certeza que deseja remover este motoboy?"))try{await yy(Z),P("Motoboy removido."),await R(g),await t()}catch(V){console.error(V),j(V instanceof Error?V.message:"Erro ao remover motoboy")}},X=w.useMemo(()=>C,[C]);return l.jsxs("section",{className:"panel settings-panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Motoboys"}),l.jsx("p",{className:"panel__subtitle",children:"Gerencie cadastros e dados de contato."})]})}),N&&l.jsx("p",{className:"settings-error",children:N}),S&&!N&&l.jsx("p",{className:"settings-success",children:S}),l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Novo motoboy"}),l.jsx("p",{className:"panel__subtitle",children:"Cadastre nome, telefone e PIN usado no app."})]}),l.jsxs("form",{className:"settings-form",onSubmit:H,children:[l.jsxs("div",{className:"settings-grid",children:[l.jsxs("label",{children:["Nome",l.jsx("input",{type:"text",value:d.name,onChange:Z=>f(V=>({...V,name:Z.target.value})),required:!0})]}),l.jsxs("label",{children:["Telefone",l.jsx("input",{type:"text",value:d.phone,onChange:Z=>f(V=>({...V,phone:Z.target.value})),required:!0})]}),l.jsxs("label",{children:["PIN",l.jsx("input",{type:"text",value:d.pin,onChange:Z=>f(V=>({...V,pin:Z.target.value})),required:!0})]})]}),l.jsx("button",{className:"button button--primary",type:"submit",disabled:i,children:i?"Salvando...":"Criar motoboy"})]})]}),l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Motoboys cadastrados"}),l.jsx("p",{className:"panel__subtitle",children:"Edite dados ou remova cadastros quando necessrio."})]}),l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Telefone"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[X.map(Z=>{const V=a===Z.id;return l.jsxs("tr",{children:[l.jsx("td",{children:V?l.jsx("input",{type:"text",value:p.name,onChange:oe=>_(te=>({...te,name:oe.target.value}))}):Z.name}),l.jsx("td",{children:V?l.jsx("input",{type:"text",value:p.phone,onChange:oe=>_(te=>({...te,phone:oe.target.value}))}):Z.phone}),l.jsx("td",{children:l.jsx("span",{className:`status-pill status-pill--${Z.status.toLowerCase()}`,children:Zs[Z.status]})}),l.jsx("td",{children:V?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",placeholder:"Novo PIN",value:p.pin,onChange:oe=>_(te=>({...te,pin:oe.target.value})),style:{marginBottom:6}}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"button button--primary",type:"button",onClick:Y,children:"Salvar"}),l.jsx("button",{className:"button",type:"button",onClick:()=>u(null),children:"Cancelar"})]})]}):l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"button",type:"button",onClick:()=>ee(Z),children:"Editar"}),l.jsx("button",{className:"button",type:"button",onClick:()=>U(Z.id),children:"Remover"})]})})]},Z.id)}),X.length===0&&!I&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"empty",children:"Nenhum motoboy cadastrado."})})]})]}),l.jsxs("div",{className:"pagination-controls",children:[l.jsx("button",{type:"button",className:"button",onClick:()=>R(g-1),disabled:g===0||I,children:"Pgina anterior"}),l.jsxs("span",{children:["Pgina ",g+1," de ",Math.max(1,z)]}),l.jsx("button",{type:"button",className:"button",onClick:()=>R(g+1),disabled:I||g+1>=z,children:"Prxima pgina"})]})]})]})}const ml=25,by=[{value:"PENDING",label:Pn.PENDING},{value:"QUEUED",label:Pn.QUEUED},{value:"ON_ROUTE",label:Pn.ON_ROUTE},{value:"DELIVERED",label:Pn.DELIVERED}];function xh({couriers:e,onRefresh:t}){const[i,o]=w.useState(null),[a,u]=w.useState({address:"",lat:"",lng:"",status:"PENDING"}),[d,f]=w.useState(""),[p,_]=w.useState(null),[S,P]=w.useState(null),[N,j]=w.useState(!1),[C,E]=w.useState([]),[I,v]=w.useState(!0),[g,x]=w.useState(0),[T,B]=w.useState(0),R=w.useMemo(()=>Object.fromEntries(e.map(Z=>[Z.id,Z])),[e]),z=w.useCallback(async(Z=0)=>{v(!0);try{const V=await Zp({limit:ml,offset:Z*ml}),oe=[...V.data].sort((te,W)=>W.createdAt.localeCompare(te.createdAt));E(oe),B(V.total??oe.length),x(Z)}catch(V){console.error(V),P(V instanceof Error?V.message:"Erro ao carregar pedidos")}finally{v(!1)}},[]);w.useEffect(()=>{z(0)},[z]);const H=Math.max(1,Math.ceil((T||C.length)/ml)),ee=Z=>{o(Z.id),u({address:Z.address,lat:String(Z.lat),lng:String(Z.lng),status:Z.status}),_(null),P(null)},Y=async()=>{if(i){_(null),P(null);try{await xy(i,{address:a.address,lat:Number(a.lat),lng:Number(a.lng),status:a.status}),_("Pedido atualizado."),o(null),await z(g),await t()}catch(Z){console.error(Z),P(Z instanceof Error?Z.message:"Erro ao atualizar pedido")}}},U=async Z=>{if(confirm("Deseja remover este pedido?"))try{await wy(Z,{force:!0}),_("Pedido removido."),await z(g),await t()}catch(V){console.error(V),P(V instanceof Error?V.message:"Erro ao remover pedido")}},X=async Z=>{if(Z.preventDefault(),!d.trim()){P("Informe ao menos o endereo completo ou rua/nmero.");return}j(!0),_(null),P(null);try{await Xv({address:d.trim(),city:"Manaus",state:"Amazonas"}),_("Pedido criado e enviado para a fila."),f(""),await z(0),await t()}catch(V){console.error(V),P(V instanceof Error?V.message:"Erro ao criar pedido")}finally{j(!1)}};return l.jsxs("section",{className:"panel settings-panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Pedidos"}),l.jsx("p",{className:"panel__subtitle",children:"Edite endereos, coordenadas ou status em caso de correo."})]})}),S&&l.jsx("p",{className:"settings-error",children:S}),p&&!S&&l.jsx("p",{className:"settings-success",children:p}),l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Criar pedido manual"}),l.jsx("p",{className:"panel__subtitle",children:"Digite o endereo completo; adicionamos automaticamente Manaus - AM - Brasil e buscamos a localizao no Google."})]}),l.jsxs("form",{className:"settings-form",onSubmit:X,children:[l.jsxs("label",{children:["Endereo completo",l.jsx("input",{type:"text",placeholder:"Ex.: Av. Ramos Ferreira, 199, Aparecida",value:d,onChange:Z=>f(Z.target.value),required:!0})]}),l.jsx("button",{className:"button button--primary",type:"submit",disabled:N,children:N?"Criando...":"Criar pedido"})]})]}),l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Editar pedidos existentes"}),l.jsx("p",{className:"panel__subtitle",children:"Atualize endereo, coordenadas ou status para corrigir problemas."})]}),l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Pedido"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Motoboy"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[C.map(Z=>{var oe;const V=i===Z.id;return l.jsxs("tr",{children:[l.jsx("td",{children:V?l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"text",value:a.address,onChange:te=>u(W=>({...W,address:te.target.value})),style:{marginBottom:6}}),l.jsxs("div",{className:"settings-grid",children:[l.jsx("input",{type:"number",value:a.lat,onChange:te=>u(W=>({...W,lat:te.target.value})),step:"0.000001"}),l.jsx("input",{type:"number",value:a.lng,onChange:te=>u(W=>({...W,lng:te.target.value})),step:"0.000001"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"table-title",children:Z.address}),l.jsx("p",{className:"table-subtitle",children:new Date(Z.createdAt).toLocaleString()})]})}),l.jsx("td",{children:V?l.jsx("select",{value:a.status,onChange:te=>u(W=>({...W,status:te.target.value})),children:by.map(te=>l.jsx("option",{value:te.value,children:te.label},te.value))}):l.jsx("span",{className:`status-pill status-pill--${Z.status.toLowerCase()}`,children:Pn[Z.status]})}),l.jsx("td",{children:Z.courierId?((oe=R[Z.courierId])==null?void 0:oe.name)??Z.courierId:"---"}),l.jsx("td",{children:V?l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"button button--primary",type:"button",onClick:Y,children:"Salvar"}),l.jsx("button",{className:"button",type:"button",onClick:()=>o(null),children:"Cancelar"})]}):l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"button",type:"button",onClick:()=>ee(Z),children:"Editar"}),l.jsx("button",{className:"button",type:"button",onClick:()=>U(Z.id),children:"Remover"})]})})]},Z.id)}),C.length===0&&!I&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"empty",children:"Nenhum pedido para mostrar."})})]})]}),l.jsxs("div",{className:"pagination-controls",children:[l.jsx("button",{type:"button",className:"button",onClick:()=>z(g-1),disabled:g===0||I,children:"Pgina anterior"}),l.jsxs("span",{children:["Pgina ",g+1," de ",H]}),l.jsx("button",{type:"button",className:"button",onClick:()=>z(g+1),disabled:I||g+1>=H,children:"Prxima pgina"})]})]})]})}function My({currentAdmin:e,onSelfUpdate:t}){const[i,o]=w.useState([]),[a,u]=w.useState(!1),[d,f]=w.useState(!1),[p,_]=w.useState(!1),[S,P]=w.useState(null),[N,j]=w.useState(null),[C,E]=w.useState({name:"",email:"",password:""}),[I,v]=w.useState(null),[g,x]=w.useState({name:"",email:"",password:""}),T=w.useMemo(()=>[...i].sort((U,X)=>U.name.localeCompare(X.name)),[i]),B=async()=>{u(!0),j(null);try{const U=await $v();o(U)}catch(U){console.error(U),j(U instanceof Error?U.message:"Erro ao carregar administradores")}finally{u(!1)}};w.useEffect(()=>{B()},[]);const R=async U=>{if(U.preventDefault(),!(!C.name||!C.email||!C.password)){f(!0),P(null),j(null);try{await qv(C.name.trim(),C.email.trim(),C.password.trim()),P("Administrador criado com sucesso."),E({name:"",email:"",password:""}),await B()}catch(X){console.error(X),j(X instanceof Error?X.message:"Erro ao criar administrador")}finally{f(!1)}}},z=U=>{v(U.id),x({name:U.name,email:U.email,password:""}),P(null),j(null)},H=async()=>{if(I){_(!0),P(null),j(null);try{const U=await Kv(I,{name:g.name,email:g.email,password:g.password||void 0});P("Administrador atualizado."),v(null),x({name:"",email:"",password:""}),(e==null?void 0:e.id)===U.id&&t&&t(U),await B()}catch(U){console.error(U),j(U instanceof Error?U.message:"Erro ao atualizar administrador")}finally{_(!1)}}},ee=async U=>{if(i.length<=1){j(" necessrio manter pelo menos um administrador cadastrado.");return}if(confirm("Deseja remover este administrador?")){P(null),j(null);try{await Qv(U),P("Administrador removido."),await B()}catch(X){console.error(X),j(X instanceof Error?X.message:"Erro ao remover administrador")}}},Y=U=>i.length<=1||U.id===(e==null?void 0:e.id);return l.jsxs("section",{className:"panel settings-panel",children:[l.jsxs("header",{className:"panel__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Administradores"}),l.jsx("p",{className:"panel__subtitle",children:"Controle quem tem acesso ao painel. Pelo menos um administrador deve permanecer ativo."})]}),l.jsx("button",{type:"button",className:"button",onClick:B,disabled:a,children:a?"Atualizando...":"Recarregar lista"})]}),N&&l.jsx("p",{className:"settings-error",children:N}),S&&!N&&l.jsx("p",{className:"settings-success",children:S}),l.jsxs("form",{className:"settings-form",onSubmit:R,children:[l.jsx("h3",{children:"Novo administrador"}),l.jsxs("div",{className:"settings-grid",children:[l.jsxs("label",{children:["Nome",l.jsx("input",{type:"text",value:C.name,onChange:U=>E(X=>({...X,name:U.target.value})),required:!0})]}),l.jsxs("label",{children:["E-mail",l.jsx("input",{type:"email",value:C.email,onChange:U=>E(X=>({...X,email:U.target.value})),required:!0})]}),l.jsxs("label",{children:["Senha",l.jsx("input",{type:"password",value:C.password,onChange:U=>E(X=>({...X,password:U.target.value})),required:!0})]})]}),l.jsx("button",{className:"button button--primary",type:"submit",disabled:d,children:d?"Salvando...":"Criar administrador"})]}),l.jsxs("table",{className:"data-table",style:{marginTop:16},children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"E-mail"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[T.map(U=>{const X=U.id===I;return l.jsxs("tr",{children:[l.jsx("td",{children:X?l.jsx("input",{type:"text",value:g.name,onChange:Z=>x(V=>({...V,name:Z.target.value}))}):U.name}),l.jsx("td",{children:X?l.jsx("input",{type:"email",value:g.email,onChange:Z=>x(V=>({...V,email:Z.target.value}))}):U.email}),l.jsx("td",{children:X?l.jsxs("div",{style:{display:"flex",gap:8,flexDirection:"column"},children:[l.jsx("input",{type:"password",placeholder:"Nova senha (opcional)",value:g.password,onChange:Z=>x(V=>({...V,password:Z.target.value}))}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"button button--primary",type:"button",onClick:H,disabled:p,children:p?"Salvando...":"Salvar"}),l.jsx("button",{className:"button",type:"button",onClick:()=>v(null),children:"Cancelar"})]})]}):l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{className:"button",type:"button",onClick:()=>z(U),children:"Editar"}),l.jsx("button",{className:"button",type:"button",onClick:()=>ee(U.id),disabled:Y(U),children:"Remover"})]})})]},U.id)}),T.length===0&&!a&&l.jsx("tr",{children:l.jsx("td",{colSpan:3,style:{textAlign:"center",padding:"16px 0"},children:"Nenhum administrador encontrado."})})]})]})]})}const _l=20;function Oy({couriers:e,onRefresh:t}){const[i,o]=w.useState(null),[a,u]=w.useState(null),[d,f]=w.useState(!1),[p,_]=w.useState(0),[S,P]=w.useState(0),[N,j]=w.useState([]),C=w.useMemo(()=>Object.fromEntries(e.map(g=>[g.id,g])),[e]),E=w.useCallback(async(g=0)=>{f(!0);try{const x=await Hp({limit:_l,offset:g*_l,includeOrders:!0}),T=[...x.data].sort((B,R)=>R.createdAt.localeCompare(B.createdAt));j(T),P(x.total??T.length),_(g),u(null)}catch(x){console.error(x),u(x instanceof Error?x.message:"Erro ao carregar rotas")}finally{f(!1)}},[]);w.useEffect(()=>{E(0)},[E]);const I=Math.max(1,Math.ceil((S||N.length)/_l)),v=async g=>{if(confirm("Remover esta rota? Pedidos no entregues voltaro para a fila.")){u(null),o(null),f(!0);try{await Sy(g,{force:!0}),o("Rota removida."),await E(p),await t()}catch(x){console.error(x),u(x instanceof Error?x.message:"Erro ao remover rota")}finally{f(!1)}}};return l.jsxs("section",{className:"panel settings-panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Rotas"}),l.jsx("p",{className:"panel__subtitle",children:"Visualize e remova rotas (inclusive finalizadas) em caso de inconsistncia."})]})}),a&&l.jsx("p",{className:"settings-error",children:a}),i&&!a&&l.jsx("p",{className:"settings-success",children:i}),l.jsxs("div",{className:"settings-card",children:[l.jsxs("header",{children:[l.jsx("h3",{children:" Rotas arquivadas/ativas"}),l.jsx("p",{className:"panel__subtitle",children:"Consulte qualquer rota e remova lotes em caso de inconsistncia."})]}),l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Rota"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Motoboy"}),l.jsx("th",{children:"Pedidos"}),l.jsx("th",{children:"Aes"})]})}),l.jsxs("tbody",{children:[N.map(g=>{const x=g.courierId?C[g.courierId]:null;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:g.id.slice(0,6)}),l.jsx("p",{className:"table-subtitle",children:new Date(g.createdAt).toLocaleString()})]}),l.jsx("td",{children:Fs[g.status]}),l.jsx("td",{children:x?`${x.name}  ${x.phone}`:"---"}),l.jsx("td",{children:g.orders&&g.orders.length>0?l.jsx("ul",{children:g.orders.map(T=>l.jsxs("li",{children:[T.address,"  ",Pn[T.status]]},T.id))}):l.jsx("span",{className:"table-subtitle",children:"Sem pedidos"})}),l.jsx("td",{children:l.jsx("button",{className:"button",type:"button",disabled:d,onClick:()=>v(g.id),children:"Remover rota"})})]},g.id)}),N.length===0&&!d&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"empty",children:"Nenhuma rota cadastrada."})})]})]}),l.jsxs("div",{className:"pagination-controls",children:[l.jsx("button",{type:"button",className:"button",onClick:()=>E(p-1),disabled:p===0||d,children:"Pgina anterior"}),l.jsxs("span",{children:["Pgina ",p+1," de ",I]}),l.jsx("button",{type:"button",className:"button",onClick:()=>E(p+1),disabled:d||p+1>=I,children:"Prxima pgina"})]})]})]})}function Iy(e,t){const[i,o]=w.useState(e),[a,u]=w.useState(t),[d,f]=w.useState(!1),[p,_]=w.useState(null),[S,P]=w.useState(null);return{report:S,loading:d,error:p,from:i,to:a,fetchReport:async(j,C)=>{const E=j??i,I=C??a;f(!0),_(null);try{const v=await Ly(E,I);P(v),o(E),u(I)}catch(v){console.error(v),_(v instanceof Error?v.message:"Erro ao gerar relatrio")}finally{f(!1)}}}}function zy(){const e=new Date,t=new Date(e);return t.setHours(0,0,0,0),{from:t,to:e}}const gl={PENDING:"Pendentes",QUEUED:"Na fila/rota",ON_ROUTE:"Em rota",DELIVERED:"Entregues"},wh=["PENDING","QUEUED","ON_ROUTE","DELIVERED"],Ry=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Ay=new Intl.NumberFormat("pt-BR",{style:"percent",maximumFractionDigits:1});function vl(e){return Ry.format(e)}function Sh(e){return e.replace(/[:T]/g,"-")}function Dy(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}function By(){const{from:e,to:t}=zy(),{report:i,loading:o,error:a,fetchReport:u,from:d,to:f}=Iy(e,t),[p,_]=w.useState(e.toISOString().slice(0,16)),[S,P]=w.useState(t.toISOString().slice(0,16)),N=I=>{I.preventDefault(),u(new Date(p),new Date(S))},j=w.useMemo(()=>i?wh.reduce((I,v)=>Math.max(I,i.totals.byStatus[v]??0),0):0,[i]),C=w.useMemo(()=>{if(!i||i.byDay.length===0)return{width:320,height:80,points:""};const I=Math.max(320,(i.byDay.length-1)*80),v=80,g=Math.max(...i.byDay.map(T=>T.count),1),x=i.byDay.map((T,B)=>{const R=i.byDay.length===1?I/2:B/(i.byDay.length-1)*I,z=v-T.count/g*v;return`${R},${z}`}).join(" ");return{width:I,height:v,points:x}},[i]),E=()=>{if(!i)return;const v=[["Pedido","Endereo","Status","Motoboy","Valor (R$)","Criado em"],...i.orders.map(R=>[R.id,R.address,gl[R.status],R.courierName??"",R.deliveryPrice!=null?R.deliveryPrice.toFixed(2):"",new Date(R.createdAt).toLocaleString()])].map(R=>R.map(Dy).join(",")).join(`
`),g=new Blob([v],{type:"text/csv;charset=utf-8;"}),x=URL.createObjectURL(g),T=`relatorio-${Sh(p)}-a-${Sh(S)}.csv`,B=document.createElement("a");B.href=x,B.download=T,B.click(),URL.revokeObjectURL(x)};return l.jsxs("section",{className:"panel reports-panel",children:[l.jsxs("header",{className:"panel__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Relatrios de pedidos"}),l.jsx("p",{className:"panel__subtitle",children:"Selecione o perodo, gere insights visuais e exporte os dados."})]}),i&&i.orders.length>0&&l.jsx("button",{className:"button",type:"button",onClick:E,children:"Exportar CSV"})]}),l.jsxs("form",{className:"reports-filter",onSubmit:N,children:[l.jsxs("label",{children:["Incio",l.jsx("input",{type:"datetime-local",value:p,onChange:I=>_(I.target.value),required:!0})]}),l.jsxs("label",{children:["Fim",l.jsx("input",{type:"datetime-local",value:S,onChange:I=>P(I.target.value),required:!0})]}),l.jsx("button",{className:"button button--primary",type:"submit",disabled:o,children:o?"Gerando...":"Gerar"})]}),a&&l.jsx("p",{className:"settings-error",children:a}),i&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"reports-summary",children:[l.jsxs("div",{children:[l.jsx("p",{className:"reports-summary__label",children:"Pedidos no perodo"}),l.jsx("p",{className:"reports-summary__value",children:i.totals.count})]}),l.jsxs("div",{children:[l.jsx("p",{className:"reports-summary__label",children:"Valor previsto"}),l.jsx("p",{className:"reports-summary__value",children:vl(i.totals.totalValue)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"reports-summary__label",children:"Ticket mdio"}),l.jsx("p",{className:"reports-summary__value",children:vl(i.totals.averageValue)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"reports-summary__label",children:"Entrega concluda"}),l.jsxs("p",{className:"reports-summary__value",children:[Ay.format(i.totals.deliveredRate||0)," (",i.totals.deliveredCount," pedidos)"]})]})]}),l.jsxs("div",{className:"reports-analytics",children:[l.jsxs("div",{className:"reports-card",children:[l.jsx("h3",{children:"Distribuio por status"}),wh.map(I=>{const v=i.totals.byStatus[I]??0,g=j>0?Math.round(v/j*100):0;return l.jsxs("div",{className:"reports-status-row",children:[l.jsx("span",{children:gl[I]}),l.jsx("strong",{children:v}),l.jsx("div",{className:"reports-status-bar",children:l.jsx("span",{style:{width:`${g}%`}})})]},I)})]}),l.jsxs("div",{className:"reports-card",children:[l.jsx("h3",{children:"Volume dirio"}),i.byDay.length===0?l.jsx("p",{className:"reports-empty",children:"Sem pedidos neste perodo."}):l.jsxs(l.Fragment,{children:[l.jsx("svg",{width:C.width,height:C.height,className:"reports-trend-chart",children:l.jsx("polyline",{points:C.points,fill:"none",stroke:"#4f46e5",strokeWidth:3})}),l.jsx("div",{className:"reports-trend-labels",children:i.byDay.map(I=>l.jsxs("span",{children:[new Date(I.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),"  ",I.count," pedidos"]},I.date))})]})]}),l.jsxs("div",{className:"reports-card",children:[l.jsx("h3",{children:"Motoboys com mais pedidos"}),i.courierStats.length===0?l.jsx("p",{className:"reports-empty",children:"Nenhuma rota finalizada neste perodo."}):l.jsx("ol",{className:"reports-ranking",children:i.courierStats.slice(0,5).map(I=>l.jsxs("li",{children:[l.jsx("span",{children:I.courierName??I.courierId.slice(0,6)}),l.jsxs("strong",{children:[I.count," pedidos"]})]},I.courierId))})]})]}),l.jsx("div",{className:"reports-period-label",children:l.jsxs("span",{children:["Intervalo atual: ",d.toLocaleString(),"  ",f.toLocaleString()]})}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Pedido"}),l.jsx("th",{children:"Motoboy"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Valor"}),l.jsx("th",{children:"Quando"})]})}),l.jsx("tbody",{children:i.orders.map(I=>l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("p",{className:"table-title",children:I.address}),l.jsxs("p",{className:"table-subtitle",children:["#",I.id.slice(0,6)]})]}),l.jsx("td",{children:I.courierName??"---"}),l.jsx("td",{children:gl[I.status]}),l.jsx("td",{children:I.deliveryPrice!=null?vl(I.deliveryPrice):"-"}),l.jsx("td",{children:new Date(I.createdAt).toLocaleString()})]},I.id))})]})})]})]})}const Fy={PENDING:"Pedido recm cadastrado aguardando agrupamento. Ainda pode ser editado ou removido.",QUEUED:"Pedido j foi agrupado em uma rota, mas nenhum motoboy iniciou a execuo.",ON_ROUTE:"Motoboy saiu para a entrega. O endereo no deve mais ser alterado.",DELIVERED:"Pedido finalizado. Os valores entram nas mtricas e relatrios."},Zy={AWAITING_COURIER:"Rota criada automaticamente, mas sem motoboy definido.",ASSIGNED:"Um motoboy j foi escolhido. Aguardando ele iniciar pelo app.",IN_PROGRESS:"Motoboy iniciou a rota pelo app e est executando as entregas.",DONE:"Todos os pedidos foram entregues e o motoboy est livre novamente."},Uy={OFFLINE:"No est disponvel para receber rotas. Precisa fazer login e ativar disponibilidade.",AVAILABLE:"Pode receber novas rotas. Aparece na lista de atribuio manual/automtica.",ASSIGNED:"J existe uma rota atribuda, aguardando o motoboy iniciar pelo app.",ON_TRIP:"Executando uma rota em andamento."},Hy=[{title:"Pedidos",subtitle:"Mostram em que etapa do fluxo cada pedido se encontra.",items:Object.keys(Pn).map(e=>({code:e,label:Pn[e],description:Fy[e]}))},{title:"Rotas",subtitle:"Indicam o status do agrupamento de pedidos.",items:Object.keys(Fs).map(e=>({code:e,label:Fs[e],description:Zy[e]}))},{title:"Motoboys",subtitle:"Mostram a disponibilidade operacional de cada profissional.",items:Object.keys(Zs).map(e=>({code:e,label:Zs[e],description:Uy[e]}))},{title:"Dia de operao",subtitle:"Define quais dados aparecem em tempo real no painel.",items:[{code:"Iniciar dia",label:"Abertura",description:"Limpa o painel histrico e passa a mostrar apenas pedidos criados aps a abertura."},{code:"Fechar dia",label:"Encerramento",description:"Arquiva os pedidos/rotas daquele perodo e reinicia os totais para o prximo turno."},{code:"Exibir histrico completo",label:"Histrico",description:"Mostra todos os pedidos, independentemente do dia de operao. til para auditorias."}]}];function Vy(){return l.jsxs("section",{className:"panel status-guide",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Guia de Status e Labels"}),l.jsx("p",{className:"panel__subtitle",children:"Consulte o significado de cada status usado no painel para orientar a equipe durante o dia."})]})}),l.jsx("div",{className:"status-guide__grid",children:Hy.map(e=>l.jsxs("article",{className:"status-guide__card",children:[l.jsx("h3",{children:e.title}),l.jsx("p",{className:"status-guide__subtitle",children:e.subtitle}),l.jsx("dl",{children:e.items.map(t=>l.jsxs("div",{className:"status-guide__item",children:[l.jsxs("dt",{children:[l.jsx("span",{className:"status-guide__label",children:t.label}),l.jsxs("span",{className:"status-guide__code",children:["Cdigo: ",t.code]})]}),l.jsx("dd",{children:t.description})]},t.code))})]},e.title))})]})}const Wy=5e3;function Gy(e=!0){const[t,i]=w.useState([]),[o,a]=w.useState(e),[u,d]=w.useState(),f=w.useCallback(async()=>{if(e)try{a(!0);const p=await Zp();i(p.data),d(void 0)}catch(p){console.error(p),d(p instanceof Error?p.message:"Erro ao carregar pedidos")}finally{a(!1)}},[e]);return w.useEffect(()=>{if(!e){i([]),a(!1),d(void 0);return}f();const p=setInterval(f,Wy);return()=>clearInterval(p)},[e,f]),{orders:t,loading:o,error:u,refetch:f}}const $y=5e3;function qy(e=!0){const[t,i]=w.useState([]),[o,a]=w.useState(e),[u,d]=w.useState(),f=w.useCallback(async()=>{if(e)try{a(!0);const _=await Up();i(_.data),d(void 0)}catch(_){console.error(_),d(_ instanceof Error?_.message:"Erro ao carregar couriers")}finally{a(!1)}},[e]),p=w.useCallback(async _=>{if(!e)return null;try{return await ey(_)}catch(S){return console.error(S),d(S instanceof Error?S.message:"Erro ao carregar rota do courier"),null}},[e]);return w.useEffect(()=>{if(!e){i([]),a(!1),d(void 0);return}f();const _=setInterval(f,$y);return()=>clearInterval(_)},[e,f]),{couriers:t,loading:o,error:u,refetch:f,fetchCurrentRoute:p}}const Ky=5e3;function Qy(e=!0){const[t,i]=w.useState([]),[o,a]=w.useState(e),[u,d]=w.useState(),f=w.useCallback(async()=>{if(e)try{a(!0);const p=await Hp();i(p.data),d(void 0)}catch(p){console.error(p),d(p instanceof Error?p.message:"Erro ao carregar rotas")}finally{a(!1)}},[e]);return w.useEffect(()=>{if(!e){i([]),a(!1),d(void 0);return}f();const p=setInterval(f,Ky);return()=>clearInterval(p)},[e,f]),{routes:t,loading:o,error:u,refetch:f}}function Yy(e=!0){const[t,i]=w.useState({current:null,history:[]}),[o,a]=w.useState(e),[u,d]=w.useState(null),f=w.useCallback(async()=>{if(e){a(!0);try{const S=await fc();i(S),d(null)}catch(S){console.error(S),d(S instanceof Error?S.message:"Erro ao carregar status do dia.")}finally{a(!1)}}},[e]),p=w.useCallback(async()=>{if(e){a(!0);try{const S=await Ny();i(S),d(null)}catch(S){console.error(S),d(S instanceof Error?S.message:"Erro ao iniciar dia.")}finally{a(!1)}}},[e]),_=w.useCallback(async()=>{if(e){a(!0);try{const S=await jy();i(S),d(null)}catch(S){console.error(S),d(S instanceof Error?S.message:"Erro ao fechar dia.")}finally{a(!1)}}},[e]);return w.useEffect(()=>{if(!e){i({current:null,history:[]}),a(!1),d(null);return}f()},[e,f]),{...t,loading:o,error:u,refetch:f,startDay:p,closeDay:_}}function Wp(e,t){const i=w.useRef(t);w.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}const Xy=1;function Jy(e){return Object.freeze({__version:Xy,map:e})}function ex(e,t){return Object.freeze({...e,...t})}const Gp=w.createContext(null),$p=Gp.Provider;function qp(){const e=w.useContext(Gp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function tx(e){function t(i,o){const{instance:a,context:u}=e(i).current;return w.useImperativeHandle(o,()=>a),i.children==null?null:ms.createElement($p,{value:u},i.children)}return w.forwardRef(t)}function nx(e){function t(i,o){const[a,u]=w.useState(!1),{instance:d}=e(i,u).current;w.useImperativeHandle(o,()=>d),w.useEffect(function(){a&&d.update()},[d,a,i.children]);const f=d._contentNode;return f?Bp.createPortal(i.children,f):null}return w.forwardRef(t)}function ix(e){function t(i,o){const{instance:a}=e(i).current;return w.useImperativeHandle(o,()=>a),null}return w.forwardRef(t)}function Kp(e,t){const i=w.useRef();w.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function pc(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function rx(e,t){return function(o,a){const u=qp(),d=e(pc(o,u),u);return Wp(u.map,o.attribution),Kp(d.current,o.eventHandlers),t(d.current,u,o,a),d}}var fu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,o){o(t)})(i_,function(i){var o="1.9.4";function a(n){var r,s,c,h;for(s=1,c=arguments.length;s<c;s++){h=arguments[s];for(r in h)n[r]=h[r]}return n}var u=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function d(n,r){var s=Array.prototype.slice;if(n.bind)return n.bind.apply(n,s.call(arguments,1));var c=s.call(arguments,2);return function(){return n.apply(r,c.length?c.concat(s.call(arguments)):arguments)}}var f=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++f),n._leaflet_id}function _(n,r,s){var c,h,m,y;return y=function(){c=!1,h&&(m.apply(s,h),h=!1)},m=function(){c?h=arguments:(n.apply(s,arguments),setTimeout(y,r),c=!0)},m}function S(n,r,s){var c=r[1],h=r[0],m=c-h;return n===c&&s?n:((n-h)%m+m)%m+h}function P(){return!1}function N(n,r){if(r===!1)return n;var s=Math.pow(10,r===void 0?6:r);return Math.round(n*s)/s}function j(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function C(n){return j(n).split(/\s+/)}function E(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?u(n.options):{});for(var s in r)n.options[s]=r[s];return n.options}function I(n,r,s){var c=[];for(var h in n)c.push(encodeURIComponent(s?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function g(n,r){return n.replace(v,function(s,c){var h=r[c];if(h===void 0)throw new Error("No value provided for variable "+s);return typeof h=="function"&&(h=h(r)),h})}var x=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function T(n,r){for(var s=0;s<n.length;s++)if(n[s]===r)return s;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var z=0;function H(n){var r=+new Date,s=Math.max(0,16-(r-z));return z=r+s,window.setTimeout(n,s)}var ee=window.requestAnimationFrame||R("RequestAnimationFrame")||H,Y=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function U(n,r,s){if(s&&ee===H)n.call(r);else return ee.call(window,d(n,r))}function X(n){n&&Y.call(window,n)}var Z={__proto__:null,extend:a,create:u,bind:d,get lastId(){return f},stamp:p,throttle:_,wrapNum:S,falseFn:P,formatNum:N,trim:j,splitWords:C,setOptions:E,getParamString:I,template:g,isArray:x,indexOf:T,emptyImageUrl:B,requestFn:ee,cancelFn:Y,requestAnimFrame:U,cancelAnimFrame:X};function V(){}V.extend=function(n){var r=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=r.__super__=this.prototype,c=u(s);c.constructor=r,r.prototype=c;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(r[h]=this[h]);return n.statics&&a(r,n.statics),n.includes&&(oe(n.includes),a.apply(null,[c].concat(n.includes))),a(c,n),delete c.statics,delete c.includes,c.options&&(c.options=s.options?u(s.options):{},a(c.options,n.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=c._initHooks.length;m<y;m++)c._initHooks[m].call(this)}},r},V.include=function(n){var r=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},V.mergeOptions=function(n){return a(this.prototype.options,n),this},V.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),s=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function oe(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=x(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(n,r,s){if(typeof n=="object")for(var c in n)this._on(c,n[c],r);else{n=C(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,s)}return this},off:function(n,r,s){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var c in n)this._off(c,n[c],r);else{n=C(n);for(var h=arguments.length===1,m=0,y=n.length;m<y;m++)h?this._off(n[m]):this._off(n[m],r,s)}return this},_on:function(n,r,s,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,s)===!1){s===this&&(s=void 0);var h={fn:r,ctx:s};c&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,r,s){var c,h,m;if(this._events&&(c=this._events[n],!!c)){if(arguments.length===1){if(this._firingCount)for(h=0,m=c.length;h<m;h++)c[h].fn=P;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var y=this._listens(n,r,s);if(y!==!1){var k=c[y];this._firingCount&&(k.fn=P,this._events[n]=c=c.slice()),c.splice(y,1)}}},fire:function(n,r,s){if(!this.listens(n,s))return this;var c=a({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,y=h.length;m<y;m++){var k=h[m],b=k.fn;k.once&&this.off(n,b,k.ctx),b.call(k.ctx||this,c)}this._firingCount--}}return s&&this._propagateEvent(c),this},listens:function(n,r,s,c){typeof n!="string"&&console.warn('"string" type argument expected');var h=r;typeof r!="function"&&(c=!!r,h=void 0,s=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,h,s)!==!1)return!0;if(c){for(var y in this._eventParents)if(this._eventParents[y].listens(n,r,s,c))return!0}return!1},_listens:function(n,r,s){if(!this._events)return!1;var c=this._events[n]||[];if(!r)return!!c.length;s===this&&(s=void 0);for(var h=0,m=c.length;h<m;h++)if(c[h].fn===r&&c[h].ctx===s)return h;return!1},once:function(n,r,s){if(typeof n=="object")for(var c in n)this._on(c,n[c],r,!0);else{n=C(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],r,s,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var W=V.extend(te);function O(n,r,s){this.x=s?Math.round(n):n,this.y=s?Math.round(r):r}var q=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};O.prototype={clone:function(){return new O(this.x,this.y)},add:function(n){return this.clone()._add(A(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(A(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new O(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new O(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(n){n=A(n);var r=n.x-this.x,s=n.y-this.y;return Math.sqrt(r*r+s*s)},equals:function(n){return n=A(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=A(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function A(n,r,s){return n instanceof O?n:x(n)?new O(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new O(n.x,n.y):new O(n,r,s)}function Q(n,r){if(n)for(var s=r?[n,r]:n,c=0,h=s.length;c<h;c++)this.extend(s[c])}Q.prototype={extend:function(n){var r,s;if(!n)return this;if(n instanceof O||typeof n[0]=="number"||"x"in n)r=s=A(n);else if(n=ce(n),r=n.min,s=n.max,!r||!s)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=s.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(n){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,s;return typeof n[0]=="number"||n instanceof O?n=A(n):n=ce(n),n instanceof Q?(r=n.min,s=n.max):r=s=n,r.x>=this.min.x&&s.x<=this.max.x&&r.y>=this.min.y&&s.y<=this.max.y},intersects:function(n){n=ce(n);var r=this.min,s=this.max,c=n.min,h=n.max,m=h.x>=r.x&&c.x<=s.x,y=h.y>=r.y&&c.y<=s.y;return m&&y},overlaps:function(n){n=ce(n);var r=this.min,s=this.max,c=n.min,h=n.max,m=h.x>r.x&&c.x<s.x,y=h.y>r.y&&c.y<s.y;return m&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,s=this.max,c=Math.abs(r.x-s.x)*n,h=Math.abs(r.y-s.y)*n;return ce(A(r.x-c,r.y-h),A(s.x+c,s.y+h))},equals:function(n){return n?(n=ce(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ce(n,r){return!n||n instanceof Q?n:new Q(n,r)}function ye(n,r){if(n)for(var s=r?[n,r]:n,c=0,h=s.length;c<h;c++)this.extend(s[c])}ye.prototype={extend:function(n){var r=this._southWest,s=this._northEast,c,h;if(n instanceof ae)c=n,h=n;else if(n instanceof ye){if(c=n._southWest,h=n._northEast,!c||!h)return this}else return n?this.extend(ne(n)||he(n)):this;return!r&&!s?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(h.lat,h.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),s.lat=Math.max(h.lat,s.lat),s.lng=Math.max(h.lng,s.lng)),this},pad:function(n){var r=this._southWest,s=this._northEast,c=Math.abs(r.lat-s.lat)*n,h=Math.abs(r.lng-s.lng)*n;return new ye(new ae(r.lat-c,r.lng-h),new ae(s.lat+c,s.lng+h))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ae||"lat"in n?n=ne(n):n=he(n);var r=this._southWest,s=this._northEast,c,h;return n instanceof ye?(c=n.getSouthWest(),h=n.getNorthEast()):c=h=n,c.lat>=r.lat&&h.lat<=s.lat&&c.lng>=r.lng&&h.lng<=s.lng},intersects:function(n){n=he(n);var r=this._southWest,s=this._northEast,c=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>=r.lat&&c.lat<=s.lat,y=h.lng>=r.lng&&c.lng<=s.lng;return m&&y},overlaps:function(n){n=he(n);var r=this._southWest,s=this._northEast,c=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>r.lat&&c.lat<s.lat,y=h.lng>r.lng&&c.lng<s.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=he(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(n,r){return n instanceof ye?n:new ye(n,r)}function ae(n,r,s){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,s!==void 0&&(this.alt=+s)}ae.prototype={equals:function(n,r){if(!n)return!1;n=ne(n);var s=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return s<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+N(this.lat,n)+", "+N(this.lng,n)+")"},distanceTo:function(n){return Xe.distance(this,ne(n))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,s=r/Math.cos(Math.PI/180*this.lat);return he([this.lat-r,this.lng-s],[this.lat+r,this.lng+s])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function ne(n,r,s){return n instanceof ae?n:x(n)&&typeof n[0]!="object"?n.length===3?new ae(n[0],n[1],n[2]):n.length===2?new ae(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ae(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new ae(n,r,s)}var Me={latLngToPoint:function(n,r){var s=this.projection.project(n),c=this.scale(r);return this.transformation._transform(s,c)},pointToLatLng:function(n,r){var s=this.scale(r),c=this.transformation.untransform(n,s);return this.projection.unproject(c)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,s=this.scale(n),c=this.transformation.transform(r.min,s),h=this.transformation.transform(r.max,s);return new Q(c,h)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?S(n.lng,this.wrapLng,!0):n.lng,s=this.wrapLat?S(n.lat,this.wrapLat,!0):n.lat,c=n.alt;return new ae(s,r,c)},wrapLatLngBounds:function(n){var r=n.getCenter(),s=this.wrapLatLng(r),c=r.lat-s.lat,h=r.lng-s.lng;if(c===0&&h===0)return n;var m=n.getSouthWest(),y=n.getNorthEast(),k=new ae(m.lat-c,m.lng-h),b=new ae(y.lat-c,y.lng-h);return new ye(k,b)}},Xe=a({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var s=Math.PI/180,c=n.lat*s,h=r.lat*s,m=Math.sin((r.lat-n.lat)*s/2),y=Math.sin((r.lng-n.lng)*s/2),k=m*m+Math.cos(c)*Math.cos(h)*y*y,b=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*b}}),si=6378137,G={R:si,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,s=this.MAX_LATITUDE,c=Math.max(Math.min(s,n.lat),-s),h=Math.sin(c*r);return new O(this.R*n.lng*r,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var r=180/Math.PI;return new ae((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=si*Math.PI;return new Q([-n,-n],[n,n])}()};function ie(n,r,s,c){if(x(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=s,this._d=c}ie.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new O((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function le(n,r,s,c){return new ie(n,r,s,c)}var Rt=a({},Xe,{code:"EPSG:3857",projection:G,transformation:function(){var n=.5/(Math.PI*G.R);return le(n,.5,-n,.5)}()}),_t=a({},Rt,{code:"EPSG:900913"});function cn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Qi(n,r){var s="",c,h,m,y,k,b;for(c=0,m=n.length;c<m;c++){for(k=n[c],h=0,y=k.length;h<y;h++)b=k[h],s+=(h?"L":"M")+b.x+" "+b.y;s+=r?M.svg?"z":"x":""}return s||"M0 0"}var ai=document.documentElement.style,li="ActiveXObject"in window,ro=li&&!document.addEventListener,oo="msLaunchUri"in navigator&&!("documentMode"in document),Dn=gt("webkit"),so=gt("android"),ao=gt("android 2")||gt("android 3"),At=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lo=so&&gt("Google")&&At<537&&!("AudioNode"in window),dn=!!window.opera,Dt=!oo&&gt("chrome"),Yi=gt("gecko")&&!Dn&&!dn&&!li,uo=!Dt&&gt("safari"),Xi=gt("phantom"),Ji="OTransition"in ai,ra=navigator.platform.indexOf("Win")===0,co=li&&"transition"in ai,ui="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ao,ho="MozPerspective"in ai,oa=!window.L_DISABLE_3D&&(co||ui||ho)&&!Ji&&!Xi,Bn=typeof orientation<"u"||gt("mobile"),sa=Bn&&Dn,aa=Bn&&ui,fo=!window.PointerEvent&&window.MSPointerEvent,po=!!(window.PointerEvent||fo),hn="ontouchstart"in window||!!window.TouchEvent,je=!window.L_NO_TOUCH&&(hn||po),er=Bn&&dn,la=Bn&&Yi,ua=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ca=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",P,r),window.removeEventListener("testPassiveEventSupport",P,r)}catch{}return n}(),da=function(){return!!document.createElement("canvas").getContext}(),tr=!!(document.createElementNS&&cn("svg").createSVGRect),ha=!!tr&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fa=!tr&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),pa=navigator.platform.indexOf("Mac")===0,ma=navigator.platform.indexOf("Linux")===0;function gt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var M={ie:li,ielt9:ro,edge:oo,webkit:Dn,android:so,android23:ao,androidStock:lo,opera:dn,chrome:Dt,gecko:Yi,safari:uo,phantom:Xi,opera12:Ji,win:ra,ie3d:co,webkit3d:ui,gecko3d:ho,any3d:oa,mobile:Bn,mobileWebkit:sa,mobileWebkit3d:aa,msPointer:fo,pointer:po,touch:je,touchNative:hn,mobileOpera:er,mobileGecko:la,retina:ua,passiveEvents:ca,canvas:da,svg:tr,vml:fa,inlineSvg:ha,mac:pa,linux:ma},Ee=M.msPointer?"MSPointerDown":"pointerdown",xe=M.msPointer?"MSPointerMove":"pointermove",fn=M.msPointer?"MSPointerUp":"pointerup",pn=M.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:Ee,touchmove:xe,touchend:fn,touchcancel:pn},nr={touchstart:im,touchmove:mo,touchend:mo,touchcancel:mo},di={},gc=!1;function Xp(n,r,s){return r==="touchstart"&&nm(),nr[r]?(s=nr[r].bind(this,s),n.addEventListener(ci[r],s,!1),s):(console.warn("wrong event specified:",r),P)}function Jp(n,r,s){if(!ci[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(ci[r],s,!1)}function em(n){di[n.pointerId]=n}function tm(n){di[n.pointerId]&&(di[n.pointerId]=n)}function vc(n){delete di[n.pointerId]}function nm(){gc||(document.addEventListener(Ee,em,!0),document.addEventListener(xe,tm,!0),document.addEventListener(fn,vc,!0),document.addEventListener(pn,vc,!0),gc=!0)}function mo(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var s in di)r.touches.push(di[s]);r.changedTouches=[r],n(r)}}function im(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Ve(r),mo(n,r)}function rm(n){var r={},s,c;for(c in n)s=n[c],r[c]=s&&s.bind?s.bind(n):s;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var om=200;function sm(n,r){n.addEventListener("dblclick",r);var s=0,c;function h(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=Ec(m);if(!(y.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!y.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var k=Date.now();k-s<=om?(c++,c===2&&r(rm(m))):c=1,s=k}}}return n.addEventListener("click",h),{dblclick:r,simDblclick:h}}function am(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var _a=vo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ir=vo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),yc=ir==="webkitTransition"||ir==="OTransition"?ir+"End":"transitionend";function xc(n){return typeof n=="string"?document.getElementById(n):n}function rr(n,r){var s=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!s||s==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(n,null);s=c?c[r]:null}return s==="auto"?null:s}function ge(n,r,s){var c=document.createElement(n);return c.className=r||"",s&&s.appendChild(c),c}function Ce(n){var r=n.parentNode;r&&r.removeChild(n)}function _o(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function hi(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function fi(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function ga(n,r){if(n.classList!==void 0)return n.classList.contains(r);var s=go(n);return s.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(s)}function se(n,r){if(n.classList!==void 0)for(var s=C(r),c=0,h=s.length;c<h;c++)n.classList.add(s[c]);else if(!ga(n,r)){var m=go(n);va(n,(m?m+" ":"")+r)}}function Ie(n,r){n.classList!==void 0?n.classList.remove(r):va(n,j((" "+go(n)+" ").replace(" "+r+" "," ")))}function va(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function go(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function vt(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&lm(n,r)}function lm(n,r){var s=!1,c="DXImageTransform.Microsoft.Alpha";try{s=n.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),s?(s.Enabled=r!==100,s.Opacity=r):n.style.filter+=" progid:"+c+"(opacity="+r+")"}function vo(n){for(var r=document.documentElement.style,s=0;s<n.length;s++)if(n[s]in r)return n[s];return!1}function Fn(n,r,s){var c=r||new O(0,0);n.style[_a]=(M.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(s?" scale("+s+")":"")}function Re(n,r){n._leaflet_pos=r,M.any3d?Fn(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Zn(n){return n._leaflet_pos||new O(0,0)}var or,sr,ya;if("onselectstart"in document)or=function(){re(window,"selectstart",Ve)},sr=function(){we(window,"selectstart",Ve)};else{var ar=vo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);or=function(){if(ar){var n=document.documentElement.style;ya=n[ar],n[ar]="none"}},sr=function(){ar&&(document.documentElement.style[ar]=ya,ya=void 0)}}function xa(){re(window,"dragstart",Ve)}function wa(){we(window,"dragstart",Ve)}var yo,Sa;function Ea(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(xo(),yo=n,Sa=n.style.outlineStyle,n.style.outlineStyle="none",re(window,"keydown",xo))}function xo(){yo&&(yo.style.outlineStyle=Sa,yo=void 0,Sa=void 0,we(window,"keydown",xo))}function wc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Pa(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var um={__proto__:null,TRANSFORM:_a,TRANSITION:ir,TRANSITION_END:yc,get:xc,getStyle:rr,create:ge,remove:Ce,empty:_o,toFront:hi,toBack:fi,hasClass:ga,addClass:se,removeClass:Ie,setClass:va,getClass:go,setOpacity:vt,testProp:vo,setTransform:Fn,setPosition:Re,getPosition:Zn,get disableTextSelection(){return or},get enableTextSelection(){return sr},disableImageDrag:xa,enableImageDrag:wa,preventOutline:Ea,restoreOutline:xo,getSizedParentNode:wc,getScale:Pa};function re(n,r,s,c){if(r&&typeof r=="object")for(var h in r)ja(n,h,r[h],s);else{r=C(r);for(var m=0,y=r.length;m<y;m++)ja(n,r[m],s,c)}return this}var Bt="_leaflet_events";function we(n,r,s,c){if(arguments.length===1)Sc(n),delete n[Bt];else if(r&&typeof r=="object")for(var h in r)La(n,h,r[h],s);else if(r=C(r),arguments.length===2)Sc(n,function(k){return T(r,k)!==-1});else for(var m=0,y=r.length;m<y;m++)La(n,r[m],s,c);return this}function Sc(n,r){for(var s in n[Bt]){var c=s.split(/\d/)[0];(!r||r(c))&&La(n,c,null,null,s)}}var Na={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ja(n,r,s,c){var h=r+p(s)+(c?"_"+p(c):"");if(n[Bt]&&n[Bt][h])return this;var m=function(k){return s.call(c||n,k||window.event)},y=m;!M.touchNative&&M.pointer&&r.indexOf("touch")===0?m=Xp(n,r,m):M.touch&&r==="dblclick"?m=sm(n,m):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(Na[r]||r,m,M.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(m=function(k){k=k||window.event,ka(n,k)&&y(k)},n.addEventListener(Na[r],m,!1)):n.addEventListener(r,y,!1):n.attachEvent("on"+r,m),n[Bt]=n[Bt]||{},n[Bt][h]=m}function La(n,r,s,c,h){h=h||r+p(s)+(c?"_"+p(c):"");var m=n[Bt]&&n[Bt][h];if(!m)return this;!M.touchNative&&M.pointer&&r.indexOf("touch")===0?Jp(n,r,m):M.touch&&r==="dblclick"?am(n,m):"removeEventListener"in n?n.removeEventListener(Na[r]||r,m,!1):n.detachEvent("on"+r,m),n[Bt][h]=null}function Un(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Ca(n){return ja(n,"wheel",Un),this}function lr(n){return re(n,"mousedown touchstart dblclick contextmenu",Un),n._leaflet_disable_click=!0,this}function Ve(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Hn(n){return Ve(n),Un(n),this}function Ec(n){if(n.composedPath)return n.composedPath();for(var r=[],s=n.target;s;)r.push(s),s=s.parentNode;return r}function Pc(n,r){if(!r)return new O(n.clientX,n.clientY);var s=Pa(r),c=s.boundingClientRect;return new O((n.clientX-c.left)/s.x-r.clientLeft,(n.clientY-c.top)/s.y-r.clientTop)}var cm=M.linux&&M.chrome?window.devicePixelRatio:M.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nc(n){return M.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/cm:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ka(n,r){var s=r.relatedTarget;if(!s)return!0;try{for(;s&&s!==n;)s=s.parentNode}catch{return!1}return s!==n}var dm={__proto__:null,on:re,off:we,stopPropagation:Un,disableScrollPropagation:Ca,disableClickPropagation:lr,preventDefault:Ve,stop:Hn,getPropagationPath:Ec,getMousePosition:Pc,getWheelDelta:Nc,isExternalTarget:ka,addListener:re,removeListener:we},jc=W.extend({run:function(n,r,s,c){this.stop(),this._el=n,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Zn(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,s=this._duration*1e3;r<s?this._runFrame(this._easeOut(r/s),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var s=this._startPos.add(this._offset.multiplyBy(n));r&&s._round(),Re(this._el,s),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),fe=W.extend({options:{crs:Rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=E(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ne(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ir&&M.any3d&&!M.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,yc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,s){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(ne(n),r,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=a({animate:s.animate},s.zoom),s.pan=a({animate:s.animate,duration:s.duration},s.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,s.zoom):this._tryAnimatedPan(n,s.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,s.pan&&s.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(M.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(M.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,s){var c=this.getZoomScale(r),h=this.getSize().divideBy(2),m=n instanceof O?n:this.latLngToContainerPoint(n),y=m.subtract(h).multiplyBy(1-1/c),k=this.containerPointToLatLng(h.add(y));return this.setView(k,r,{zoom:s})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():he(n);var s=A(r.paddingTopLeft||r.padding||[0,0]),c=A(r.paddingBottomRight||r.padding||[0,0]),h=this.getBoundsZoom(n,!1,s.add(c));if(h=typeof r.maxZoom=="number"?Math.min(r.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var m=c.subtract(s).divideBy(2),y=this.project(n.getSouthWest(),h),k=this.project(n.getNorthEast(),h),b=this.unproject(y.add(k).divideBy(2).add(m),h);return{center:b,zoom:h}},fitBounds:function(n,r){if(n=he(n),!n.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(n,r);return this.setView(s.center,s.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=A(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){se(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,s,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,s){if(s=s||{},s.animate===!1||!M.any3d)return this.setView(n,r,s);this._stop();var c=this.project(this.getCenter()),h=this.project(n),m=this.getSize(),y=this._zoom;n=ne(n),r=r===void 0?y:r;var k=Math.max(m.x,m.y),b=k*this.getZoomScale(y,r),D=h.distanceTo(c)||1,$=1.42,J=$*$;function ue(Ae){var Mo=Ae?-1:1,Jm=Ae?b:k,e_=b*b-k*k+Mo*J*J*D*D,t_=2*Jm*J*D,Fa=e_/t_,sd=Math.sqrt(Fa*Fa+1)-Fa,n_=sd<1e-9?-18:Math.log(sd);return n_}function Je(Ae){return(Math.exp(Ae)-Math.exp(-Ae))/2}function Ze(Ae){return(Math.exp(Ae)+Math.exp(-Ae))/2}function xt(Ae){return Je(Ae)/Ze(Ae)}var rt=ue(0);function yi(Ae){return k*(Ze(rt)/Ze(rt+$*Ae))}function Km(Ae){return k*(Ze(rt)*xt(rt+$*Ae)-Je(rt))/J}function Qm(Ae){return 1-Math.pow(1-Ae,1.5)}var Ym=Date.now(),rd=(ue(1)-rt)/$,Xm=s.duration?1e3*s.duration:1e3*rd*.8;function od(){var Ae=(Date.now()-Ym)/Xm,Mo=Qm(Ae)*rd;Ae<=1?(this._flyToFrame=U(od,this),this._move(this.unproject(c.add(h.subtract(c).multiplyBy(Km(Mo)/D)),y),this.getScaleZoom(k/yi(Mo),y),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),od.call(this),this},flyToBounds:function(n,r){var s=this._getBoundsCenterZoom(n,r);return this.flyTo(s.center,s.zoom,r)},setMaxBounds:function(n){return n=he(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var s=this.getCenter(),c=this._limitCenter(s,this._zoom,he(n));return s.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var s=A(r.paddingTopLeft||r.padding||[0,0]),c=A(r.paddingBottomRight||r.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(n),y=this.getPixelBounds(),k=ce([y.min.add(s),y.max.subtract(c)]),b=k.getSize();if(!k.contains(m)){this._enforcingBounds=!0;var D=m.subtract(k.getCenter()),$=k.extend(m).getSize().subtract(b);h.x+=D.x<0?-$.x:$.x,h.y+=D.y<0?-$.y:$.y,this.panTo(this.unproject(h),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),c=r.divideBy(2).round(),h=s.divideBy(2).round(),m=c.subtract(h);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=d(this._handleGeolocationResponse,this),s=d(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,s,n):navigator.geolocation.getCurrentPosition(r,s,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,s=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,s=n.coords.longitude,c=new ae(r,s),h=c.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(h);this.setView(c,m.maxZoom?Math.min(y,m.maxZoom):y)}var k={latlng:c,bounds:h,timestamp:n.timestamp};for(var b in n.coords)typeof n.coords[b]=="number"&&(k[b]=n.coords[b]);this.fire("locationfound",k)}},addHandler:function(n,r){if(!r)return this;var s=this[n]=new r(this);return this._handlers.push(s),this.options[n]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Ce(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var s="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),c=ge("div",s,r||this._mapPane);return n&&(this._panes[n]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),s=this.unproject(n.getTopRight());return new ye(r,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,s){n=he(n),s=A(s||[0,0]);var c=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),y=n.getNorthWest(),k=n.getSouthEast(),b=this.getSize().subtract(s),D=ce(this.project(k,c),this.project(y,c)).getSize(),$=M.any3d?this.options.zoomSnap:1,J=b.x/D.x,ue=b.y/D.y,Je=r?Math.max(J,ue):Math.min(J,ue);return c=this.getScaleZoom(Je,c),$&&(c=Math.round(c/($/100))*($/100),c=r?Math.ceil(c/$)*$:Math.floor(c/$)*$),Math.max(h,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var s=this._getTopLeftPoint(n,r);return new Q(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var s=this.options.crs;return r=r===void 0?this._zoom:r,s.scale(n)/s.scale(r)},getScaleZoom:function(n,r){var s=this.options.crs;r=r===void 0?this._zoom:r;var c=s.zoom(n*s.scale(r));return isNaN(c)?1/0:c},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ne(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(A(n),r)},layerPointToLatLng:function(n){var r=A(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(ne(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ne(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(he(n))},distance:function(n,r){return this.options.crs.distance(ne(n),ne(r))},containerPointToLayerPoint:function(n){return A(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return A(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(A(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(n)))},mouseEventToContainerPoint:function(n){return Pc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=xc(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&M.any3d,se(n,"leaflet-container"+(M.touch?" leaflet-touch":"")+(M.retina?" leaflet-retina":"")+(M.ielt9?" leaflet-oldie":"")+(M.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=rr(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Re(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(se(n.markerPane,"leaflet-zoom-hide"),se(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,s){Re(this._mapPane,new O(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var h=this._zoom!==r;this._moveStart(h,s)._move(n,r)._moveEnd(h),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,s,c){r===void 0&&(r=this._zoom);var h=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),c?s&&s.pinch&&this.fire("zoom",s):((h||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Re(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?we:re;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),M.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var s=[],c,h=r==="mouseout"||r==="mouseover",m=n.target||n.srcElement,y=!1;m;){if(c=this._targets[p(m)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){y=!0;break}if(c&&c.listens(r,!0)&&(h&&!ka(m,n)||(s.push(c),h))||m===this._container)break;m=m.parentNode}return!s.length&&!y&&!h&&this.listens(r,!0)&&(s=[this]),s},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var s=n.type;s==="mousedown"&&Ea(r),this._fireDOMEvent(n,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,s){if(n.type==="click"){var c=a({},n);c.type="preclick",this._fireDOMEvent(c,c.type,s)}var h=this._findEventTargets(n,r);if(s){for(var m=[],y=0;y<s.length;y++)s[y].listens(r,!0)&&m.push(s[y]);h=m.concat(h)}if(h.length){r==="contextmenu"&&Ve(n);var k=h[0],b={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var D=k.getLatLng&&(!k._radius||k._radius<=10);b.containerPoint=D?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(n),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=D?k.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(y=0;y<h.length;y++)if(h[y].fire(r,b,!0),b.originalEvent._stopped||h[y].options.bubblingMouseEvents===!1&&T(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Zn(this._mapPane)||new O(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var s=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var s=this.getSize()._divideBy(2);return this.project(n,r)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,s){var c=this._getNewPixelOrigin(s,r);return this.project(n,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(n,r,s){var c=this._getNewPixelOrigin(s,r);return ce([this.project(n.getSouthWest(),r)._subtract(c),this.project(n.getNorthWest(),r)._subtract(c),this.project(n.getSouthEast(),r)._subtract(c),this.project(n.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,s){if(!s)return n;var c=this.project(n,r),h=this.getSize().divideBy(2),m=new Q(c.subtract(h),c.add(h)),y=this._getBoundsOffset(m,s,r);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?n:this.unproject(c.add(y),r)},_limitOffset:function(n,r){if(!r)return n;var s=this.getPixelBounds(),c=new Q(s.min.add(n),s.max.add(n));return n.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(n,r,s){var c=ce(this.project(r.getNorthEast(),s),this.project(r.getSouthWest(),s)),h=c.min.subtract(n.min),m=c.max.subtract(n.max),y=this._rebound(h.x,-m.x),k=this._rebound(h.y,-m.y);return new O(y,k)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),s=this.getMaxZoom(),c=M.any3d?this.options.zoomSnap:1;return c&&(n=Math.round(n/c)*c),Math.max(r,Math.min(s,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ie(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var s=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,r),!0)},_createAnimProxy:function(){var n=this._proxy=ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var s=_a,c=this._proxy.style[s];Fn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Fn(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),h=this._getCenterOffset(n)._divideBy(1-1/c);return s.animate!==!0&&!this.getSize().contains(h)?!1:(U(function(){this._moveStart(!0,s.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,s,c){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ie(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hm(n,r){return new fe(n,r)}var Lt=V.extend({options:{position:"topright"},initialize:function(n){E(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),s=this.getPosition(),c=n._controlCorners[s];return se(r,"leaflet-control"),s.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ur=function(n){return new Lt(n)};fe.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",s=this._controlContainer=ge("div",r+"control-container",this._container);function c(h,m){var y=r+h+" "+r+m;n[h+m]=ge("div",y,s)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Ce(this._controlCorners[n]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Lc=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,s,c){return s<c?-1:c<s?1:0}},initialize:function(n,r,s){E(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in n)this._addLayer(n[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Lt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):Ie(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ie(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=ge("div",n),s=this.options.collapsed;r.setAttribute("aria-haspopup",!0),lr(r),Ca(r);var c=this._section=ge("section",n+"-list");s&&(this._map.on("click",this.collapse,this),re(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ge("a",n+"-toggle",r);h.href="#",h.title="Layers",h.setAttribute("role","button"),re(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ve(m),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=ge("div",n+"-base",c),this._separator=ge("div",n+"-separator",c),this._overlaysList=ge("div",n+"-overlays",c),r.appendChild(c)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,s){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:s}),this.options.sortLayers&&this._layers.sort(d(function(c,h){return this.options.sortFunction(c.layer,h.layer,c.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_o(this._baseLayersList),_o(this._overlaysList),this._layerControlInputs=[];var n,r,s,c,h=0;for(s=0;s<this._layers.length;s++)c=this._layers[s],this._addItem(c),r=r||c.overlay,n=n||!c.overlay,h+=c.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),s=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;s&&this._map.fire(s,r)},_createRadioElement:function(n,r){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=s,c.firstChild},_addItem:function(n){var r=document.createElement("label"),s=this._map.hasLayer(n.layer),c;n.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=s):c=this._createRadioElement("leaflet-base-layers_"+p(this),s),this._layerControlInputs.push(c),c.layerId=p(n.layer),re(c,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var m=document.createElement("span");r.appendChild(m),m.appendChild(c),m.appendChild(h);var y=n.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,s,c=[],h=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)r=n[m],s=this._getLayer(r.layerId).layer,r.checked?c.push(s):r.checked||h.push(s);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,s,c=this._map.getZoom(),h=n.length-1;h>=0;h--)r=n[h],s=this._getLayer(r.layerId).layer,r.disabled=s.options.minZoom!==void 0&&c<s.options.minZoom||s.options.maxZoom!==void 0&&c>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,re(n,"click",Ve),this.expand();var r=this;setTimeout(function(){we(n,"click",Ve),r._preventClick=!1})}}),fm=function(n,r,s){return new Lc(n,r,s)},Ta=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",s=ge("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",s,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,s,c,h){var m=ge("a",s,c);return m.innerHTML=n,m.href="#",m.title=r,m.setAttribute("role","button"),m.setAttribute("aria-label",r),lr(m),re(m,"click",Hn),re(m,"click",h,this),re(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";Ie(this._zoomInButton,r),Ie(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(se(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(se(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});fe.mergeOptions({zoomControl:!0}),fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ta,this.addControl(this.zoomControl))});var pm=function(n){return new Ta(n)},Cc=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",s=ge("div",r),c=this.options;return this._addScales(c,r+"-line",s),n.on(c.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),s},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,s){n.metric&&(this._mScale=ge("div",r,s)),n.imperial&&(this._iScale=ge("div",r,s))},_update:function(){var n=this._map,r=n.getSize().y/2,s=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(s)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),s=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,s,r/n)},_updateImperial:function(n){var r=n*3.2808399,s,c,h;r>5280?(s=r/5280,c=this._getRoundNum(s),this._updateScale(this._iScale,c+" mi",c/s)):(h=this._getRoundNum(r),this._updateScale(this._iScale,h+" ft",h/r))},_updateScale:function(n,r,s){n.style.width=Math.round(this.options.maxWidth*s)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),s=n/r;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,r*s}}),mm=function(n){return new Cc(n)},_m='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ba=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(M.inlineSvg?_m+" ":"")+"Leaflet</a>"},initialize:function(n){E(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ge("div","leaflet-control-attribution"),lr(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var s=[];this.options.prefix&&s.push(this.options.prefix),n.length&&s.push(n.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});fe.mergeOptions({attributionControl:!0}),fe.addInitHook(function(){this.options.attributionControl&&new ba().addTo(this)});var gm=function(n){return new ba(n)};Lt.Layers=Lc,Lt.Zoom=Ta,Lt.Scale=Cc,Lt.Attribution=ba,ur.layers=fm,ur.zoom=pm,ur.scale=mm,ur.attribution=gm;var Ft=V.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(n,r){return n.addHandler(r,this),this};var vm={Events:te},kc=M.touch?"touchstart mousedown":"mousedown",mn=W.extend({options:{clickTolerance:3},initialize:function(n,r,s,c){E(this,c),this._element=n,this._dragStartTarget=r||n,this._preventOutline=s},enable:function(){this._enabled||(re(this._dragStartTarget,kc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mn._dragging===this&&this.finishDrag(!0),we(this._dragStartTarget,kc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ga(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){mn._dragging===this&&this.finishDrag();return}if(!(mn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(mn._dragging=this,this._preventOutline&&Ea(this._element),xa(),or(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,s=wc(this._element);this._startPoint=new O(r.clientX,r.clientY),this._startPos=Zn(this._element),this._parentScale=Pa(s);var c=n.type==="mousedown";re(document,c?"mousemove":"touchmove",this._onMove,this),re(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,s=new O(r.clientX,r.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,Ve(n),this._moved||(this.fire("dragstart"),this._moved=!0,se(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Re(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){Ie(document.body,"leaflet-dragging"),this._lastTarget&&(Ie(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),we(document,"mousemove touchmove",this._onMove,this),we(document,"mouseup touchend touchcancel",this._onUp,this),wa(),sr();var r=this._moved&&this._moving;this._moving=!1,mn._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Tc(n,r,s){var c,h=[1,4,2,8],m,y,k,b,D,$,J,ue;for(m=0,$=n.length;m<$;m++)n[m]._code=Vn(n[m],r);for(k=0;k<4;k++){for(J=h[k],c=[],m=0,$=n.length,y=$-1;m<$;y=m++)b=n[m],D=n[y],b._code&J?D._code&J||(ue=wo(D,b,J,r,s),ue._code=Vn(ue,r),c.push(ue)):(D._code&J&&(ue=wo(D,b,J,r,s),ue._code=Vn(ue,r),c.push(ue)),c.push(b));n=c}return n}function bc(n,r){var s,c,h,m,y,k,b,D,$;if(!n||n.length===0)throw new Error("latlngs not passed");yt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var J=ne([0,0]),ue=he(n),Je=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());Je<1700&&(J=Ma(n));var Ze=n.length,xt=[];for(s=0;s<Ze;s++){var rt=ne(n[s]);xt.push(r.project(ne([rt.lat-J.lat,rt.lng-J.lng])))}for(k=b=D=0,s=0,c=Ze-1;s<Ze;c=s++)h=xt[s],m=xt[c],y=h.y*m.x-m.y*h.x,b+=(h.x+m.x)*y,D+=(h.y+m.y)*y,k+=y*3;k===0?$=xt[0]:$=[b/k,D/k];var yi=r.unproject(A($));return ne([yi.lat+J.lat,yi.lng+J.lng])}function Ma(n){for(var r=0,s=0,c=0,h=0;h<n.length;h++){var m=ne(n[h]);r+=m.lat,s+=m.lng,c++}return ne([r/c,s/c])}var ym={__proto__:null,clipPolygon:Tc,polygonCenter:bc,centroid:Ma};function Mc(n,r){if(!r||!n.length)return n.slice();var s=r*r;return n=Sm(n,s),n=wm(n,s),n}function Oc(n,r,s){return Math.sqrt(cr(n,r,s,!0))}function xm(n,r,s){return cr(n,r,s)}function wm(n,r){var s=n.length,c=typeof Uint8Array<"u"?Uint8Array:Array,h=new c(s);h[0]=h[s-1]=1,Oa(n,h,r,0,s-1);var m,y=[];for(m=0;m<s;m++)h[m]&&y.push(n[m]);return y}function Oa(n,r,s,c,h){var m=0,y,k,b;for(k=c+1;k<=h-1;k++)b=cr(n[k],n[c],n[h],!0),b>m&&(y=k,m=b);m>s&&(r[y]=1,Oa(n,r,s,c,y),Oa(n,r,s,y,h))}function Sm(n,r){for(var s=[n[0]],c=1,h=0,m=n.length;c<m;c++)Em(n[c],n[h])>r&&(s.push(n[c]),h=c);return h<m-1&&s.push(n[m-1]),s}var Ic;function zc(n,r,s,c,h){var m=c?Ic:Vn(n,s),y=Vn(r,s),k,b,D;for(Ic=y;;){if(!(m|y))return[n,r];if(m&y)return!1;k=m||y,b=wo(n,r,k,s,h),D=Vn(b,s),k===m?(n=b,m=D):(r=b,y=D)}}function wo(n,r,s,c,h){var m=r.x-n.x,y=r.y-n.y,k=c.min,b=c.max,D,$;return s&8?(D=n.x+m*(b.y-n.y)/y,$=b.y):s&4?(D=n.x+m*(k.y-n.y)/y,$=k.y):s&2?(D=b.x,$=n.y+y*(b.x-n.x)/m):s&1&&(D=k.x,$=n.y+y*(k.x-n.x)/m),new O(D,$,h)}function Vn(n,r){var s=0;return n.x<r.min.x?s|=1:n.x>r.max.x&&(s|=2),n.y<r.min.y?s|=4:n.y>r.max.y&&(s|=8),s}function Em(n,r){var s=r.x-n.x,c=r.y-n.y;return s*s+c*c}function cr(n,r,s,c){var h=r.x,m=r.y,y=s.x-h,k=s.y-m,b=y*y+k*k,D;return b>0&&(D=((n.x-h)*y+(n.y-m)*k)/b,D>1?(h=s.x,m=s.y):D>0&&(h+=y*D,m+=k*D)),y=n.x-h,k=n.y-m,c?y*y+k*k:new O(h,m)}function yt(n){return!x(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Rc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yt(n)}function Ac(n,r){var s,c,h,m,y,k,b,D;if(!n||n.length===0)throw new Error("latlngs not passed");yt(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var $=ne([0,0]),J=he(n),ue=J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest());ue<1700&&($=Ma(n));var Je=n.length,Ze=[];for(s=0;s<Je;s++){var xt=ne(n[s]);Ze.push(r.project(ne([xt.lat-$.lat,xt.lng-$.lng])))}for(s=0,c=0;s<Je-1;s++)c+=Ze[s].distanceTo(Ze[s+1])/2;if(c===0)D=Ze[0];else for(s=0,m=0;s<Je-1;s++)if(y=Ze[s],k=Ze[s+1],h=y.distanceTo(k),m+=h,m>c){b=(m-c)/h,D=[k.x-b*(k.x-y.x),k.y-b*(k.y-y.y)];break}var rt=r.unproject(A(D));return ne([rt.lat+$.lat,rt.lng+$.lng])}var Pm={__proto__:null,simplify:Mc,pointToSegmentDistance:Oc,closestPointOnSegment:xm,clipSegment:zc,_getEdgeIntersection:wo,_getBitCode:Vn,_sqClosestPointOnSegment:cr,isFlat:yt,_flat:Rc,polylineCenter:Ac},Ia={project:function(n){return new O(n.lng,n.lat)},unproject:function(n){return new ae(n.y,n.x)},bounds:new Q([-180,-90],[180,90])},za={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,s=this.R,c=n.lat*r,h=this.R_MINOR/s,m=Math.sqrt(1-h*h),y=m*Math.sin(c),k=Math.tan(Math.PI/4-c/2)/Math.pow((1-y)/(1+y),m/2);return c=-s*Math.log(Math.max(k,1e-10)),new O(n.lng*r*s,c)},unproject:function(n){for(var r=180/Math.PI,s=this.R,c=this.R_MINOR/s,h=Math.sqrt(1-c*c),m=Math.exp(-n.y/s),y=Math.PI/2-2*Math.atan(m),k=0,b=.1,D;k<15&&Math.abs(b)>1e-7;k++)D=h*Math.sin(y),D=Math.pow((1-D)/(1+D),h/2),b=Math.PI/2-2*Math.atan(m*D)-y,y+=b;return new ae(y*r,n.x*r/s)}},Nm={__proto__:null,LonLat:Ia,Mercator:za,SphericalMercator:G},jm=a({},Xe,{code:"EPSG:3395",projection:za,transformation:function(){var n=.5/(Math.PI*za.R);return le(n,.5,-n,.5)}()}),Dc=a({},Xe,{code:"EPSG:4326",projection:Ia,transformation:le(1/180,1,-1/180,.5)}),Lm=a({},Me,{projection:Ia,transformation:le(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var s=r.lng-n.lng,c=r.lat-n.lat;return Math.sqrt(s*s+c*c)},infinite:!0});Me.Earth=Xe,Me.EPSG3395=jm,Me.EPSG3857=Rt,Me.EPSG900913=_t,Me.EPSG4326=Dc,Me.Simple=Lm;var Ct=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var s=this.getEvents();r.on(s,this),this.once("remove",function(){r.off(s,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});fe.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},_addLayers:function(n){n=n?x(n)?n:[n]:[];for(var r=0,s=n.length;r<s;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,s=this._getZoomSpan();for(var c in this._zoomBoundLayers){var h=this._zoomBoundLayers[c].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),r=h.maxZoom===void 0?r:Math.max(r,h.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pi=Ct.extend({initialize:function(n,r){E(this,r),this._layers={};var s,c;if(n)for(s=0,c=n.length;s<c;s++)this.addLayer(n[s])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),s,c;for(s in this._layers)c=this._layers[s],c[n]&&c[n].apply(c,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var s in this._layers)n.call(r,this._layers[s]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),Cm=function(n,r){return new pi(n,r)},qt=pi.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),pi.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),pi.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new ye;for(var r in this._layers){var s=this._layers[r];n.extend(s.getBounds?s.getBounds():s.getLatLng())}return n}}),km=function(n,r){return new qt(n,r)},mi=V.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){E(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var s=this._getIconUrl(n);if(!s){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(s,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(n,r){var s=this.options,c=s[r+"Size"];typeof c=="number"&&(c=[c,c]);var h=A(c),m=A(r==="shadow"&&s.shadowAnchor||s.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(s.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return M.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Tm(n){return new mi(n)}var dr=mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof dr.imagePath!="string"&&(dr.imagePath=this._detectIconPath()),(this.options.imagePath||dr.imagePath)+mi.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(s,c,h){var m=c.exec(s);return m&&m[h]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ge("div","leaflet-default-icon-path",document.body),r=rr(n,"background-image")||rr(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),Bc=Ft.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new mn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),se(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ie(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,s=r._map,c=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=Zn(r._icon),y=s.getPixelBounds(),k=s.getPixelOrigin(),b=ce(y.min._subtract(k).add(h),y.max._subtract(k).subtract(h));if(!b.contains(m)){var D=A((Math.max(b.max.x,m.x)-b.max.x)/(y.max.x-b.max.x)-(Math.min(b.min.x,m.x)-b.min.x)/(y.min.x-b.min.x),(Math.max(b.max.y,m.y)-b.max.y)/(y.max.y-b.max.y)-(Math.min(b.min.y,m.y)-b.min.y)/(y.min.y-b.min.y)).multiplyBy(c);s.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),Re(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=U(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,s=r._shadow,c=Zn(r._icon),h=r._map.layerPointToLatLng(c);s&&Re(s,c),r._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),So=Ct.extend({options:{icon:new dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){E(this,r),this._latlng=ne(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=ne(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=n.icon.createIcon(this._icon),c=!1;s!==this._icon&&(this._icon&&this._removeIcon(),c=!0,n.title&&(s.title=n.title),s.tagName==="IMG"&&(s.alt=n.alt||"")),se(s,r),n.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(s,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(se(h,r),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Re(this._icon,n),this._shadow&&Re(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&vt(this._icon,n),this._shadow&&vt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,s=r.iconSize?A(r.iconSize):A(0,0),c=r.iconAnchor?A(r.iconAnchor):A(0,0);n.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:s.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bm(n,r){return new So(n,r)}var _n=Ct.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return E(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Eo=_n.extend({options:{fill:!0,radius:10},initialize:function(n,r){E(this,r),this._latlng=ne(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=ne(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return _n.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,s=this._clickTolerance(),c=[n+s,r+s];this._pxBounds=new Q(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Mm(n,r){return new Eo(n,r)}var Ra=Eo.extend({initialize:function(n,r,s){if(typeof r=="number"&&(r=a({},s,{radius:r})),E(this,r),this._latlng=ne(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:_n.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,s=this._map,c=s.options.crs;if(c.distance===Xe.distance){var h=Math.PI/180,m=this._mRadius/Xe.R/h,y=s.project([r+m,n]),k=s.project([r-m,n]),b=y.add(k).divideBy(2),D=s.unproject(b).lat,$=Math.acos((Math.cos(m*h)-Math.sin(r*h)*Math.sin(D*h))/(Math.cos(r*h)*Math.cos(D*h)))/h;(isNaN($)||$===0)&&($=m/Math.cos(Math.PI/180*r)),this._point=b.subtract(s.getPixelOrigin()),this._radius=isNaN($)?0:b.x-s.project([D,n-$]).x,this._radiusY=b.y-y.y}else{var J=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(J).x}this._updateBounds()}});function Om(n,r,s){return new Ra(n,r,s)}var Kt=_n.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){E(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,s=null,c=cr,h,m,y=0,k=this._parts.length;y<k;y++)for(var b=this._parts[y],D=1,$=b.length;D<$;D++){h=b[D-1],m=b[D];var J=c(n,h,m,!0);J<r&&(r=J,s=c(n,h,m))}return s&&(s.distance=Math.sqrt(r)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ac(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=ne(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new ye,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],s=yt(n),c=0,h=n.length;c<h;c++)s?(r[c]=ne(n[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(n[c]);return r},_project:function(){var n=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new O(n,n);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,s){var c=n[0]instanceof ae,h=n.length,m,y;if(c){for(y=[],m=0;m<h;m++)y[m]=this._map.latLngToLayerPoint(n[m]),s.extend(y[m]);r.push(y)}else for(m=0;m<h;m++)this._projectLatlngs(n[m],r,s)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,s,c,h,m,y,k,b;for(s=0,h=0,m=this._rings.length;s<m;s++)for(b=this._rings[s],c=0,y=b.length;c<y-1;c++)k=zc(b[c],b[c+1],n,c,!0),k&&(r[h]=r[h]||[],r[h].push(k[0]),(k[1]!==b[c+1]||c===y-2)&&(r[h].push(k[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,s=0,c=n.length;s<c;s++)n[s]=Mc(n[s],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var s,c,h,m,y,k,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(s=0,m=this._parts.length;s<m;s++)for(k=this._parts[s],c=0,y=k.length,h=y-1;c<y;h=c++)if(!(!r&&c===0)&&Oc(n,k[h],k[c])<=b)return!0;return!1}});function Im(n,r){return new Kt(n,r)}Kt._flat=Rc;var _i=Kt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=Kt.prototype._convertLatLngs.call(this,n),s=r.length;return s>=2&&r[0]instanceof ae&&r[0].equals(r[s-1])&&r.pop(),r},_setLatLngs:function(n){Kt.prototype._setLatLngs.call(this,n),yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,s=new O(r,r);if(n=new Q(n.min.subtract(s),n.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,h=this._rings.length,m;c<h;c++)m=Tc(this._rings[c],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,s,c,h,m,y,k,b,D;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,b=this._parts.length;m<b;m++)for(s=this._parts[m],y=0,D=s.length,k=D-1;y<D;k=y++)c=s[y],h=s[k],c.y>n.y!=h.y>n.y&&n.x<(h.x-c.x)*(n.y-c.y)/(h.y-c.y)+c.x&&(r=!r);return r||Kt.prototype._containsPoint.call(this,n,!0)}});function zm(n,r){return new _i(n,r)}var Qt=qt.extend({initialize:function(n,r){E(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=x(n)?n:n.features,s,c,h;if(r){for(s=0,c=r.length;s<c;s++)h=r[s],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var y=Po(n,m);return y?(y.feature=Lo(n),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(n,y),this.addLayer(y)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function Po(n,r){var s=n.type==="Feature"?n.geometry:n,c=s?s.coordinates:null,h=[],m=r&&r.pointToLayer,y=r&&r.coordsToLatLng||Aa,k,b,D,$;if(!c&&!s)return null;switch(s.type){case"Point":return k=y(c),Fc(m,n,k,r);case"MultiPoint":for(D=0,$=c.length;D<$;D++)k=y(c[D]),h.push(Fc(m,n,k,r));return new qt(h);case"LineString":case"MultiLineString":return b=No(c,s.type==="LineString"?0:1,y),new Kt(b,r);case"Polygon":case"MultiPolygon":return b=No(c,s.type==="Polygon"?1:2,y),new _i(b,r);case"GeometryCollection":for(D=0,$=s.geometries.length;D<$;D++){var J=Po({geometry:s.geometries[D],type:"Feature",properties:n.properties},r);J&&h.push(J)}return new qt(h);case"FeatureCollection":for(D=0,$=s.features.length;D<$;D++){var ue=Po(s.features[D],r);ue&&h.push(ue)}return new qt(h);default:throw new Error("Invalid GeoJSON object.")}}function Fc(n,r,s,c){return n?n(r,s):new So(s,c&&c.markersInheritOptions&&c)}function Aa(n){return new ae(n[1],n[0],n[2])}function No(n,r,s){for(var c=[],h=0,m=n.length,y;h<m;h++)y=r?No(n[h],r-1,s):(s||Aa)(n[h]),c.push(y);return c}function Da(n,r){return n=ne(n),n.alt!==void 0?[N(n.lng,r),N(n.lat,r),N(n.alt,r)]:[N(n.lng,r),N(n.lat,r)]}function jo(n,r,s,c){for(var h=[],m=0,y=n.length;m<y;m++)h.push(r?jo(n[m],yt(n[m])?0:r-1,s,c):Da(n[m],c));return!r&&s&&h.length>0&&h.push(h[0].slice()),h}function gi(n,r){return n.feature?a({},n.feature,{geometry:r}):Lo(r)}function Lo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ba={toGeoJSON:function(n){return gi(this,{type:"Point",coordinates:Da(this.getLatLng(),n)})}};So.include(Ba),Ra.include(Ba),Eo.include(Ba),Kt.include({toGeoJSON:function(n){var r=!yt(this._latlngs),s=jo(this._latlngs,r?1:0,!1,n);return gi(this,{type:(r?"Multi":"")+"LineString",coordinates:s})}}),_i.include({toGeoJSON:function(n){var r=!yt(this._latlngs),s=r&&!yt(this._latlngs[0]),c=jo(this._latlngs,s?2:r?1:0,!0,n);return r||(c=[c]),gi(this,{type:(s?"Multi":"")+"Polygon",coordinates:c})}}),pi.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(s){r.push(s.toGeoJSON(n).geometry.coordinates)}),gi(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var s=r==="GeometryCollection",c=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(n);if(s)c.push(m.geometry);else{var y=Lo(m);y.type==="FeatureCollection"?c.push.apply(c,y.features):c.push(y)}}}),s?gi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Zc(n,r){return new Qt(n,r)}var Rm=Zc,Co=Ct.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,s){this._url=n,this._bounds=he(r),E(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&hi(this._image),this},bringToBack:function(){return this._map&&fi(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=he(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:ge("img");if(se(r,"leaflet-image-layer"),this._zoomAnimated&&se(r,"leaflet-zoom-animated"),this.options.className&&se(r,this.options.className),r.onselectstart=P,r.onmousemove=P,r.onload=d(this.fire,this,"load"),r.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Fn(this._image,s,r)},_reset:function(){var n=this._image,r=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=r.getSize();Re(n,r.min),n.style.width=s.x+"px",n.style.height=s.y+"px"},_updateOpacity:function(){vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Am=function(n,r,s){return new Co(n,r,s)},Uc=Co.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:ge("video");if(se(r,"leaflet-image-layer"),this._zoomAnimated&&se(r,"leaflet-zoom-animated"),this.options.className&&se(r,this.options.className),r.onselectstart=P,r.onmousemove=P,r.onloadeddata=d(this.fire,this,"load"),n){for(var s=r.getElementsByTagName("source"),c=[],h=0;h<s.length;h++)c.push(s[h].src);this._url=s.length>0?c:[r.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=ge("source");y.src=this._url[m],r.appendChild(y)}}});function Dm(n,r,s){return new Uc(n,r,s)}var Hc=Co.extend({_initImage:function(){var n=this._image=this._url;se(n,"leaflet-image-layer"),this._zoomAnimated&&se(n,"leaflet-zoom-animated"),this.options.className&&se(n,this.options.className),n.onselectstart=P,n.onmousemove=P}});function Bm(n,r,s){return new Hc(n,r,s)}var Zt=Ct.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof ae||x(n))?(this._latlng=ne(n),E(this,r)):(E(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&vt(this._container,1),this.bringToFront(),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(vt(this._container,0),this._removeTimeout=setTimeout(d(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ne(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hi(this._container),this},bringToBack:function(){return this._map&&fi(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof qt){r=null;var s=this._source._layers;for(var c in s)if(s[c]._map){r=s[c];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=A(this.options.offset),s=this._getAnchor();this._zoomAnimated?Re(this._container,n.add(s)):r=r.add(n).add(s);var c=this._containerBottom=-r.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});fe.include({_initOverlay:function(n,r,s,c){var h=r;return h instanceof n||(h=new n(c).setContent(r)),s&&h.setLatLng(s),h}}),Ct.include({_initOverlay:function(n,r,s,c){var h=s;return h instanceof n?(E(h,c),h._source=this):(h=r&&!c?r:new n(c,this),h.setContent(s)),h}});var ko=Zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Zt.prototype.openOn.call(this,n)},onAdd:function(n){Zt.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _n||this._source.on("preclick",Un))},onRemove:function(n){Zt.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _n||this._source.off("preclick",Un))},getEvents:function(){var n=Zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=ge("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=ge("div",n+"-content-wrapper",r);if(this._contentNode=ge("div",n+"-content",s),lr(r),Ca(this._contentNode),re(r,"contextmenu",Un),this._tipContainer=ge("div",n+"-tip-container",r),this._tip=ge("div",n+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ge("a",n+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',re(c,"click",function(h){Ve(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var s=n.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),r.width=s+1+"px",r.whiteSpace="",r.height="";var c=n.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&c>h?(r.height=h+"px",se(n,m)):Ie(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),s=this._getAnchor();Re(this._container,r.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(rr(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+r,c=this._containerWidth,h=new O(this._containerLeft,-s-this._containerBottom);h._add(Zn(this._container));var m=n.layerPointToContainerPoint(h),y=A(this.options.autoPanPadding),k=A(this.options.autoPanPaddingTopLeft||y),b=A(this.options.autoPanPaddingBottomRight||y),D=n.getSize(),$=0,J=0;m.x+c+b.x>D.x&&($=m.x+c-D.x+b.x),m.x-$-k.x<0&&($=m.x-k.x),m.y+s+b.y>D.y&&(J=m.y+s-D.y+b.y),m.y-J-k.y<0&&(J=m.y-k.y),($||J)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([$,J]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Fm=function(n,r){return new ko(n,r)};fe.mergeOptions({closePopupOnClick:!0}),fe.include({openPopup:function(n,r,s){return this._initOverlay(ko,n,r,s).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Ct.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ko,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof qt||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Hn(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof _n)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var To=Zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Zt.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Zt.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Zt.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ge("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,s,c=this._map,h=this._container,m=c.latLngToContainerPoint(c.getCenter()),y=c.layerPointToContainerPoint(n),k=this.options.direction,b=h.offsetWidth,D=h.offsetHeight,$=A(this.options.offset),J=this._getAnchor();k==="top"?(r=b/2,s=D):k==="bottom"?(r=b/2,s=0):k==="center"?(r=b/2,s=D/2):k==="right"?(r=0,s=D/2):k==="left"?(r=b,s=D/2):y.x<m.x?(k="right",r=0,s=D/2):(k="left",r=b+($.x+J.x)*2,s=D/2),n=n.subtract(A(r,s,!0)).add($).add(J),Ie(h,"leaflet-tooltip-right"),Ie(h,"leaflet-tooltip-left"),Ie(h,"leaflet-tooltip-top"),Ie(h,"leaflet-tooltip-bottom"),se(h,"leaflet-tooltip-"+k),Re(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&vt(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zm=function(n,r){return new To(n,r)};fe.include({openTooltip:function(n,r,s){return this._initOverlay(To,n,r,s).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Ct.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(To,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[r](s),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof qt||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(re(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),re(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,s,c;this._tooltip.options.sticky&&n.originalEvent&&(s=this._map.mouseEventToContainerPoint(n.originalEvent),c=this._map.containerPointToLayerPoint(s),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var Vc=mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),s=this.options;if(s.html instanceof Element?(_o(r),r.appendChild(s.html)):r.innerHTML=s.html!==!1?s.html:"",s.bgPos){var c=A(s.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Um(n){return new Vc(n)}mi.Default=dr;var hr=Ct.extend({options:{tileSize:256,opacity:1,updateWhenIdle:M.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){E(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Ce(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof O?n:new O(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,s=-n(-1/0,1/0),c=0,h=r.length,m;c<h;c++)m=r[c].style.zIndex,r[c]!==this._container&&m&&(s=n(s,+m));isFinite(s)&&(this.options.zIndex=s+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!M.ielt9){vt(this._container,this.options.opacity);var n=+new Date,r=!1,s=!1;for(var c in this._tiles){var h=this._tiles[c];if(!(!h.current||!h.loaded)){var m=Math.min(1,(n-h.loaded)/200);vt(h.el,m),m<1?r=!0:(h.active?s=!0:this._onOpaqueTile(h),h.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),r&&(X(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:P,_initContainer:function(){this._container||(this._container=ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===n?(this._levels[s].el.style.zIndex=r-Math.abs(n-s),this._onUpdateLevel(s)):(Ce(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var c=this._levels[n],h=this._map;return c||(c=this._levels[n]={},c.el=ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),c.zoom=n,this._setZoomTransform(c,h.getCenter(),h.getZoom()),P(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:P,_onRemoveLevel:P,_onCreateLevel:P,_pruneTiles:function(){if(this._map){var n,r,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Ce(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,s,c){var h=Math.floor(n/2),m=Math.floor(r/2),y=s-1,k=new O(+h,+m);k.z=+y;var b=this._tileCoordsToKey(k),D=this._tiles[b];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),y>c?this._retainParent(h,m,y,c):!1)},_retainChildren:function(n,r,s,c){for(var h=2*n;h<2*n+2;h++)for(var m=2*r;m<2*r+2;m++){var y=new O(h,m);y.z=s+1;var k=this._tileCoordsToKey(y),b=this._tiles[k];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);s+1<c&&this._retainChildren(h,m,s+1,c)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,s,c){var h=Math.round(r);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!c||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var s in this._levels)this._setZoomTransform(this._levels[s],n,r)},_setZoomTransform:function(n,r,s){var c=this._map.getZoomScale(s,n.zoom),h=n.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,s)).round();M.any3d?Fn(n.el,h,c):Re(n.el,h)},_resetGrid:function(){var n=this._map,r=n.options.crs,s=this._tileSize=this.getTileSize(),c=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],c).x/s.x),Math.ceil(n.project([0,r.wrapLng[1]],c).x/s.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],c).y/s.x),Math.ceil(n.project([r.wrapLat[1],0],c).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,s=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(s,this._tileZoom),h=r.project(n,this._tileZoom).floor(),m=r.getSize().divideBy(c*2);return new Q(h.subtract(m),h.add(m))},_update:function(n){var r=this._map;if(r){var s=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(c),m=h.getCenter(),y=[],k=this.options.keepBuffer,b=new Q(h.getBottomLeft().subtract([k,-k]),h.getTopRight().add([k,-k]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var $=this._tiles[D].coords;($.z!==this._tileZoom||!b.contains(new O($.x,$.y)))&&(this._tiles[D].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(n,s);return}for(var J=h.min.y;J<=h.max.y;J++)for(var ue=h.min.x;ue<=h.max.x;ue++){var Je=new O(ue,J);if(Je.z=this._tileZoom,!!this._isValidTile(Je)){var Ze=this._tiles[this._tileCoordsToKey(Je)];Ze?Ze.current=!0:y.push(Je)}}if(y.sort(function(rt,yi){return rt.distanceTo(m)-yi.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xt=document.createDocumentFragment();for(ue=0;ue<y.length;ue++)this._addTile(y[ue],xt);this._level.el.appendChild(xt)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var s=this._globalTileRange;if(!r.wrapLng&&(n.x<s.min.x||n.x>s.max.x)||!r.wrapLat&&(n.y<s.min.y||n.y>s.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(n);return he(this.options.bounds).overlaps(c)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,s=this.getTileSize(),c=n.scaleBy(s),h=c.add(s),m=r.unproject(c,n.z),y=r.unproject(h,n.z);return[m,y]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),s=new ye(r[0],r[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),s=new O(+r[0],+r[1]);return s.z=+r[2],s},_removeTile:function(n){var r=this._tiles[n];r&&(Ce(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){se(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=P,n.onmousemove=P,M.ielt9&&this.options.opacity<1&&vt(n,this.options.opacity)},_addTile:function(n,r){var s=this._getTilePos(n),c=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),d(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&U(d(this._tileReady,this,n,null,h)),Re(h,s),this._tiles[c]={el:h,coords:n,current:!0},r.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,r,s){r&&this.fire("tileerror",{error:r,tile:s,coords:n});var c=this._tileCoordsToKey(n);s=this._tiles[c],s&&(s.loaded=+new Date,this._map._fadeAnimated?(vt(s.el,0),X(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),r||(se(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),M.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new O(this._wrapX?S(n.x,this._wrapX):n.x,this._wrapY?S(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new Q(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Hm(n){return new hr(n)}var vi=hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=E(this,r),r.detectRetina&&M.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var s=document.createElement("img");return re(s,"load",d(this._tileOnLoad,this,r,s)),re(s,"error",d(this._tileOnError,this,r,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(n),s},getTileUrl:function(n){var r={r:M.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=s),r["-y"]=s}return g(this._url,a(r,this.options))},_tileOnLoad:function(n,r){M.ielt9?setTimeout(d(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,s){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),n(s,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,s=this.options.zoomReverse,c=this.options.zoomOffset;return s&&(n=r-n),n+c},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=P,r.onerror=P,!r.complete)){r.src=B;var s=this._tiles[n].coords;Ce(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:s})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",B),hr.prototype._removeTile.call(this,n)},_tileReady:function(n,r,s){if(!(!this._map||s&&s.getAttribute("src")===B))return hr.prototype._tileReady.call(this,n,r,s)}});function Wc(n,r){return new vi(n,r)}var Gc=vi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var s=a({},this.defaultWmsParams);for(var c in r)c in this.options||(s[c]=r[c]);r=E(this,r);var h=r.detectRetina&&M.retina?2:1,m=this.getTileSize();s.width=m.x*h,s.height=m.y*h,this.wmsParams=s},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,vi.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),s=this._crs,c=ce(s.project(r[0]),s.project(r[1])),h=c.min,m=c.max,y=(this._wmsVersion>=1.3&&this._crs===Dc?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),k=vi.prototype.getTileUrl.call(this,n);return k+I(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(n,r){return a(this.wmsParams,n),r||this.redraw(),this}});function Vm(n,r){return new Gc(n,r)}vi.WMS=Gc,Wc.wms=Vm;var Yt=Ct.extend({options:{padding:.1},initialize:function(n){E(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var s=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,r),m=c.multiplyBy(-s).add(h).subtract(this._map._getNewPixelOrigin(n,r));M.any3d?Fn(this._container,m,s):Re(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),s=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new Q(s,s.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$c=Yt.extend({options:{tolerance:0},getEvents:function(){var n=Yt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");re(n,"mousemove",this._onMouseMove,this),re(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Ce(this._container),we(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var n=this._bounds,r=this._container,s=n.getSize(),c=M.retina?2:1;Re(r,n.min),r.width=c*s.x,r.height=c*s.y,r.style.width=s.x+"px",r.style.height=s.y+"px",M.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Yt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,s=r.next,c=r.prev;s?s.prev=c:this._drawLast=c,c?c.next=s:this._drawFirst=s,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),s=[],c,h;for(h=0;h<r.length;h++){if(c=Number(r[h]),isNaN(c))return;s.push(c)}n.options._dashArray=s}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var s=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)n=c.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var s,c,h,m,y=n._parts,k=y.length,b=this._ctx;if(k){for(b.beginPath(),s=0;s<k;s++){for(c=0,h=y[s].length;c<h;c++)m=y[s][c],b[c?"lineTo":"moveTo"](m.x,m.y);r&&b.closePath()}this._fillStroke(b,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,s=this._ctx,c=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||c)/c;h!==1&&(s.save(),s.scale(1,h)),s.beginPath(),s.arc(r.x,r.y/h,c,0,Math.PI*2,!1),h!==1&&s.restore(),this._fillStroke(s,n)}},_fillStroke:function(n,r){var s=r.options;s.fill&&(n.globalAlpha=s.fillOpacity,n.fillStyle=s.fillColor||s.color,n.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=s.opacity,n.lineWidth=s.weight,n.strokeStyle=s.color,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),s,c,h=this._drawFirst;h;h=h.next)s=h.layer,s.options.interactive&&s._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(s))&&(c=s);this._fireEvent(c?[c]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var s,c,h=this._drawFirst;h;h=h.next)s=h.layer,s.options.interactive&&s._containsPoint(r)&&(c=s);c!==this._hoveredLayer&&(this._handleMouseOut(n),c&&(se(this._container,"leaflet-interactive"),this._fireEvent([c],n,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,s){this._map._fireDOMEvent(r,s||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var s=r.next,c=r.prev;if(s)s.prev=c;else return;c?c.next=s:s&&(this._drawFirst=s),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var s=r.next,c=r.prev;if(c)c.next=s;else return;s?s.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function qc(n){return M.canvas?new $c(n):null}var fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wm={_initContainer:function(){this._container=ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=fr("shape");se(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=fr("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Ce(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,s=n._fill,c=n.options,h=n._container;h.stroked=!!c.stroke,h.filled=!!c.fill,c.stroke?(r||(r=n._stroke=fr("stroke")),h.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=x(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(h.removeChild(r),n._stroke=null),c.fill?(s||(s=n._fill=fr("fill")),h.appendChild(s),s.color=c.fillColor||c.color,s.opacity=c.fillOpacity):s&&(h.removeChild(s),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),s=Math.round(n._radius),c=Math.round(n._radiusY||s);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+s+","+c+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){hi(n._container)},_bringToBack:function(n){fi(n._container)}},bo=M.vml?fr:cn,pr=Yt.extend({_initContainer:function(){this._container=bo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),we(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yt.prototype._update.call(this);var n=this._bounds,r=n.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,s.setAttribute("width",r.x),s.setAttribute("height",r.y)),Re(s,n.min),s.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=bo("path");n.options.className&&se(r,n.options.className),n.options.interactive&&se(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Ce(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,s=n.options;r&&(s.stroke?(r.setAttribute("stroke",s.color),r.setAttribute("stroke-opacity",s.opacity),r.setAttribute("stroke-width",s.weight),r.setAttribute("stroke-linecap",s.lineCap),r.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?r.setAttribute("stroke-dasharray",s.dashArray):r.removeAttribute("stroke-dasharray"),s.dashOffset?r.setAttribute("stroke-dashoffset",s.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),s.fill?(r.setAttribute("fill",s.fillColor||s.color),r.setAttribute("fill-opacity",s.fillOpacity),r.setAttribute("fill-rule",s.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Qi(n._parts,r))},_updateCircle:function(n){var r=n._point,s=Math.max(Math.round(n._radius),1),c=Math.max(Math.round(n._radiusY),1)||s,h="a"+s+","+c+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(r.x-s)+","+r.y+h+s*2+",0 "+h+-s*2+",0 ";this._setPath(n,m)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){hi(n._path)},_bringToBack:function(n){fi(n._path)}});M.vml&&pr.include(Wm);function Kc(n){return M.svg||M.vml?new pr(n):null}fe.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&qc(n)||Kc(n)}});var Qc=_i.extend({initialize:function(n,r){_i.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=he(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Gm(n,r){return new Qc(n,r)}pr.create=bo,pr.pointsToPath=Qi,Qt.geometryToLayer=Po,Qt.coordsToLatLng=Aa,Qt.coordsToLatLngs=No,Qt.latLngToCoords=Da,Qt.latLngsToCoords=jo,Qt.getFeature=gi,Qt.asFeature=Lo,fe.mergeOptions({boxZoom:!0});var Yc=Ft.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),or(),xa(),this._startPoint=this._map.mouseEventToContainerPoint(n),re(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ge("div","leaflet-zoom-box",this._container),se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new Q(this._point,this._startPoint),s=r.getSize();Re(this._box,r.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(Ce(this._box),Ie(this._container,"leaflet-crosshair")),sr(),wa(),we(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var r=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});fe.addInitHook("addHandler","boxZoom",Yc),fe.mergeOptions({doubleClickZoom:!0});var Xc=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,s=r.getZoom(),c=r.options.zoomDelta,h=n.originalEvent.shiftKey?s-c:s+c;r.options.doubleClickZoom==="center"?r.setZoom(h):r.setZoomAround(n.containerPoint,h)}});fe.addInitHook("addHandler","doubleClickZoom",Xc),fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Jc=Ft.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new mn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ie(this._map._container,"leaflet-grab"),Ie(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=he(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),s=this._initialWorldOffset,c=this._draggable._newPos.x,h=(c-r+s)%n+r-s,m=(c+r+s)%n-r-s,y=Math.abs(h+s)<Math.abs(m+s)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(n){var r=this._map,s=r.options,c=!s.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),c)r.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=s.easeLinearity,k=h.multiplyBy(y/m),b=k.distanceTo([0,0]),D=Math.min(s.inertiaMaxSpeed,b),$=k.multiplyBy(D/b),J=D/(s.inertiaDeceleration*y),ue=$.multiplyBy(-J/2).round();!ue.x&&!ue.y?r.fire("moveend"):(ue=r._limitOffset(ue,r.options.maxBounds),U(function(){r.panBy(ue,{duration:J,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});fe.addInitHook("addHandler","dragging",Jc),fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ed=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),re(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),we(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,s=n.scrollTop||r.scrollTop,c=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},s=this.keyCodes,c,h;for(c=0,h=s.left.length;c<h;c++)r[s.left[c]]=[-1*n,0];for(c=0,h=s.right.length;c<h;c++)r[s.right[c]]=[n,0];for(c=0,h=s.down.length;c<h;c++)r[s.down[c]]=[0,n];for(c=0,h=s.up.length;c<h;c++)r[s.up[c]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},s=this.keyCodes,c,h;for(c=0,h=s.zoomIn.length;c<h;c++)r[s.zoomIn[c]]=n;for(c=0,h=s.zoomOut.length;c<h;c++)r[s.zoomOut[c]]=-n},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){we(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,s=this._map,c;if(r in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(c=this._panKeys[r],n.shiftKey&&(c=A(c).multiplyBy(3)),s.options.maxBounds&&(c=s._limitOffset(A(c),s.options.maxBounds)),s.options.worldCopyJump){var h=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(c)));s.panTo(h)}else s.panBy(c)}else if(r in this._zoomKeys)s.setZoom(s.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;Hn(n)}}});fe.addInitHook("addHandler","keyboard",ed),fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var td=Ft.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Nc(n),s=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var c=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),c),Hn(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),s=this._map.options.zoomSnap||0;n._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=s?Math.ceil(h/s)*s:h,y=n._limitZoom(r+(this._delta>0?m:-m))-r;this._delta=0,this._startTime=null,y&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+y):n.setZoomAround(this._lastMousePos,r+y))}});fe.addInitHook("addHandler","scrollWheelZoom",td);var $m=600;fe.mergeOptions({tapHold:M.touchNative&&M.safari&&M.mobile,tapTolerance:15});var nd=Ft.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new O(r.clientX,r.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",Ve),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),$m),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){we(document,"touchend",Ve),we(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new O(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var s=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});s._simulated=!0,r.target.dispatchEvent(s)}});fe.addInitHook("addHandler","tapHold",nd),fe.mergeOptions({touchZoom:M.touch,bounceAtZoomLimits:!0});var id=Ft.extend({addHooks:function(){se(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var s=r.mouseEventToContainerPoint(n.touches[0]),c=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(s.add(c)._divideBy(2))),this._startDist=s.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),Ve(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,s=r.mouseEventToContainerPoint(n.touches[0]),c=r.mouseEventToContainerPoint(n.touches[1]),h=s.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(h,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&h<1||this._zoom>r.getMaxZoom()&&h>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=s._add(c)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var y=d(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(y,this,!0),Ve(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});fe.addInitHook("addHandler","touchZoom",id),fe.BoxZoom=Yc,fe.DoubleClickZoom=Xc,fe.Drag=Jc,fe.Keyboard=ed,fe.ScrollWheelZoom=td,fe.TapHold=nd,fe.TouchZoom=id,i.Bounds=Q,i.Browser=M,i.CRS=Me,i.Canvas=$c,i.Circle=Ra,i.CircleMarker=Eo,i.Class=V,i.Control=Lt,i.DivIcon=Vc,i.DivOverlay=Zt,i.DomEvent=dm,i.DomUtil=um,i.Draggable=mn,i.Evented=W,i.FeatureGroup=qt,i.GeoJSON=Qt,i.GridLayer=hr,i.Handler=Ft,i.Icon=mi,i.ImageOverlay=Co,i.LatLng=ae,i.LatLngBounds=ye,i.Layer=Ct,i.LayerGroup=pi,i.LineUtil=Pm,i.Map=fe,i.Marker=So,i.Mixin=vm,i.Path=_n,i.Point=O,i.PolyUtil=ym,i.Polygon=_i,i.Polyline=Kt,i.Popup=ko,i.PosAnimation=jc,i.Projection=Nm,i.Rectangle=Qc,i.Renderer=Yt,i.SVG=pr,i.SVGOverlay=Hc,i.TileLayer=vi,i.Tooltip=To,i.Transformation=ie,i.Util=Z,i.VideoOverlay=Uc,i.bind=d,i.bounds=ce,i.canvas=qc,i.circle=Om,i.circleMarker=Mm,i.control=ur,i.divIcon=Um,i.extend=a,i.featureGroup=km,i.geoJSON=Zc,i.geoJson=Rm,i.gridLayer=Hm,i.icon=Tm,i.imageOverlay=Am,i.latLng=ne,i.latLngBounds=he,i.layerGroup=Cm,i.map=hm,i.marker=bm,i.point=A,i.polygon=zm,i.polyline=Im,i.popup=Fm,i.rectangle=Gm,i.setOptions=E,i.stamp=p,i.svg=Kc,i.svgOverlay=Bm,i.tileLayer=Wc,i.tooltip=Zm,i.transformation=le,i.version=o,i.videoOverlay=Dm;var qm=window.L;i.noConflict=function(){return window.L=qm,this},window.L=i})})(fu,fu.exports);var Gi=fu.exports;function mc(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function _c(e,t){return t==null?function(o,a){const u=w.useRef();return u.current||(u.current=e(o,a)),u}:function(o,a){const u=w.useRef();u.current||(u.current=e(o,a));const d=w.useRef(o),{instance:f}=u.current;return w.useEffect(function(){d.current!==o&&(t(f,o,d.current),d.current=o)},[f,o,a]),u}}function ox(e,t){w.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Qp(e){return function(i){const o=qp(),a=e(pc(i,o),o);return Wp(o.map,i.attribution),Kp(a.current,i.eventHandlers),ox(a.current,o),a}}function sx(e,t){const i=_c(e,t),o=Qp(i);return tx(o)}function ax(e,t){const i=_c(e),o=rx(i,t);return nx(o)}function lx(e,t){const i=_c(e,t),o=Qp(i);return ix(o)}function ux(e,t,i){const{opacity:o,zIndex:a}=t;o!=null&&o!==i.opacity&&e.setOpacity(o),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function pu(){return pu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},pu.apply(this,arguments)}function cx({bounds:e,boundsOptions:t,center:i,children:o,className:a,id:u,placeholder:d,style:f,whenReady:p,zoom:_,...S},P){const[N]=w.useState({className:a,id:u,style:f}),[j,C]=w.useState(null);w.useImperativeHandle(P,()=>(j==null?void 0:j.map)??null,[j]);const E=w.useCallback(v=>{if(v!==null&&j===null){const g=new Gi.Map(v,S);i!=null&&_!=null?g.setView(i,_):e!=null&&g.fitBounds(e,t),p!=null&&g.whenReady(p),C(Jy(g))}},[]);w.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const I=j?ms.createElement($p,{value:j},o):d??null;return ms.createElement("div",pu({},N,{ref:E}),I)}const dx=w.forwardRef(cx),Eh=sx(function({position:t,...i},o){const a=new Gi.Marker(t,i);return mc(a,ex(o,{overlayContainer:a}))},function(t,i,o){i.position!==o.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==o.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==o.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==o.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),hx=lx(function({url:t,...i},o){const a=new Gi.TileLayer(t,pc(i,o));return mc(a,o)},function(t,i,o){ux(t,i,o);const{url:a}=i;a!=null&&a!==o.url&&t.setUrl(a)}),Ph=ax(function(t,i){const o=new Gi.Tooltip(t,i.overlayContainer);return mc(o,i)},function(t,i,{position:o},a){w.useEffect(function(){const d=i.overlayContainer;if(d==null)return;const{instance:f}=t,p=S=>{S.tooltip===f&&(o!=null&&f.setLatLng(o),f.update(),a(!0))},_=S=>{S.tooltip===f&&a(!1)};return d.on({tooltipopen:p,tooltipclose:_}),d.bindTooltip(f),function(){d.off({tooltipopen:p,tooltipclose:_}),d._map!=null&&d.unbindTooltip()}},[t,i,a,o])});function fx({restaurant:e,orders:t}){const i=[e.lat,e.lng],o=w.useMemo(()=>t.filter(f=>f.lat!==void 0&&f.lng!==void 0).map(f=>({position:[f.lat,f.lng],label:f.address,id:f.id})),[t]),a=w.useMemo(()=>Gi.divIcon({className:"route-map__pin route-map__pin--restaurant",html:"<span></span>",iconSize:[38,38],iconAnchor:[19,38],popupAnchor:[0,-28]}),[]),u=w.useMemo(()=>o.map((f,p)=>({...f,icon:Gi.divIcon({className:"route-map__pin",html:`<span>${p+1}</span>`,iconSize:[34,34],iconAnchor:[17,34],popupAnchor:[0,-28]})})),[o]),d=w.useMemo(()=>{const f=[i,...o.map(N=>N.position)];if(f.length===0)return null;const p=Math.min(...f.map(N=>N[0])),_=Math.max(...f.map(N=>N[0])),S=Math.min(...f.map(N=>N[1])),P=Math.max(...f.map(N=>N[1]));return p===_&&S===P?null:[[p,S],[_,P]]},[i,o]);return l.jsx("div",{className:"route-map",children:l.jsxs(dx,{center:i,zoom:13,bounds:d??void 0,className:"route-map__canvas",scrollWheelZoom:!1,children:[l.jsx(hx,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),l.jsx(Eh,{position:i,icon:a,children:l.jsxs(Ph,{direction:"top",offset:[0,-6],opacity:1,children:["Restaurante: ",e.name]})}),u.map(f=>l.jsx(Eh,{position:f.position,icon:f.icon,children:l.jsx(Ph,{direction:"top",offset:[0,-6],opacity:1,children:f.label})},f.id))]},t.map(f=>f.id).join(","))})}function yl({message:e}){return l.jsx("p",{style:{color:"#b91c1c",margin:"12px 0"},children:e})}function Nh({title:e,children:t}){return l.jsxs("div",{style:{marginBottom:16},className:"panel",children:[l.jsx("header",{className:"panel__header",children:l.jsx("h3",{children:e})}),t]})}const px=[{id:"operations",label:" Operao",description:"Resumo dirio e rotas em andamento"},{id:"couriers",label:" Motoboys",description:"Disponibilidade e rotas ativas"},{id:"orders",label:" Pedidos",description:"Fila do dia e correes"},{id:"pricing",label:" Regras de preo",description:"CRUD de faixas e zonas"},{id:"admin",label:" Administrao",description:"CRUD completo (pedidos, motoboys, rotas)"},{id:"settings",label:" Configuraes",description:"Dados do restaurante e preferncias"},{id:"reports",label:" Relatrios",description:"Histrico e mtricas por perodo"},{id:"guide",label:" Guia",description:"Entenda cada status e label do painel"}];function mx(){const[e,t]=w.useState(null),[i,o]=w.useState(!0),[a,u]=w.useState("admin@demo.com"),[d,f]=w.useState(""),[p,_]=w.useState(null),[S,P]=w.useState(!1),N=!!e,{orders:j,error:C,refetch:E}=Gy(N),{couriers:I,error:v,fetchCurrentRoute:g,refetch:x}=qy(N),{routes:T,error:B,refetch:R}=Qy(N),{current:z,history:H,loading:ee,error:Y,startDay:U,closeDay:X}=Yy(N),{profile:Z,loading:V}=Vp(N),[oe,te]=w.useState("operations"),[W,O]=w.useState(!1),[q,A]=w.useState(null),[Q,ce]=w.useState(null),[ye,he]=w.useState(null),[ae,ne]=w.useState(!1),[Me,Xe]=w.useState(!1),[si,G]=w.useState(null),[ie,le]=w.useState(null),[Rt,_t]=w.useState(""),cn=w.useRef(null),[Qi,ai]=w.useState(!1),[li,ro]=w.useState(!1),[oo,Dn]=w.useState(!1);w.useEffect(()=>{if(typeof window>"u"){o(!1);return}const M=window.localStorage.getItem("adminToken");if(!M){o(!1);return}Jo(M),Gv(M).then(Ee=>{t(Ee)}).catch(Ee=>{console.error(Ee),window.localStorage.removeItem("adminToken"),Jo(null)}).finally(()=>{o(!1)})},[]);const so=async M=>{M.preventDefault(),_(null),P(!0);try{const{token:Ee,admin:xe}=await Wv(a.trim(),d.trim());Jo(Ee),typeof window<"u"&&window.localStorage.setItem("adminToken",Ee),t(xe),f("")}catch(Ee){console.error(Ee),_(Ee instanceof Error?Ee.message:"No foi possvel entrar. Verifique as credenciais.")}finally{P(!1),o(!1)}},ao=()=>{t(null),Jo(null),typeof window<"u"&&window.localStorage.removeItem("adminToken"),te("operations"),A(null),he(null)},At=w.useMemo(()=>Object.fromEntries(j.map(M=>[M.id,M])),[j]),lo=w.useMemo(()=>Object.fromEntries(I.map(M=>[M.id,M])),[I]),dn=w.useMemo(()=>I.filter(M=>M.status==="AVAILABLE"),[I]),Dt=w.useMemo(()=>W?j:z?j.filter(M=>M.sequence>z.visibleFromSequence):[],[j,z,W]),Yi=w.useMemo(()=>z?j.filter(M=>M.sequence>z.visibleFromSequence):[],[j,z]),uo=w.useMemo(()=>new Set(Dt.map(M=>M.id)),[Dt]),Xi=w.useMemo(()=>new Set(Yi.map(M=>M.id)),[Yi]),Ji=w.useMemo(()=>W?T:z?T.filter(M=>M.orderIds.some(Ee=>uo.has(Ee))):[],[T,z,W,uo]);w.useMemo(()=>z?T.filter(M=>M.orderIds.some(Ee=>Xi.has(Ee))):[],[T,z,Xi]);const ra=w.useMemo(()=>Dt.filter(M=>M.status==="PENDING"),[Dt]);w.useEffect(()=>{G(null),le(null),_t("")},[ye]),w.useEffect(()=>{O(!1)},[z==null?void 0:z.id]),w.useEffect(()=>{var M;Qi&&oe==="operations"&&((M=cn.current)==null||M.scrollIntoView({behavior:"smooth",block:"start"}),ai(!1))},[Qi,oe]);const co=M=>M==="OFFLINE"?"Offline":M==="AVAILABLE"?"Aguardando pedidos":"Em rota",ui={AWAITING_COURIER:"Aguardando motoboy",ASSIGNED:"Separando pedidos",IN_PROGRESS:"Em rota",DONE:"Finalizada"},ho=()=>{var M;oe==="operations"?(M=cn.current)==null||M.scrollIntoView({behavior:"smooth",block:"start"}):(ai(!0),te("operations"))},oa=()=>{ro(!0)},Bn=async M=>{await ly(M),await Promise.all([E(),R()])},sa=()=>{z&&Dn(!0)},aa=async()=>{Dn(!1),await X()},fo=async M=>{A(M),he(null),ne(!0);const Ee=await g(M.id);ce(Ee),ne(!1)},po=M=>{he(M),A(null)},hn=q?I.find(M=>M.id===q.id)??q:null,je=ye?T.find(M=>M.id===ye.id)??ye:null,er=w.useMemo(()=>je?je.orderIds.map(M=>At[M]).filter(M=>!!M):[],[je,At]),la=async()=>{if(!(!je||!Rt)){Xe(!0),G(null),le(null);try{await sy(je.id,Rt),le("Rota atribuda com sucesso."),_t(""),await Promise.all([R(),E(),x()])}catch(M){console.error(M),G(M instanceof Error?M.message:"No foi possvel atribuir a rota.")}finally{Xe(!1)}}},ua=async()=>{if(je){Xe(!0),G(null),le(null);try{const M=await ay(je.id);le(`Rota atribuda automaticamente para ${M.courier.name}.`),await Promise.all([R(),E(),x()])}catch(M){console.error(M),G(M instanceof Error?M.message:"No foi possvel atribuir automaticamente.")}finally{Xe(!1)}}};if(i)return l.jsx(fl,{children:l.jsxs("section",{className:"login-panel",children:[l.jsx("h2",{children:"Carregando painel..."}),l.jsx("p",{className:"login-panel__hint",children:"Validando sesso em andamento."})]})});if(!N)return l.jsx(fl,{children:l.jsxs("section",{className:"login-panel",children:[l.jsx("h2",{children:"Acesso administrativo"}),l.jsxs("p",{className:"login-panel__hint",children:["Use suas credenciais para acessar o painel. Padro: ",l.jsx("strong",{children:"admin@demo.com"})," / ",l.jsx("strong",{children:"admin123"}),"."]}),p&&l.jsx("p",{className:"login-panel__error",children:p}),l.jsxs("form",{className:"login-panel__form",onSubmit:so,children:[l.jsxs("label",{children:["E-mail",l.jsx("input",{type:"email",value:a,onChange:M=>u(M.target.value),required:!0})]}),l.jsxs("label",{children:["Senha",l.jsx("input",{type:"password",value:d,onChange:M=>f(M.target.value),required:!0})]}),l.jsx("button",{className:"button button--primary",type:"submit",disabled:S,children:S?"Entrando...":"Entrar"})]})]})});const ca=()=>{var M,Ee;return l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:`panel shift-panel ${z?"":"shift-panel--attention"}`,children:[l.jsxs("div",{className:"shift-panel__info",children:[z?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"shift-panel__title",children:["Turno aberto em ",z.startedAt.toLocaleString()]}),l.jsx("p",{className:"shift-panel__hint",children:"Quando o ltimo motoboy retornar, encerre o turno para arquivar todos os pedidos deste perodo."}),H.length>0&&W&&l.jsxs("p",{className:"shift-panel__hint",style:{marginTop:12},children:["Histrico recente: ",H.slice(0,3).map(xe=>xe.startedAt.toLocaleDateString()).join(", "),"..."]})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"shift-panel__badge",children:"Primeiro passo"}),l.jsx("h3",{className:"shift-panel__title shift-panel__title--highlight",children:"Abra o turno do dia"}),l.jsx("p",{className:"shift-panel__hint",style:{marginBottom:8},children:"Sem turno, no mostramos pedidos nem rotas. Toque em Abrir turno para liberar toda a operao."}),l.jsx("p",{className:"shift-panel__subhint",children:"Isso inicia os contadores do dia e informa os motoboys que o restaurante j est operando."})]}),Y&&l.jsx("p",{className:"settings-error",style:{marginTop:8},children:Y})]}),l.jsxs("div",{className:"shift-panel__actions",children:[l.jsxs("div",{children:[l.jsx("p",{className:"shift-panel__cta",children:z?"Operao em andamento":"Clique para comear o dia"}),l.jsx("button",{className:"button button--primary shift-panel__button",onClick:U,disabled:ee||!!z,children:" Abrir turno"})]}),l.jsx("button",{className:"button shift-panel__button",onClick:sa,disabled:ee||!z,children:"Encerrar turno"}),l.jsxs("label",{className:"operation-bar__toggle",style:{marginTop:8},children:[l.jsx("input",{type:"checkbox",checked:W,onChange:xe=>O(xe.target.checked)}),"Exibir histrico completo"]})]})]}),!W&&z&&l.jsxs("p",{className:"panel__subtitle",style:{marginTop:-8},children:["Mostrando apenas pedidos criados aps ",z.startedAt.toLocaleString(),"."]}),W&&H.length>0&&l.jsxs("p",{className:"panel__subtitle",style:{marginTop:-8},children:["Histrico recente: ",H.slice(0,3).map(xe=>xe.startedAt.toLocaleDateString()).join(", "),"..."]}),z&&l.jsx(Ov,{orders:Dt,couriers:I,routes:Ji,onFocusRoutes:ho,onOpenManualRoute:oa}),(C||v||B)&&l.jsx(yl,{message:`Erro ao carregar dados: ${C??v??B}. Verifique se a API est rodando em http://localhost:3000.`}),l.jsx("div",{ref:cn,children:l.jsx(Fv,{routes:Ji,couriers:I,orders:Dt,onSelectRoute:po})}),je&&l.jsxs(Nh,{title:`Detalhes da rota ${en(je.id)}`,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Motoboy:"})," ",je.courierId?((M=lo[je.courierId])==null?void 0:M.name)??je.courierId:"No atribudo"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Telefone:"})," ",je.courierId?((Ee=lo[je.courierId])==null?void 0:Ee.phone)??"-":"-"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Status:"})," ",ui[je.status]]}),je.totalPrice!==void 0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Valor total:"})," R$ ",je.totalPrice.toFixed(2)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Criada em:"})," ",new Date(je.createdAt).toLocaleString()]}),je.mapsUrl&&l.jsx("p",{children:l.jsx("a",{href:je.mapsUrl,target:"_blank",rel:"noreferrer",children:"Abrir no Maps"})}),l.jsx("p",{children:l.jsx("strong",{children:"Pedidos:"})}),l.jsx("ul",{children:je.orderIds.map(xe=>{var fn,pn,ci,nr;return l.jsxs("li",{children:["Pedido ",en(xe),"  ",((fn=At[xe])==null?void 0:fn.address)??"Endereo desconhecido",((pn=At[xe])==null?void 0:pn.deliveryPrice)!==void 0&&`  R$ ${(nr=(ci=At[xe])==null?void 0:ci.deliveryPrice)==null?void 0:nr.toFixed(2)}`]},xe)})}),l.jsxs("div",{style:{marginTop:16},children:[l.jsx("h4",{style:{margin:"0 0 8px"},children:"Visualizao no mapa"}),V&&l.jsx("p",{className:"table-subtitle",children:"Carregando localizao do restaurante..."}),!V&&Z&&er.length>0&&l.jsx(fx,{restaurant:Z,orders:er}),!V&&Z&&er.length===0&&l.jsx("p",{className:"table-subtitle",children:"Nenhum pedido com coordenadas para esta rota."}),!V&&!Z&&l.jsx("p",{className:"table-subtitle",children:"Configure o endereo do restaurante na aba Configuraes para habilitar o mapa."})]}),je.status==="AWAITING_COURIER"&&l.jsxs("div",{style:{marginTop:12,display:"flex",flexDirection:"column",gap:8},children:[l.jsx("p",{children:l.jsx("strong",{children:"Atribuir motoboy"})}),l.jsxs("select",{value:Rt,onChange:xe=>_t(xe.target.value),className:"button",disabled:Me||dn.length===0,children:[l.jsx("option",{value:"",children:"Selecione um motoboy disponvel"}),dn.map(xe=>l.jsxs("option",{value:xe.id,children:[xe.name,"  ",xe.phone]},xe.id))]}),dn.length===0&&l.jsx("p",{className:"table-subtitle",children:"Nenhum motoboy disponvel no momento."}),l.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[l.jsx("button",{className:"button button--primary",disabled:!Rt||Me,onClick:la,children:Me?"Atribuindo...":"Atribuir rota"}),l.jsx("button",{className:"button",disabled:Me||dn.length===0,onClick:ua,children:Me?"Atribuindo...":"Atribuir automaticamente"})]}),si&&l.jsx("p",{style:{color:"#b91c1c",margin:0},children:si}),ie&&l.jsx("p",{style:{color:"#15803d",margin:0},children:ie})]})]})]})},da=()=>l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Motoboys em operao"}),l.jsx("p",{className:"panel__subtitle",children:"Acompanhe disponibilidade e rotas em andamento."})]})}),v&&l.jsx(yl,{message:`Erro ao carregar motoboys: ${v}`}),l.jsx(Bv,{couriers:I,onSelectCourier:fo})]}),hn&&l.jsxs(Nh,{title:`Motoboy: ${hn.name}`,children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Telefone:"})," ",hn.phone]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Situao:"})," ",co(hn.status)]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Cdigo interno:"})," ",en(hn.id)]}),ae&&l.jsx("p",{children:"Carregando rota atual..."}),!ae&&Q&&l.jsxs("div",{children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Rota atual:"})," ",en(Q.id)," (",ui[Q.status],")"]}),Q.totalPrice!==void 0&&l.jsxs("p",{children:[l.jsx("strong",{children:"Valor total estimado:"})," R$ ",Q.totalPrice.toFixed(2)]}),l.jsx("p",{children:l.jsx("strong",{children:"Pedidos:"})}),l.jsx("ul",{children:Q.orderIds.map(M=>{var Ee,xe,fn,pn;return l.jsxs("li",{children:["Pedido ",en(M),"  ",((Ee=At[M])==null?void 0:Ee.address)??"Endereo desconhecido"," ",((xe=At[M])==null?void 0:xe.deliveryPrice)!==void 0&&`  R$ ${(pn=(fn=At[M])==null?void 0:fn.deliveryPrice)==null?void 0:pn.toFixed(2)}`]},M)})}),Q.mapsUrl&&l.jsx("p",{children:l.jsx("a",{href:Q.mapsUrl,target:"_blank",rel:"noreferrer",children:"Abrir no Maps"})})]}),!ae&&!Q&&l.jsx("p",{children:"Nenhuma rota ativa para este courier."})]}),l.jsx(yh,{couriers:I,onRefresh:x})]}),tr=()=>l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"panel",children:[l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Pedidos do turno"}),l.jsx("p",{className:"panel__subtitle",children:"Veja a fila ativa, atualize status ou abra histricos."})]})}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:l.jsxs("label",{className:"operation-bar__toggle",children:[l.jsx("input",{type:"checkbox",checked:W,onChange:M=>O(M.target.checked)}),"Exibir histrico completo"]})}),!W&&z&&l.jsxs("p",{className:"panel__subtitle",style:{marginTop:-8},children:["Mostrando apenas pedidos criados aps ",z.startedAt.toLocaleString(),"."]}),C&&l.jsx(yl,{message:`Erro ao carregar pedidos: ${C}`}),l.jsx(Dv,{orders:Dt,couriers:I})]}),l.jsx(xh,{couriers:I,onRefresh:async()=>{await E(),await x()}})]}),ha=()=>l.jsx(ky,{}),fa=()=>l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"panel settings-panel",children:l.jsx("header",{className:"panel__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Administrao"}),l.jsx("p",{className:"panel__subtitle",children:"Use as ferramentas abaixo para corrigir qualquer dado do sistema."})]})})}),l.jsx(xh,{couriers:I,onRefresh:async()=>{await E(),await x()}}),l.jsx(yh,{couriers:I,onRefresh:x}),l.jsx(Oy,{couriers:I,onRefresh:async()=>{await R(),await E(),await x()}}),l.jsx(My,{currentAdmin:e,onSelfUpdate:M=>t(M)})]}),pa=()=>l.jsx(l.Fragment,{children:l.jsx(Ty,{})}),ma=()=>l.jsx(By,{}),gt=()=>l.jsx(Vy,{});return l.jsxs(fl,{adminName:e==null?void 0:e.name,onLogout:ao,children:[l.jsx("nav",{className:"app-tabs",children:px.map(M=>l.jsxs("button",{className:oe===M.id?"app-tabs__button app-tabs__button--active":"app-tabs__button",onClick:()=>{te(M.id),A(null),he(null)},children:[l.jsx("span",{className:"app-tabs__label",children:M.label}),l.jsx("span",{className:"app-tabs__description",children:M.description})]},M.id))}),oe==="operations"&&ca(),oe==="couriers"&&da(),oe==="orders"&&tr(),oe==="pricing"&&ha(),oe==="admin"&&fa(),oe==="settings"&&pa(),oe==="reports"&&ma(),oe==="guide"&&gt(),li&&l.jsx(Zv,{orders:ra,onClose:()=>ro(!1),onCreateRoute:Bn}),oo&&l.jsx("div",{className:"close-day-modal__backdrop",role:"dialog","aria-modal":"true",children:l.jsxs("div",{className:"close-day-modal",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Encerrar turno agora?"}),l.jsx("p",{children:"Confirme se deseja arquivar os pedidos deste perodo."})]}),l.jsxs("div",{className:"close-day-modal__actions",children:[l.jsx("button",{type:"button",className:"button",onClick:()=>Dn(!1),children:"Voltar"}),l.jsx("button",{type:"button",className:"button button--primary",onClick:aa,disabled:ee,children:"Confirmar encerramento"})]})]})})]})}const ts="motoboy_token",ns="motoboy_profile";function _x(){const[e,t]=w.useState(""),[i,o]=w.useState(""),[a,u]=w.useState(null),[d,f]=w.useState(null),[p,_]=w.useState(null),[S,P]=w.useState([]),[N,j]=w.useState([]),[C,E]=w.useState(null),[I,v]=w.useState(null),[g,x]=w.useState(!1),[T,B]=w.useState(!1),[R,z]=w.useState(!1),[H,ee]=w.useState("dashboard"),Y=!!(a&&d);w.useEffect(()=>{const G=localStorage.getItem(ts),ie=localStorage.getItem(ns);if(G&&ie)try{const le=JSON.parse(ie);u(G),f(le)}catch{localStorage.removeItem(ns),localStorage.removeItem(ts)}},[]);const U=w.useCallback((G,ie)=>{localStorage.setItem(ts,G),localStorage.setItem(ns,JSON.stringify(ie))},[]),X=()=>{localStorage.removeItem(ts),localStorage.removeItem(ns)},Z=w.useCallback(async G=>{const ie=G??a;if(ie)try{const le=await ry(ie);f(le),U(ie,le)}catch(le){console.error(le)}},[a,U]),V=w.useCallback(async G=>{const ie=G??a;if(ie)try{const le=await oy(ie,5);j(le)}catch(le){console.error(le)}},[a]),oe=w.useCallback(async G=>{const ie=G??a;if(ie){B(!0);try{const le=await ty(ie);if(!le)_(null),P([]),E(null);else{const Rt=(le.orders??le.orderIds.map(_t=>({id:_t}))).map(_t=>{const cn=_t.status==="DELIVERED"?"DELIVERED":"PENDING";return{id:_t.id,address:_t.address,status:cn,price:_t.deliveryPrice}});_({...le,orders:void 0}),P(Rt),E(null)}await Promise.all([Z(ie),V(ie)])}catch(le){console.error(le),E(le instanceof Error?le.message:"No foi possvel carregar a rota.")}finally{B(!1)}}},[a,Z,V]);w.useEffect(()=>{a?(oe(),V()):(_(null),P([]),j([]))},[a,oe,V]);const te=w.useMemo(()=>S.filter(G=>G.status==="DELIVERED").length,[S]),W=w.useMemo(()=>N.reduce((G,ie)=>G+(ie.totalPrice??0),0),[N]),O=w.useMemo(()=>{const G=(d==null?void 0:d.status)??"OFFLINE";return G==="AVAILABLE"?{label:"Disponvel",description:"Aguardando novos pedidos.",tone:"available"}:G==="ASSIGNED"?{label:"Rota pendente",description:"Confirme o recebimento e inicie sua rota assim que estiver pronto.",tone:"assigned"}:G==="ON_TRIP"?{label:"Em rota",description:"Finalize todos os pedidos antes de pedir novas entregas.",tone:"ontrip"}:{label:"Offline",description:"Avise quando estiver pronto para voltar para a rua.",tone:"offline"}},[d]),q=w.useMemo(()=>p?p.status==="DONE"?"Concluda":p.status==="IN_PROGRESS"?"Em andamento":p.status==="ASSIGNED"?"Aguardando incio":"Aguardando entrega":"Nenhuma rota ativa",[p]),A=async G=>{if(G.preventDefault(),!g){x(!0),E(null),v(null);try{const{token:ie,courier:le}=await Vv(e.trim(),i.trim());u(ie),f(le),U(ie,le),t(""),o(""),await Promise.all([oe(ie),Z(ie)]),v("Login realizado com sucesso.")}catch(ie){console.error(ie),E(ie instanceof Error?ie.message:"No foi possvel fazer login. Confira seus dados.")}finally{x(!1)}}},Q=async()=>{if(E(null),v(null),a)try{await iy(a)}catch(G){console.warn("Falha ao notificar logout do motoboy, prosseguindo mesmo assim.",G)}X(),u(null),f(null),_(null),P([]),t(""),o(""),ee("dashboard"),v("Sesso encerrada.")},ce=async()=>{if(a){z(!0),E(null),v(null);try{const G=await ny(a);f(G),U(a,G),await Promise.all([oe(a),Z(a)]),v("Disponibilidade atualizada! Vamos te chamar assim que surgir uma rota.")}catch(G){console.error(G),E(G instanceof Error?G.message:"No foi possvel atualizar sua disponibilidade.")}finally{z(!1)}}},ye=async()=>{a&&(await oe(a),v("Rota atualizada."))},he=async G=>{if(a){z(!0),E(null),v(null);try{await Jv(a,G),P(ie=>ie.map(le=>le.id===G?{...le,status:"DELIVERED"}:le)),await oe(a),v("Pedido entregue! Conferindo se ainda h paradas.")}catch(ie){console.error(ie),E(ie instanceof Error?ie.message:"No foi possvel marcar o pedido como entregue.")}finally{z(!1)}}},ae=async()=>{if(!(!a||!p)){z(!0),E(null),v(null);try{if(await uy(a,p.id),d){const G={...d,status:"ON_TRIP"};f(G),U(a,G)}await oe(a),v("Rota iniciada! Boa entrega.")}catch(G){console.error(G),E(G instanceof Error?G.message:"No foi possvel iniciar a rota.")}finally{z(!1)}}},ne=()=>l.jsx("div",{className:"motoboy-shell",children:l.jsxs("div",{className:"motoboy-panel",children:[l.jsx("div",{className:"motoboy-logo",children:""}),l.jsx("h1",{className:"motoboy-title",children:"rea do Motoboy"}),l.jsx("p",{className:"motoboy-subtitle",children:"Acesse com seu telefone e PIN para ver a rota."}),l.jsxs("ul",{className:"motoboy-steps",children:[l.jsx("li",{children:" Informe o telefone cadastrado"}),l.jsx("li",{children:" Digite seu PIN de 4 dgitos"}),l.jsx("li",{children:" Veja sua rota e confirme as entregas"})]}),l.jsxs("form",{className:"motoboy-form",onSubmit:A,children:[l.jsx("label",{className:"motoboy-label",htmlFor:"phone",children:"Telefone"}),l.jsx("input",{id:"phone",type:"tel",inputMode:"tel",className:"motoboy-input",placeholder:"DDD + nmero",value:e,onChange:G=>t(G.target.value),required:!0}),l.jsx("label",{className:"motoboy-label",htmlFor:"pin",children:"PIN"}),l.jsx("input",{id:"pin",type:"password",className:"motoboy-input",placeholder:"****",value:i,onChange:G=>o(G.target.value),required:!0}),C&&l.jsx("p",{className:"motoboy-error",children:C}),l.jsx("button",{type:"submit",className:"motoboy-button",disabled:g,children:g?"Entrando...":"Entrar"})]})]})}),Me=()=>p?T?l.jsx("p",{className:"motoboy-subtitle",children:"Carregando pedidos..."}):S.length===0?l.jsx("p",{className:"motoboy-subtitle",children:"Nenhum pedido atribudo a esta rota."}):l.jsx("div",{className:"motoboy-timeline",children:S.map((G,ie)=>l.jsxs("div",{className:"motoboy-stop",children:[l.jsx("div",{className:"motoboy-stop__line","aria-hidden":!0}),l.jsx("div",{className:"motoboy-stop__badge",children:ie+1}),l.jsxs("div",{className:"motoboy-stop__content",children:[l.jsxs("div",{className:"motoboy-stop__header",children:[l.jsx("p",{className:"motoboy-card__title",children:G.address}),l.jsx("span",{className:`motoboy-status ${G.status==="DELIVERED"?"motoboy-status--success":"motoboy-status--pending"}`,children:G.status==="DELIVERED"?"Entregue":"Pendente"})]}),l.jsxs("p",{className:"motoboy-card__subtitle",children:["Cdigo interno: ",G.id.slice(0,6).toUpperCase()]}),G.price!==void 0&&l.jsxs("p",{className:"motoboy-card__subtitle",children:["Pagamento previsto: R$ ",G.price.toFixed(2)]}),l.jsx("button",{className:"motoboy-button motoboy-button--ghost",disabled:G.status==="DELIVERED"||R,onClick:()=>he(G.id),children:"Marcar como entregue"})]})]},G.id))}):l.jsx("p",{className:"motoboy-subtitle",children:"Nenhuma rota ativa no momento."}),Xe=()=>l.jsxs("section",{className:"motoboy-section",children:[l.jsxs("div",{className:"motoboy-section__header",children:[l.jsxs("div",{children:[l.jsx("p",{className:"motoboy-eyebrow",children:"Histrico de rotas"}),l.jsx("h3",{className:"motoboy-section__title",children:"Seus ganhos recentes"}),l.jsx("p",{className:"motoboy-card__subtitle",children:"Veja quanto entregou por rota. Em breve abriremos filtros por perodo e turno."})]}),N.length>0&&l.jsxs("div",{className:"motoboy-history__total",children:[l.jsxs("span",{children:["Total ltimos ",N.length," registros:"]}),l.jsxs("strong",{children:["R$ ",W.toFixed(2)]})]})]}),N.length===0?l.jsx("p",{className:"motoboy-subtitle",children:"Nada por aqui ainda. Finalize rotas para consultar depois."}):l.jsx("div",{className:"motoboy-history motoboy-history--page",children:N.map(G=>l.jsxs("div",{className:"motoboy-history__card",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"motoboy-card__title",children:["Rota ",G.id.slice(0,6)]}),l.jsxs("p",{className:"motoboy-card__subtitle",children:[new Date(G.createdAt).toLocaleDateString(),"  ",G.orderCount," paradas"]})]}),l.jsxs("div",{className:"motoboy-history__meta",children:[l.jsxs("span",{children:["Status: ",G.status==="DONE"?"Concluda":"---"]}),l.jsxs("span",{children:["Ganhos: R$ ",G.totalPrice.toFixed(2)]})]})]},G.id))})]});return Y?l.jsxs("div",{className:"motoboy-shell motoboy-shell--logged",children:[l.jsxs("header",{className:"motoboy-topbar",children:[l.jsxs("div",{children:[l.jsx("p",{className:"motoboy-eyebrow",children:"rea do Motoboy"}),l.jsxs("h1",{className:"motoboy-title",children:["Ol, ",(d==null?void 0:d.name)??"Motoboy"]}),l.jsx("p",{className:"motoboy-subtitle",children:d==null?void 0:d.phone}),l.jsxs("div",{className:"motoboy-topbar__status",children:[l.jsx("span",{className:`motoboy-chip motoboy-chip--${O.tone}`,children:O.label}),l.jsx("p",{className:"motoboy-status-text",children:O.description})]})]}),l.jsx("div",{className:"motoboy-topbar__actions",children:l.jsx("button",{className:"motoboy-link",onClick:Q,type:"button",children:"Sair"})})]}),C&&l.jsx("p",{className:"motoboy-error",children:C}),I&&!C&&l.jsx("p",{className:"motoboy-info",children:I}),l.jsxs("nav",{className:"motoboy-tabs",children:[l.jsx("button",{type:"button",className:`motoboy-tab ${H==="dashboard"?"motoboy-tab--active":""}`,onClick:()=>ee("dashboard"),children:" Rota atual"}),l.jsx("button",{type:"button",className:`motoboy-tab ${H==="history"?"motoboy-tab--active":""}`,onClick:()=>ee("history"),children:" Histrico"})]}),H==="dashboard"?l.jsxs(l.Fragment,{children:[l.jsx("section",{className:"motoboy-hero",children:l.jsxs("div",{className:"motoboy-hero__grid",children:[l.jsxs("div",{children:[l.jsx("p",{className:"motoboy-eyebrow",children:"Rota atual"}),p?l.jsxs(l.Fragment,{children:[l.jsxs("h2",{className:"motoboy-hero__title",children:["Rota ",p.id.slice(0,6)]}),l.jsxs("p",{className:"motoboy-hero__meta",children:["Status: ",l.jsx("strong",{children:q}),"  ",te,"/",S.length," entregues"]}),p.totalPrice!==void 0&&l.jsxs("p",{className:"motoboy-hero__meta",children:["Valor previsto da rota: R$ ",p.totalPrice.toFixed(2)]}),l.jsx("div",{className:"motoboy-progress",children:l.jsx("div",{className:"motoboy-progress__bar",style:{width:`${S.length?Math.round(te/S.length*100):0}%`}})}),l.jsxs("div",{className:"motoboy-hero__actions",children:[p.status==="ASSIGNED"&&l.jsx("button",{className:"motoboy-button",type:"button",onClick:ae,disabled:R,children:R?"Iniciando...":"Iniciar rota"}),l.jsx("button",{className:"motoboy-button motoboy-button--ghost",type:"button",onClick:ye,disabled:T,children:T?"Atualizando...":"Recarregar rota"})]}),p.status==="ASSIGNED"&&l.jsx("p",{className:"motoboy-hint",children:"Toque em Iniciar rota quando estiver pronto para sair."})]}):l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"motoboy-hero__title",children:"Sem rota ativa"}),l.jsx("p",{className:"motoboy-hero__meta",children:"Assim que voc ficar disponvel, vamos atribuir novos pedidos automaticamente."}),l.jsx("div",{className:"motoboy-hero__actions",children:l.jsx("button",{className:"motoboy-button",type:"button",onClick:ce,disabled:R||(d==null?void 0:d.status)!=="OFFLINE",children:"Avisar que estou disponvel"})})]})]}),p&&p.mapsUrl&&l.jsxs("div",{className:"motoboy-map-card",children:[l.jsx("p",{className:"motoboy-eyebrow",children:"Mapa rpido"}),l.jsx("p",{className:"motoboy-card__subtitle",children:"Visualize as paradas no mapa"}),l.jsx("a",{className:"motoboy-button",href:p.mapsUrl,target:"_blank",rel:"noreferrer",children:"Abrir no Google Maps"})]})]})}),l.jsxs("section",{className:"motoboy-section",children:[l.jsx("div",{className:"motoboy-section__header",children:l.jsxs("div",{children:[l.jsx("p",{className:"motoboy-eyebrow",children:"Pedidos da rota"}),l.jsx("h3",{className:"motoboy-section__title",children:"Entregas"})]})}),Me()]})]}):Xe()]}):ne()}const Yp=document.getElementById("root");if(!Yp)throw new Error("Root element not found");const gx=window.location.pathname.startsWith("/motoboy");xl.createRoot(Yp).render(l.jsx(ms.StrictMode,{children:gx?l.jsx(_x,{}):l.jsx(mx,{})}));
